import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BimCuNlJ.js";import"./chunks/@vueuse/motion.DU-xywca.js";import{e as F,u as g,a as u}from"./chunks/vue-router.DBH2nt6U.js";import{X as y,b_ as l,be as t,_ as s,a5 as i,Y as E,bB as m,b3 as b,b5 as C}from"./framework.jNhEyyjH.js";import"./app.DGC-pAIz.js";import"./chunks/dayjs.CjxPwwjX.js";import"./chunks/vue-i18n.0CjnfSQt.js";import"./chunks/pinia.B98lDgm0.js";/* empty css                    */import"./chunks/nprogress.BAtNyfm-.js";import"./YunComment.vue_vue_type_style_index_0_lang.C621NGXP.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.Cj2pgZcY.js";import"./post.CZJAL2Lx.js";const B=F("/posts/小米BE6500开SSH开机自启固化和安装ShellCrash开启全家代理",async h=>JSON.parse('{"title":"小米BE6500开SSH,开机自启,固化和安装ShellCrash开启全家代理，配置IPV6外网访问","description":"","frontmatter":{"hide":false,"title":"小米BE6500开SSH,开机自启,固化和安装ShellCrash开启全家代理，配置IPV6外网访问","date":"2025-10-2","updated":"2025-10-4","categories":"搞机日志","cover":"https://cdn.jsdelivr.net/gh/Zero-wyc/Image@main/myself/20251004231711657.webp","tags":["搞机日志","硬件","Linux"]},"headers":[],"relativePath":"pages/posts/小米BE6500开SSH开机自启固化和安装ShellCrash开启全家代理.md","lastUpdated":1762017415000}'),{lazy:(h,e)=>h.name===e.name}),N={__name:"小米BE6500开SSH开机自启固化和安装ShellCrash开启全家代理",setup(h,{expose:e}){const{data:k}=B(),d=u(),p=g(),n=Object.assign(p.meta.frontmatter||{},k.value?.frontmatter||{});return d.currentRoute.value.data=k.value,C("valaxy:frontmatter",n),globalThis.$frontmatter=n,e({frontmatter:{hide:!1,title:"小米BE6500开SSH,开机自启,固化和安装ShellCrash开启全家代理，配置IPV6外网访问",date:"2025-10-2",updated:"2025-10-4",categories:"搞机日志",cover:"https://cdn.jsdelivr.net/gh/Zero-wyc/Image@main/myself/20251004231711657.webp",tags:["搞机日志","硬件","Linux"]}}),(a,r)=>{const o=c;return b(),y(o,{frontmatter:m(n)},{"main-content-md":l(()=>[...r[0]||(r[0]=[s("blockquote",null,[s("p",null,[i("难蚌的预埋5类线，让我痛斥多年 光纤伟大，无需多言 顺带在这牵了光纤的时刻购入一台小米BE6500"),E(" more "),i(" 也开下ssh")])],-1),s("hr",null,null,-1),s("p",null,"==顺带提一嘴，lucky里的Web服务里的域名不要绑定到一个ipv6域名加端口，不要问我为什么，问就是2天的痛==",-1),s("h4",{id:"配到最后-最终还是重置几回-shellclash交给nas做单臂路由-be6500只留下lucky-毕竟性能摆在那-而且还要做主路由的-总不能-all-in-boom-吧",tabindex:"-1"},[i("配到最后，最终还是重置几回，Shellclash交给NAS做单臂路由，BE6500只留下Lucky，毕竟性能摆在那，而且还要做主路由的，总不能==ALL IN BOOM==吧？ "),s("a",{class:"header-anchor",href:"#配到最后-最终还是重置几回-shellclash交给nas做单臂路由-be6500只留下lucky-毕竟性能摆在那-而且还要做主路由的-总不能-all-in-boom-吧","aria-label":'Permalink to "配到最后，最终还是重置几回，Shellclash交给NAS做单臂路由，BE6500只留下Lucky，毕竟性能摆在那，而且还要做主路由的，总不能==ALL IN BOOM==吧？"'},"​")],-1),s("h4",{id:"tm的我是真觉得米家做的有问题-路由器改成192-168-1-1来分配dhcp-只要改过就绑不了米家-不论改ssh密码-root密码-米家都死活绑不上了艹-pppoe拨号要指定wan口才能拨号上网-甚至使用5g频段的wifi都绑不了-害我研究好久",tabindex:"-1"},[i("TM的我是真觉得米家做的有问题，路由器改成192.168.1.1来分配DHCP（只要改过就绑不了米家），不论改SSH密码，root密码，米家都死活绑不上了艹，PPPOE拨号要指定Wan口才能拨号上网，甚至使用5G频段的Wifi都绑不了，害我研究好久 "),s("a",{class:"header-anchor",href:"#tm的我是真觉得米家做的有问题-路由器改成192-168-1-1来分配dhcp-只要改过就绑不了米家-不论改ssh密码-root密码-米家都死活绑不上了艹-pppoe拨号要指定wan口才能拨号上网-甚至使用5g频段的wifi都绑不了-害我研究好久","aria-label":'Permalink to "TM的我是真觉得米家做的有问题，路由器改成192.168.1.1来分配DHCP（只要改过就绑不了米家），不论改SSH密码，root密码，米家都死活绑不上了艹，PPPOE拨号要指定Wan口才能拨号上网，甚至使用5G频段的Wifi都绑不了，害我研究好久"'},"​")],-1),s("h3",{id:"结案-啥也不动了-lucky和shellclash都给nas了-好好当个主路由吧",tabindex:"-1"},[i("结案，啥也不动了，lucky和ShellClash都给NAS了，好好当个主路由吧 "),s("a",{class:"header-anchor",href:"#结案-啥也不动了-lucky和shellclash都给nas了-好好当个主路由吧","aria-label":'Permalink to "结案，啥也不动了，lucky和ShellClash都给NAS了，好好当个主路由吧"'},"​")],-1),s("h3",{id:"cnm-xiaomi",tabindex:"-1"},[i("CNM XIAOMI "),s("a",{class:"header-anchor",href:"#cnm-xiaomi","aria-label":'Permalink to "CNM XIAOMI"'},"​")],-1),s("hr",null,null,-1),s("ol",null,[s("li",null,[s("h4",{id:"暂时开启ssh",tabindex:"-1"},[i("暂时开启SSH "),s("a",{class:"header-anchor",href:"#暂时开启ssh","aria-label":'Permalink to "暂时开启SSH"'},"​")]),s("ul",null,[s("li",null,[s("h4",{id:"先登录系统-chrome-浏览器上面的地址栏可以看到-stok-变量",tabindex:"-1"},[i("先登录系统，Chrome 浏览器上面的地址栏可以看到 Stok 变量 "),s("a",{class:"header-anchor",href:"#先登录系统-chrome-浏览器上面的地址栏可以看到-stok-变量","aria-label":'Permalink to "先登录系统，Chrome 浏览器上面的地址栏可以看到 Stok 变量"'},"​")])]),s("li",null,[s("h4",{id:"然后打开-cmd-依次输入以下代码-小米路由器解锁-ssh-命令-stok-整体替换为你浏览器地址栏看到的数值-stok-数值每次重启后都会更改",tabindex:"-1"},[i("然后打开 cmd，依次输入以下代码，小米路由器解锁 SSH 命令：（"),s("code",null,"<STOK>"),i(" 整体替换为你浏览器地址栏看到的数值，"),s("code",null,"<STOK>"),i("数值每次重启后都会更改） "),s("a",{class:"header-anchor",href:"#然后打开-cmd-依次输入以下代码-小米路由器解锁-ssh-命令-stok-整体替换为你浏览器地址栏看到的数值-stok-数值每次重启后都会更改","aria-label":'Permalink to "然后打开 cmd，依次输入以下代码，小米路由器解锁 SSH 命令：（`<STOK>` 整体替换为你浏览器地址栏看到的数值，`<STOK>`数值每次重启后都会更改）"'},"​")])])])])],-1),s("div",{class:"language-cmd"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"cmd"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok={STOK}/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Anvram%20set%20ssh_en%3D1'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok={STOK}/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Anvram%20commit'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok={STOK}/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Ased%20-i%20's%2Fchannel%3D.*%2Fchannel%3D%22debug%22%2Fg'%20%2Fetc%2Finit.d%2Fdropbear'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok={STOK}/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0A%2Fetc%2Finit.d%2Fdropbear%20start'"`)])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("p",null,"这里附上我自己的例子（自己改过路由地址）",-1),s("div",{class:"language-cmd"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"cmd"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok=c871f402bd1ec23c01199c60eb4ab5d0/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Anvram%20set%20ssh_en%3D1'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok=c871f402bd1ec23c01199c60eb4ab5d0/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Anvram%20commit'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok=c871f402bd1ec23c01199c60eb4ab5d0/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0Ased%20-i%20's%2Fchannel%3D.*%2Fchannel%3D%22debug%22%2Fg'%20%2Fetc%2Finit.d%2Fdropbear'"`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"curl "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"X POST "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"http://192.168.31.1/cgi-bin/luci/;stok=c871f402bd1ec23c01199c60eb4ab5d0/api/xqsystem/start_binding"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"d  "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`"uid=1234&key=1234'%0A%2Fetc%2Finit.d%2Fdropbear%20start'"`)])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("ul",null,[s("li",null,"ssh 即可打开，但是重启后就会失效"),s("li",null,"ssh 密码自己算号下"),s("li",null,[i("在 "),s("a",{href:"https://miwifi.dev/ssh",target:"_blank",rel:"noreferrer"},"https://miwifi.dev/ssh"),i(" 输入路由器的SN可以得到SSH密码，SN可以看路由器屁股，也可以进小米路由器后台看")])],-1),s("ol",{start:"2"},[s("li",null,[s("h4",{id:"自动开启ssh",tabindex:"-1"},[i("自动开启SSH "),s("a",{class:"header-anchor",href:"#自动开启ssh","aria-label":'Permalink to "自动开启SSH"'},"​")]),s("ul",null,[s("li",null,[s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mkdir"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /data/auto_ssh")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /data/auto_ssh")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"curl"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -O"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://fastly.jsdelivr.net/gh/lemoeo/AX6S@main/auto_ssh.sh")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"chmod"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," +x"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," auto_ssh.sh")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"./auto_ssh.sh"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install")])])]),s("button",{class:"code-block-unfold-btn"})])])])]),s("li",null,[s("h4",{id:"固化ssh-在每次升级后都保留ssh",tabindex:"-1"},[i("固化SSH（在每次升级后都保留SSH） "),s("a",{class:"header-anchor",href:"#固化ssh-在每次升级后都保留ssh","aria-label":'Permalink to "固化SSH（在每次升级后都保留SSH）"'},"​")]),s("ol",null,[s("li",null,[s("p",null,"用 SSH 工具登录路由器后分别执行以下指令"),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"zz"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$("),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"dd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," if=/dev/zero"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," bs="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," count="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," 2>"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/dev/null"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ; "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"printf"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '\\xA5\\x5A%c%c'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $zz $zz "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," mtd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," write"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," -"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," crash")])])]),s("button",{class:"code-block-unfold-btn"})])])])]),s("li",null,[s("p",null,"执行指令"),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   nvram"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ssh_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   nvram"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," telnet_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   nvram"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," uart_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   nvram"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," boot_wait=on")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   nvram"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," commit")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   bdata"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ssh_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   bdata"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," telnet_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   bdata"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," uart_en="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   bdata"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," set"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," boot_wait=on")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"   bdata"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," commit")])])]),s("button",{class:"code-block-unfold-btn"})]),s("ol",{start:"3"},[s("li",null,[s("p",null,"执行指令后路由器会重启，重启后固化完成"),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"})])]),s("button",{class:"code-block-unfold-btn"})])])]),s("p",null,"mtd erase crash reboot"),s("div",{class:"language-"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span")])])]),s("button",{class:"code-block-unfold-btn"})])]),s("li",null,[s("h4",{id:"安装shellcrash",tabindex:"-1"},[i("安装ShellCrash "),s("a",{class:"header-anchor",href:"#安装shellcrash","aria-label":'Permalink to "安装ShellCrash"'},"​")]),s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#jsDelivrCDN源")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," url"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'https://fastly.jsdelivr.net/gh/juewuy/ShellCrash@master'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -c"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "$('),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"curl"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -kfsSl"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," $url"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'/install.sh)"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," && "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /etc/profile"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," &"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," /dev/null")])])]),s("button",{class:"code-block-unfold-btn"})]),s("ol",null,[s("li",null,[i("安装ShellCrash网页面板，在SSH中输入clash，按下9然后按下4，进入安装面板界面，推荐安装zashboard，安装完成后进入"),s("code",null,"路由器ip:9999/ui"),i("访问export url='"),s("a",{href:"https://fastly.jsdelivr.net/gh/juewuy/ShellCrash@master",target:"_blank",rel:"noreferrer"},"https://fastly.jsdelivr.net/gh/juewuy/ShellCrash@master"),i(`' && sh -c "$(curl -kfsSl $url/install.sh)" && source /etc/profile &> /dev/null`)])])]),s("li",null,[s("p",null,"配置IPV6外网访问 （可能因为固件更新原因，在更新后就不需要这个操作了）"),s("ol",null,[s("li",null,[s("blockquote",null,[s("p",null,"BYD 小米开启IPV6后只提供外网Ping的服务，使得你以为你能在外网访问实则不行，又因为小米的系统是由OpenWRT 修改而来，所以放行端口的方式类似原版 OpenWRT,比较好配置~上天给你关了门，却给你了个窗户，这或许就是小米的浪漫~")])]),s("li",null,[s("p",null,"使用 Vim 修改防火墙配置文件：")]),s("li",null,[s("p",null,[i("使用 Vim 修改防火墙配置文件："),s("code",null,"vim /etc/config/firewall")])]),s("li",null,[s("p",null,[i("将文件中"),s("code",null,"defaults"),i(" 闭包下 "),s("code",null,"disable_ipv6"),i(" 的值改为 "),s("code",null,"0"),i("，"),s("code",null,"zone"),i(" 闭包下 "),s("code",null,"forward"),i(" 的值改为 "),s("code",null,"ACCEPT")]),s("ol",null,[s("li",null,[s("img",{src:"https://cdn.jsdelivr.net/gh/Zero-wyc/Image@main/myself/20251003200004829.webp",alt:"img",loading:"lazy",decoding:"async"})])])]),s("li",null,[s("p",null,[i("在原有的"),s("code",null,"Rule"),i(" 中添加一个闭包，允许IPv6外网访问路由器下游设备")]),s("ol",null,[s("li",null,[s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  config"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," rule"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"                   ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    option"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," name"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'Allow-IPv6'")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    option"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," target"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'ACCEPT'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    option"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," family"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'ipv6'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    list"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," proto"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'all'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    option"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," src"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '*'"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    option"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dest"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '*'")])])]),s("button",{class:"code-block-unfold-btn"})])]),s("li",null,[s("figure",null,[s("img",{src:"https://cdn.jsdelivr.net/gh/Zero-wyc/Image@main/myself/20251003200017955.webp",alt:"img",loading:"lazy",decoding:"async"})])]),s("li",null,[s("p",null,"修改完毕，保存文件并退出修改")]),s("li",null,[s("p",null,"路由器配置界面记得选择自动/Native"),s("figure",null,[s("img",{src:"https://cdn.jsdelivr.net/gh/Zero-wyc/Image@main/myself/20251003204230389.webp",alt:"image-20251003204230278",loading:"lazy",decoding:"async"})])])])]),s("li",null,[s("p",null,"终端执行命令，重启路由器防火墙："),s("ol",null,[s("li",null,[s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"/etc/init.d/firewall"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," restart")])])]),s("button",{class:"code-block-unfold-btn"})])])]),s("ul",null,[s("li",null,[s("p",null,"安装lucky配置DDNS"),s("ul",null,[s("li",null,[s("div",{class:"language-"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,'URL="http://release.66666.host"; curl -o /tmp/install.sh "$URL/install.sh" && sh /tmp/install.sh "$URL"')])])]),s("button",{class:"code-block-unfold-btn"})])])])])]),s("hr"),s("p",null,"引用链接："),s("p",null,[i("["),s("a",{href:"https://www.cnblogs.com/wx2020/p/16028098.html",target:"_blank",rel:"noreferrer"},"Redmi AC2100 路由器 官方固件允许IPv6外网访问下游设备"),i("]("),s("a",{href:"https://www.cnblogs.com/wx2020/p/16028098.html",target:"_blank",rel:"noreferrer"},"https://www.cnblogs.com/wx2020/p/16028098.html"),i(")")]),s("p",null,[i("["),s("a",{href:"https://dragonfly.fun/code/miwifi.html",target:"_blank",rel:"noreferrer"},"小米AX3000开启SSH 暴露IPV6公网IP"),i("]("),s("a",{href:"https://dragonfly.fun/code/miwifi.html",target:"_blank",rel:"noreferrer"},"https://dragonfly.fun/code/miwifi.html"),i(")")])])])])],-1)])]),"main-header":l(()=>[t(a.$slots,"main-header")]),"main-header-after":l(()=>[t(a.$slots,"main-header-after")]),"main-nav":l(()=>[t(a.$slots,"main-nav")]),"main-content-before":l(()=>[t(a.$slots,"main-content-before")]),"main-content":l(()=>[t(a.$slots,"main-content")]),"main-content-after":l(()=>[t(a.$slots,"main-content-after")]),"main-nav-before":l(()=>[t(a.$slots,"main-nav-before")]),"main-nav-after":l(()=>[t(a.$slots,"main-nav-after")]),comment:l(()=>[t(a.$slots,"comment")]),footer:l(()=>[t(a.$slots,"footer")]),aside:l(()=>[t(a.$slots,"aside")]),"aside-custom":l(()=>[t(a.$slots,"aside-custom")]),default:l(()=>[t(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{N as default,B as usePageData};
