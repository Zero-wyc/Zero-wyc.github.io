const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/view-transition.IkvUpX_n.css","assets/404.IhRBxp3o.js","assets/chunks/@vueuse/motion.DU-xywca.js","assets/framework.jNhEyyjH.js","assets/back.DsRip4Sz.js","assets/chunks/vue-router.DBH2nt6U.js","assets/chunks/dayjs.CjxPwwjX.js","assets/chunks/vue-i18n.0CjnfSQt.js","assets/chunks/pinia.B98lDgm0.js","assets/chunks/nprogress.BAtNyfm-.js","assets/404.BVla_BTh.css","assets/group-icons.CgBw7E7l.css","assets/empty.BY0axmWq.js","assets/post.wTVkNMzF.js","assets/404.pA0zMRpY.js","assets/404.bv7ttf42.css","assets/albums.CkPZCf3k.js","assets/index.BkP0XHvr.js","assets/animation.BV_tkawq.js","assets/YunPageHeader.vue_vue_type_script_setup_true_lang.Cj2pgZcY.js","assets/albums.B673jvUl.css","assets/archives.BysoaBei.js","assets/YunPostCollapse.vue_vue_type_style_index_0_lang.CfJoIynR.js","assets/YunPostCollapse.CLDXGmA8.css","assets/categories.CUIx8oJ-.js","assets/animation.DZCaI5rQ.js","assets/index.BRXJGymZ.js","assets/collection.CheazOtT.js","assets/YunMainHeaderAfter.vue_vue_type_script_setup_true_lang.ujaBSzS6.js","assets/YunSponsor.vue_vue_type_style_index_0_lang.CXc2qMs2.js","assets/YunSponsor.C_Stm1eH.css","assets/YunPostMeta.vue_vue_type_style_index_0_lang.BoDsH22W.js","assets/YunPostMeta.DCrVMfuT.css","assets/YunMainHeaderAfter.DDxwAI70.css","assets/collections.DN8xo0-A.js","assets/collection.u2WPBS1T.css","assets/collections.BCVsbdQN.js","assets/gallery.owFA_kHi.js","assets/gallery.ByvBR6k6.css","assets/home.31muPf_z.js","assets/home.Dv2LDhuI.css","assets/post.BoWWGQm4.js","assets/posts.ChmFU_Tk.js","assets/YunPostList.vue_vue_type_script_setup_true_lang.CGPO390u.js","assets/post.CZJAL2Lx.js","assets/YunPostList.B6MDJXTW.css","assets/projects.CiEANI6p.js","assets/YunComment.vue_vue_type_style_index_0_lang.C621NGXP.js","assets/YunComment.m2-YQJ4D.css","assets/projects.CjMVTJnt.css","assets/tags.CdD7ajrk.js","assets/animation-in.BI4ri2UH.css","assets/index.Da8oqOFy.js","assets/Live2DApp.BT8YPmOd.js","assets/YunAlgoliaSearch.CUEuasrA.js"])))=>i.map(i=>d[i]);
import{by as ke,aF as _d,as as bd,aA as xd,bb as Ee,bW as Ey,aT as dx,aV as fx,aR as px,al as fn,aS as mx,bp as Je,U as K,bB as j,bw as gx,ba as Td,a7 as yx,aX as Zt,aN as wo,b0 as Tn,bV as Ze,am as vx,a_ as _x,b9 as Ku,c5 as nt,b1 as bx,c6 as Vr,bf as Ut,X as Te,b3 as z,Z as Y,a4 as xx,a9 as ge,Y as de,_ as X,be as Mt,bt as Ie,a5 as Kn,F as et,aO as He,b as Tx,aQ as as,b_ as Ge,bd as Vs,c0 as Ao,a6 as ce,bS as wd,H as Pi,aM as pn,W as Cy,bh as wx,c3 as Ax,bR as Sx,a8 as Ex,bg as Cx,b7 as Px,b4 as Rx,c4 as Ix,c1 as kx,aP as Lx,ap as Mx,aq as Dx}from"./framework.jNhEyyjH.js";import{u as Tr,a as xl,R as Ox,c as Bx,b as Fx,r as Ad,D as Nx}from"./chunks/vue-router.DBH2nt6U.js";import{d as Py,c as Ry,u as $x,i as Tl,a as Aa,b as oc,e as Ux,f as Of,t as jx,g as zx,h as Hx,j as Gx,k as Ju,l as Vx,o as Wx,M as Xx}from"./chunks/@vueuse/motion.DU-xywca.js";import{d as $s,r as Yx,t as qx,u as Zx,g as Sd,c as Xa,a as Kx}from"./chunks/dayjs.CjxPwwjX.js";import{u as Rt,c as Jx}from"./chunks/vue-i18n.0CjnfSQt.js";import{c as Qx,d as wl,i as e1}from"./chunks/pinia.B98lDgm0.js";/* empty css                    */import{i as t1}from"./chunks/nprogress.BAtNyfm-.js";function r1(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in r)){const n=Object.getOwnPropertyDescriptor(s,i);n&&Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const Ed="virtual:valaxy-addons:empty",Iy=Ed;function ky(r){return r&&r.name===Ed}const s1={name:Iy},i1=Object.freeze(Object.defineProperty({__proto__:null,default:s1,emptyAddonName:Ed,isEmptyAddon:ky,name:Iy},Symbol.toStringTag,{value:"Module"})),n1=new Set(["link","style","script","noscript"]),o1=new Set(["title","titleTemplate","script","style","noscript"]),Bf=new Set(["base","meta","link","style","script","noscript"]),a1=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),l1=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),c1=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),u1=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Cd=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),ao={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},h1={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},Ly={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:r,value:e})=>`${ts(r)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:r,value:e})=>r==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:r,value:e})=>typeof e=="boolean"?ts(r):`${ts(r)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:r,value:e})=>`${ts(r)} ${e}`}},charset:{}};function ts(r){const e=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.indexOf("-");return t===-1?e:ao.META.has(e.slice(0,t))||ao.OG.has(e.slice(0,t))?r.replace(/([A-Z])/g,":$1").toLowerCase():e}function My(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>String(t)!=="false"&&e))}function Qu(r){return Array.isArray(r)?r.map(Qu):!r||typeof r!="object"?r:Object.fromEntries(Object.entries(r).map(([e,t])=>[ts(e),Qu(t)]))}function Dy(r,e={}){const{entrySeparator:t="",keyValueSeparator:s="",wrapValue:i,resolve:n}=e;return Object.entries(r).map(([o,a])=>{if(n){const c=n({key:o,value:a});if(c!==void 0)return c}const l=typeof a=="object"?Dy(a,e):typeof a=="number"?a.toString():typeof a=="string"&&i?`${i}${a.replace(new RegExp(i,"g"),`\\${i}`)}${i}`:a;return`${o}${s}${l}`}).join(t)}function Ff(r,e){const t=My(e),s=ts(r),i=Oy(s);if(!Cd.has(s))return[{[i]:s,...t}];const n=Object.fromEntries(Object.entries(t).map(([o,a])=>[`${r}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return Ya(n||{}).sort((o,a)=>(o[i]?.length||0)-(a[i]?.length||0))}function Oy(r){if(Ly[r]?.metaKey==="http-equiv"||ao.HTTP_EQUIV.has(r))return"http-equiv";const e=ts(r),t=e.indexOf(":");return t===-1?"name":ao.OG.has(e.slice(0,t))?"property":"name"}function d1(r){return h1[r]||ts(r)}function f1(r,e){return e==="refresh"?`${r.seconds};url=${r.url}`:Dy(Qu(r),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:t,key:s})=>t===null?"":typeof t=="boolean"?s:void 0,...Ly[e]?.unpack})}function Ya(r){const e=[],t={};for(const[i,n]of Object.entries(r)){if(Array.isArray(n)){if(i==="themeColor"){n.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of n)if(typeof o=="object"&&o!==null){const a=[],l=[];for(const[c,u]of Object.entries(o)){const h=`${i}${c==="url"?"":`:${c}`}`,d=Ya({[h]:u});(c==="url"?a:l).push(...d)}e.push(...a,...l)}else e.push(...typeof o=="string"?Ya({[i]:o}):Ff(i,o));continue}if(typeof n=="object"&&n)if(ao.MEDIA.has(i)){const o=i.startsWith("twitter")?"twitter":"og",a=i.replace(/^(og|twitter)/,"").toLowerCase(),l=o==="twitter"?"name":"property";n.url&&e.push({[l]:`${o}:${a}`,content:n.url}),n.secureUrl&&e.push({[l]:`${o}:${a}:secure_url`,content:n.secureUrl});for(const[c,u]of Object.entries(n))c!=="url"&&c!=="secureUrl"&&e.push({[l]:`${o}:${a}:${c}`,content:u})}else Cd.has(ts(i))?e.push(...Ff(i,n)):t[i]=My(n);else t[i]=n}const s=Object.entries(t).map(([i,n])=>{if(i==="charset")return{charset:n===null?"_null":n};const o=Oy(i),a=d1(i),l=n===null?"_null":typeof n=="object"?f1(n,i):typeof n=="number"?n.toString():n;return o==="http-equiv"?{"http-equiv":a,content:l}:{[o]:a,content:l}});return[...e,...s].map(i=>"content"in i&&i.content==="_null"?{...i,content:null}:i)}const p1={key:"flatMeta",hooks:{"entries:normalize":r=>{const e=[];r.tags=r.tags.map(t=>t.tag!=="_flatMeta"?t:(e.push(Ya(t.props).map(s=>({...t,tag:"meta",props:s}))),!1)).filter(Boolean).concat(...e)}}},Nf=(r,e)=>r._w===e._w?r._p-e._p:r._w-e._w,$f={base:-10,title:10},m1={critical:-8,high:-1,low:2},Uf={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},g1=/@import/,Ln=r=>r===""||r===!0;function y1(r,e){if(typeof e.tagPriority=="number")return e.tagPriority;let t=100;const s=m1[e.tagPriority]||0,i=r.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Uf;if(e.tag in $f)t=$f[e.tag];else if(e.tag==="meta"){const n=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;n&&(t=Uf.meta[n])}else e.tag==="link"&&e.props.rel?t=i.link[e.props.rel]:e.tag==="script"?Ln(e.props.async)?t=i.script.async:e.props.src&&!Ln(e.props.defer)&&!Ln(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?t=i.script.sync:Ln(e.props.defer)&&e.props.src&&!Ln(e.props.async)&&(t=i.script.defer):e.tag==="style"&&(t=e.innerHTML&&g1.test(e.innerHTML)?i.style.imported:i.style.sync);return(t||100)+s}const ac="%separator";function v1(r,e,t=!1){let s;if(e==="s"||e==="pageTitle")s=r.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");s=r[e.substring(0,i)]?.[e.substring(i+1)]}else s=r[e];if(s!==void 0)return t?(s||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):s||""}function Un(r,e,t,s=!1){if(typeof r!="string"||!r.includes("%"))return r;let i=r;try{i=decodeURI(r)}catch{}const n=i.match(/%\w+(?:\.\w+)?/g);if(!n)return r;const o=r.includes(ac);return r=r.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===ac||!n.includes(a))return a;const l=v1(e,a.slice(1),s);return l!==void 0?l:a}).trim(),o&&(r=r.split(ac).map(a=>a.trim()).filter(a=>a!=="").join(t?` ${t} `:" ")),r}const _1={meta:"content",link:"href",htmlAttrs:"lang"},b1=["innerHTML","textContent"],x1=r=>({key:"template-params",hooks:{"entries:normalize":e=>{const t=e.tags.filter(s=>s.tag==="templateParams"&&s.mode==="server")?.[0]?.props||{};Object.keys(t).length&&(r._ssrPayload={templateParams:{...r._ssrPayload?.templateParams||{},...t}})},"tags:resolve":({tagMap:e,tags:t})=>{const s=e.get("templateParams")?.props||{},i=s.separator||"|";delete s.separator,s.pageTitle=Un(s.pageTitle||r._title||"",s,i);for(const n of t){if(n.processTemplateParams===!1)continue;const o=_1[n.tag];if(o&&typeof n.props[o]=="string")n.props[o]=Un(n.props[o],s,i);else if(n.processTemplateParams||n.tag==="titleTemplate"||n.tag==="title")for(const a of b1)typeof n[a]=="string"&&(n[a]=Un(n[a],s,i,n.tag==="script"&&n.props.type.endsWith("json")))}r._templateParams=s,r._separator=i},"tags:afterResolve":({tagMap:e})=>{const t=e.get("title");t?.textContent&&t.processTemplateParams!==!1&&(t.textContent=Un(t.textContent,r._templateParams,r._separator))}}});function T1(r={}){return e=>(e.push({meta:[{name:"twitter:card",content:r.twitterCard||"summary_large_image",tagPriority:"low"},{property:"og:title",tagPriority:"low","data-infer":""},{property:"og:description",tagPriority:"low","data-infer":""}]}),{key:"infer-seo-meta",hooks:{"tags:beforeResolve":({tagMap:t})=>{let s=e._titleTemplate||e._title;const i=t.get("meta:og:title");typeof i?.props["data-infer"]<"u"&&(typeof s=="function"&&(s=s(e._title)),i.props.content=r.ogTitle?r.ogTitle(s):s||"",i.processTemplateParams=!0);const n=t.get("meta:description")?.props?.content,o=t.get("meta:og:description");typeof o?.props["data-infer"]<"u"&&(o.props.content=r.ogDescription?r.ogDescription(n):n||"",o.processTemplateParams=!0)}}})}const w1=["name","property","http-equiv"],A1=new Set(["viewport","description","keywords","robots"]);function By(r){const e=r.split(":");return e.length?Cd.has(e[1]):!1}function eh(r){const{props:e,tag:t}=r;if(l1.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(r.tag==="meta"){for(const s of w1)if(e[s]!==void 0){const i=e[s],n=i.includes(":"),o=A1.has(i),l=!(n||o)&&r.key?`:key:${r.key}`:"";return`${t}:${i}${l}`}}if(r.key)return`${t}:key:${r.key}`;if(e.id)return`${t}:id:${e.id}`;if(o1.has(t)){const s=r.textContent||r.innerHTML;if(s)return`${t}:content:${s}`}}function jf(r){const e=r._h||r._d;if(e)return e;const t=r.textContent||r.innerHTML;return t||`${r.tag}:${Object.entries(r.props).map(([s,i])=>`${s}:${String(i)}`).join(",")}`}function qa(r,e,t){typeof r==="function"&&(!t||t!=="titleTemplate"&&!(t[0]==="o"&&t[1]==="n"))&&(r=r());let i;if(e&&(i=e(t,r)),Array.isArray(i))return i.map(n=>qa(n,e));if(i?.constructor===Object){const n={};for(const o of Object.keys(i))n[o]=qa(i[o],e,o);return n}return i}function S1(r,e){const t=r==="style"?new Map:new Set;function s(i){const n=i.trim();if(n)if(r==="style"){const[o,...a]=n.split(":").map(l=>l.trim());o&&a.length&&t.set(o,a.join(":"))}else n.split(" ").filter(Boolean).forEach(o=>t.add(o))}return typeof e=="string"?r==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(i=>s(i)):e&&typeof e=="object"&&Object.entries(e).forEach(([i,n])=>{n&&n!=="false"&&(r==="style"?t.set(i.trim(),n):s(i))}),t}function Fy(r,e){return r.props=r.props||{},e?r.tag==="templateParams"?(r.props=e,r):(Object.entries(e).forEach(([t,s])=>{if(s===null){r.props[t]=null;return}if(t==="class"||t==="style"){r.props[t]=S1(t,s);return}if(c1.has(t)){if(["textContent","innerHTML"].includes(t)&&typeof s=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,r.props.type=o,r[t]=JSON.stringify(s)}else r[t]=s;return}const i=String(s),n=t.startsWith("data-");i==="true"||i===""?r.props[t]=n?i:!0:!s&&n&&i==="false"?r.props[t]="false":s!==void 0&&(r.props[t]=s)}),r):r}function E1(r,e){const t=typeof e=="object"&&typeof e!="function"?e:{[r==="script"||r==="noscript"||r==="style"?"innerHTML":"textContent"]:e},s=Fy({tag:r,props:{}},t);return s.key&&n1.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function C1(r,e){if(!r)return[];typeof r=="function"&&(r=r());const t=(i,n)=>{for(let o=0;o<e.length;o++)n=e[o](i,n);return n};r=t(void 0,r);const s=[];return r=qa(r,t),Object.entries(r||{}).forEach(([i,n])=>{if(n!==void 0)for(const o of Array.isArray(n)?n:[n])s.push(E1(i,o))}),s.flat()}const P1=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,R1=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,I1=/^([/\\]\s*){2,}[^/\\]/,k1=/^\.?\//;function Pd(r,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?P1.test(r):R1.test(r)||(e.acceptRelative?I1.test(r):!1)}function th(r="",e){return r.endsWith("/")}function Rd(r="",e){return(th(r)?r.slice(0,-1):r)||"/"}function Ny(r="",e){return r.endsWith("/")?r:r+"/"}function Br(r,e){if(L1(e)||Pd(r))return r;const t=Rd(e);return r.startsWith(t)?r:$y(t,r)}function L1(r){return!r||r==="/"}function M1(r){return r&&r!=="/"}function $y(r,...e){let t=r||"";for(const s of e.filter(i=>M1(i)))if(t){const i=s.replace(k1,"");t=Ny(t)+i}else t=s;return t}function D1(r){return typeof r=="string"?`'${r}'`:new O1().serialize(r)}const O1=(function(){class r{#e=new Map;compare(t,s){const i=typeof t,n=typeof s;return i==="string"&&n==="string"?t.localeCompare(s):i==="number"&&n==="number"?t-s:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(s,!0))}serialize(t,s){if(t===null)return"null";switch(typeof t){case"string":return s?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const s=Object.prototype.toString.call(t);if(s!=="[object Object]")return this.serializeBuiltInType(s.length<10?`unknown:${s}`:s.slice(8,-1),t);const i=t.constructor,n=i===Object||i===void 0?"":i.name;if(n!==""&&globalThis[n]===i)return this.serializeBuiltInType(n,t);if(typeof t.toJSON=="function"){const o=t.toJSON();return n+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(n,Object.entries(t))}serializeBuiltInType(t,s){const i=this["$"+t];if(i)return i.call(this,s);if(typeof s?.entries=="function")return this.serializeObjectEntries(t,s.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,s){const i=Array.from(s).sort((o,a)=>this.compare(o[0],a[0]));let n=`${t}{`;for(let o=0;o<i.length;o++){const[a,l]=i[o];n+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<i.length-1&&(n+=",")}return n+"}"}$object(t){let s=this.#e.get(t);return s===void 0&&(this.#e.set(t,`#${this.#e.size}`),s=this.serializeObject(t),this.#e.set(t,s)),s}$function(t){const s=Function.prototype.toString.call(t);return s.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${s.replace(/\s*\n\s*/g,"")}`}$Array(t){let s="[";for(let i=0;i<t.length;i++)s+=this.serialize(t[i]),i<t.length-1&&(s+=",");return s+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((s,i)=>this.compare(s,i)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const e of["Error","RegExp","URL"])r.prototype["$"+e]=function(t){return`${e}(${t})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])r.prototype["$"+e]=function(t){return`${e}[${t.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])r.prototype["$"+e]=function(t){return`${e}[${t.join("n,")}${t.length>0?"n":""}]`};return r})(),B1=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],F1=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],N1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Qs=[];let $1=class{_data=new Bo;_hash=new Bo([...B1]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const t=this._nDataBytes*8,s=this._data.sigBytes*8;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[(s+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(s+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,t){const s=this._hash.words;let i=s[0],n=s[1],o=s[2],a=s[3],l=s[4],c=s[5],u=s[6],h=s[7];for(let d=0;d<64;d++){if(d<16)Qs[d]=e[t+d]|0;else{const _=Qs[d-15],T=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,b=Qs[d-2],L=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;Qs[d]=T+Qs[d-7]+L+Qs[d-16]}const f=l&c^~l&u,p=i&n^i&o^n&o,m=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),g=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),y=h+g+f+F1[d]+Qs[d],v=m+p;h=u,u=c,c=l,l=a+y|0,a=o,o=n,n=i,i=y+v|0}s[0]=s[0]+i|0,s[1]=s[1]+n|0,s[2]=s[2]+o|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0,s[5]=s[5]+c|0,s[6]=s[6]+u|0,s[7]=s[7]+h|0}_append(e){typeof e=="string"&&(e=Bo.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let t,s=this._data.sigBytes/64;e?s=Math.ceil(s):s=Math.max((s|0)-this._minBufferSize,0);const i=s*16,n=Math.min(i*4,this._data.sigBytes);if(i){for(let o=0;o<i;o+=16)this._doProcessBlock(this._data.words,o);t=this._data.words.splice(0,i),this._data.sigBytes-=n}return new Bo(t,n)}},Bo=class Uy{words;sigBytes;constructor(e,t){e=this.words=e||[],this.sigBytes=t===void 0?e.length*4:t}static fromUtf8(e){const t=unescape(encodeURIComponent(e)),s=t.length,i=[];for(let n=0;n<s;n++)i[n>>>2]|=(t.charCodeAt(n)&255)<<24-n%4*8;return new Uy(i,s)}toBase64(){const e=[];for(let t=0;t<this.sigBytes;t+=3){const s=this.words[t>>>2]>>>24-t%4*8&255,i=this.words[t+1>>>2]>>>24-(t+1)%4*8&255,n=this.words[t+2>>>2]>>>24-(t+2)%4*8&255,o=s<<16|i<<8|n;for(let a=0;a<4&&t*8+a*6<this.sigBytes*8;a++)e.push(N1.charAt(o>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const s=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=s<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];this.sigBytes+=e.sigBytes}};function U1(r){return new $1().finalize(r).toBase64()}function Id(r){return U1(D1(r))}function Ne(r){return{"@id":typeof r!="string"?r["@id"]:r}}function kd(r){try{const e=r instanceof Date?r:new Date(Date.parse(r));return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}catch{}return typeof r=="string"?r:r.toString()}const j1=[/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,/^\d{4}-[01]\d-[0-3]\d$/,/^\d{4}-[01]\d$/,/^\d{4}$/];function z1(r){return j1.some(e=>e.test(r))}function cs(r){if(!r)return r;try{return r instanceof Date?r.toISOString():z1(r)?r:new Date(Date.parse(r)).toISOString()}catch{}return typeof r=="string"?r:r.toString()}const Dt="#identity";function be(r,e,t){!r?.[e]&&t&&(r[e]=t)}function br(r){return Array.isArray(r)?r:[r]}function H1(r,e,t){const s=new Set(br(r[e]));s.add(t),r[e]=[...s].filter(Boolean)}function Jn(r,e){return Pd(e)?e:(e.includes("#")||(e=`#${e}`),`${r||""}${e}`)}function G1(r,e){if(!r)return r;if(r.length>e){const t=r.substring(0,e);return t.substring(0,Math.min(t.length,t.lastIndexOf(" ")))}return r}function wn(r,e){const t=r["@type"];if(t===e)return;const s=new Set([...br(e),...br(t)]);r["@type"]=s.size===1?t:[...s.values()]}function us(r,e){return!e||Pd(e)||e[0]!=="/"&&e[0]!=="#"?e:Br(e,r)}function An(r){return r&&r.substring(r.lastIndexOf("#"))}function jy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){if(r[e]&&typeof r[e]=="object"){if(r[e].__v_isReadonly||r[e].__v_isRef)return;jy(r[e]);return}(r[e]===""||r[e]===null||r[e]===void 0)&&delete r[e]}return r}function zy(r){let e=9;for(let t=0;t<r.length;)e=Math.imul(e^r.charCodeAt(t++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}const rh={cast(r){return typeof r=="number"?{value:r}:r},defaults:{"@type":"QuantitativeValue"}},Ld={defaults:{"@type":"MonetaryAmount"},resolve(r,e){return typeof r.value!="number"&&(r.value=ue(r.value,e,rh)),r}},V1={defaults:{"@type":"MerchantReturnPolicy"},resolve(r,e){return r.returnPolicyCategory&&(r.returnPolicyCategory=Br(r.returnPolicyCategory,"https://schema.org/")),r.returnFees&&(r.returnFees=Br(r.returnFees,"https://schema.org/")),r.returnMethod&&(r.returnMethod=Br(r.returnMethod,"https://schema.org/")),r.returnShippingFeesAmount=ue(r.returnShippingFeesAmount,e,Ld),r}},W1={defaults:{"@type":"DefinedRegion"}},X1={defaults:{"@type":"ShippingDeliveryTime"},resolve(r,e){return r.handlingTime=ue(r.handlingTime,e,rh),r.transitTime=ue(r.transitTime,e,rh),r}},Y1={defaults:{"@type":"OfferShippingDetails"},resolve(r,e){return r.deliveryTime=ue(r.deliveryTime,e,X1),r.shippingDestination=ue(r.shippingDestination,e,W1),r.shippingRate=ue(r.shippingRate,e,Ld),r}},So={cast(r){return typeof r=="number"||typeof r=="string"?{price:r}:r},defaults:{"@type":"Offer",availability:"InStock"},resolve(r,e){return be(r,"priceCurrency",e.meta.currency),be(r,"priceValidUntil",new Date(Date.UTC(new Date().getFullYear()+1,12,-1,0,0,0))),r.url&&us(e.meta.host,r.url),r.availability&&(r.availability=Br(r.availability,"https://schema.org/")),r.itemCondition&&(r.itemCondition=Br(r.itemCondition,"https://schema.org/")),r.priceValidUntil&&(r.priceValidUntil=cs(r.priceValidUntil)),r.hasMerchantReturnPolicy=ue(r.hasMerchantReturnPolicy,e,V1),r.shippingDetails=ue(r.shippingDetails,e,Y1),r}},Hy={defaults:{"@type":"AggregateOffer"},inheritMeta:[{meta:"currency",key:"priceCurrency"}],resolve(r,e){return r.offers=ue(r.offers,e,So),r.offers&&be(r,"offerCount",br(r.offers).length),r}},Al={defaults:{"@type":"AggregateRating"}},Md={cast(r){return typeof r=="string"&&(r={name:r}),r},defaults:{"@type":"ListItem"},resolve(r,e){return typeof r.item=="string"?r.item=us(e.meta.host,r.item):typeof r.item=="object"&&(r.item=ue(r.item,e)),r}},Gy="#breadcrumb",Vy={defaults:{"@type":"BreadcrumbList"},idPrefix:["url",Gy],resolve(r,e){if(r.itemListElement){let t=1;r.itemListElement=ue(r.itemListElement,e,Md,{array:!0,afterResolve(s){be(s,"position",t++)}})}return r},resolveRootNode(r,{find:e}){const t=e(wr);t&&be(t,"breadcrumb",Ne(r))}},Ai={alias:"image",cast(r){return typeof r=="string"&&(r={url:r}),r},defaults:{"@type":"ImageObject"},inheritMeta:["inLanguage"],idPrefix:"host",resolve(r,{meta:e}){return r.url=us(e.host,r.url),be(r,"contentUrl",r.url),r.height&&!r.width&&delete r.height,r.width&&!r.height&&delete r.width,r}},Sl={defaults:{"@type":"PostalAddress"}},Wy={defaults:{"@type":"SearchAction",target:{"@type":"EntryPoint"},"query-input":{"@type":"PropertyValueSpecification",valueRequired:!0,valueName:"search_term_string"}},resolve(r,e){return typeof r.target=="string"&&(r.target={"@type":"EntryPoint",urlTemplate:us(e.meta.host,r.target)}),r}},lo="#website",q1={defaults:{"@type":"WebSite"},inheritMeta:["inLanguage",{meta:"host",key:"url"}],idPrefix:["host",lo],resolve(r,e){return r.potentialAction=ue(r.potentialAction,e,Wy,{array:!0}),r.publisher=ue(r.publisher,e),r},resolveRootNode(r,{find:e}){if(An(r["@id"])===lo){const t=e(Dt);t&&be(r,"publisher",Ne(t));const s=e(wr);s&&be(s,"isPartOf",Ne(r))}return r}},Si={defaults:{"@type":"Organization"},idPrefix:["host",Dt],inheritMeta:[{meta:"host",key:"url"}],resolve(r,e){return wn(r,"Organization"),r.address=ue(r.address,e,Sl),r},resolveRootNode(r,e){const t=An(r["@id"])===Dt,s=e.find(wr);if(r.logo&&t){if(!e.find("#organization")){const n=ue(r.logo,e,Ai,{root:!0,afterResolve(o){o["@id"]=Jn(e.meta.host,"#logo"),be(o,"caption",r.name)}});s&&n&&be(s,"primaryImageOfPage",Ne(n)),e.nodes.push({"@type":"Organization",name:r.name,url:r.url,sameAs:r.sameAs,address:r.address,logo:ue(r.logo,e,Ai,{root:!1}).url,_priority:-1,"@id":Jn(e.meta.host,"#organization")})}delete r.logo}t&&s&&be(s,"about",Ne(r));const i=e.find(lo);i&&be(i,"publisher",Ne(r))}},Xy={defaults:{"@type":"ReadAction"},resolve(r,e){return r.target.includes(e.meta.url)||r.target.unshift(e.meta.url),r}},wr="#webpage",Z1={defaults({meta:r}){const e=Rd(r.url.substring(r.url.lastIndexOf("/")+1));let t="WebPage";switch(e){case"about":case"about-us":t="AboutPage";break;case"search":t="SearchResultsPage";break;case"checkout":t="CheckoutPage";break;case"contact":case"get-in-touch":case"contact-us":t="ContactPage";break;case"faq":t="FAQPage";break}return{"@type":t}},idPrefix:["url",wr],inheritMeta:[{meta:"title",key:"name"},"description","datePublished","dateModified","url"],resolve(r,e){return r.dateModified=cs(r.dateModified),r.datePublished=cs(r.datePublished),wn(r,"WebPage"),r.about=ue(r.about,e,Si),r.breadcrumb=ue(r.breadcrumb,e,Vy),r.author=ue(r.author,e,Us),r.primaryImageOfPage=ue(r.primaryImageOfPage,e,Ai),r.potentialAction=ue(r.potentialAction,e,Xy),r["@type"]==="WebPage"&&e.meta.url&&be(r,"potentialAction",[{"@type":"ReadAction",target:[e.meta.url]}]),r},resolveRootNode(r,{find:e,meta:t}){const s=e(Dt),i=e(lo),n=e("#logo");s&&t.url===t.host&&be(r,"about",Ne(s)),n&&be(r,"primaryImageOfPage",Ne(n)),i&&be(r,"isPartOf",Ne(i));const o=e(Gy);return o&&be(r,"breadcrumb",Ne(o)),r}},Us={cast(r){return typeof r=="string"?{name:r}:r},defaults:{"@type":"Person"},idPrefix:["host",Dt],resolve(r,e){return r.url&&(r.url=us(e.meta.host,r.url)),r},resolveRootNode(r,{find:e,meta:t}){if(An(r["@id"])===Dt){be(r,"url",t.host);const i=e(wr);i&&be(i,"about",Ne(r));const n=e(lo);n&&be(n,"publisher",Ne(r))}const s=e(El);s&&be(s,"author",Ne(r))}},El="#article",K1={defaults:{"@type":"Article"},inheritMeta:["inLanguage","description","image","dateModified","datePublished",{meta:"title",key:"headline"}],idPrefix:["url",El],resolve(r,e){return r.author=ue(r.author,e,Us,{root:!0}),r.publisher=ue(r.publisher,e),r.dateModified=cs(r.dateModified),r.datePublished=cs(r.datePublished),wn(r,"Article"),r.headline=G1(r.headline,110),r},resolveRootNode(r,{find:e,meta:t}){const s=e(wr),i=e(Dt);if(r.image&&!r.thumbnailUrl){const n=br(r.image)[0];typeof n=="string"?be(r,"thumbnailUrl",us(t.host,n)):n?.["@id"]&&be(r,"thumbnailUrl",e(n["@id"])?.url)}return i&&(be(r,"publisher",Ne(i)),be(r,"author",Ne(i))),s&&(be(r,"isPartOf",Ne(s)),be(r,"mainEntityOfPage",Ne(s)),be(s,"potentialAction",[{"@type":"ReadAction",target:[t.url]}]),be(s,"dateModified",r.dateModified),be(s,"datePublished",r.datePublished)),r}},Yy={defaults:{"@type":"Book"},inheritMeta:["inLanguage"],resolve(r,e){return r.bookFormat&&(r.bookFormat=Br(r.bookFormat,"https://schema.org/")),r.datePublished&&(r.datePublished=kd(r.datePublished)),r.author=ue(r.author,e),r},resolveRootNode(r,{find:e}){const t=e(Dt);return t&&be(r,"provider",Ne(t)),r}},J1="#book",Q1={defaults:{"@type":"Book"},inheritMeta:["description","url",{meta:"title",key:"name"}],idPrefix:["url",J1],resolve(r,e){return r.workExample=ue(r.workExample,e,Yy),r.author=ue(r.author,e),r.url&&Br(r.url,e.meta.host),r},resolveRootNode(r,{find:e}){const t=e(Dt);return t&&be(r,"author",Ne(t)),r}},eT={defaults:{"@type":"Comment"},idPrefix:"url",resolve(r,e){return r.author=ue(r.author,e,Us,{root:!0}),r},resolveRootNode(r,{find:e}){const t=e(El);t&&be(r,"about",Ne(t))}},tT={defaults:{"@type":"Course"},resolve(r,e){return r.provider=ue(r.provider,e,Si,{root:!0}),r},resolveRootNode(r,{find:e}){const t=e(Dt);return t&&be(r,"provider",Ne(t)),r}},Dd={defaults:{"@type":"Place"},resolve(r,e){return typeof r.address!="string"&&(r.address=ue(r.address,e,Sl)),r}},qy={cast(r){return typeof r=="string"?{url:r}:r},defaults:{"@type":"VirtualLocation"}},rT="#event",sT={defaults:{"@type":"Event"},inheritMeta:["inLanguage","description","image",{meta:"title",key:"name"}],idPrefix:["url",rT],resolve(r,e){if(r.location){const i=r.location==="string"||r.location?.url!=="undefined";r.location=ue(r.location,e,i?qy:Dd)}r.performer=ue(r.performer,e,Us,{root:!0}),r.organizer=ue(r.organizer,e,Si,{root:!0}),r.offers=ue(r.offers,e,So),r.eventAttendanceMode&&(r.eventAttendanceMode=Br(r.eventAttendanceMode,"https://schema.org/")),r.eventStatus&&(r.eventStatus=Br(r.eventStatus,"https://schema.org/"));const t=r.eventStatus==="https://schema.org/EventMovedOnline";return["startDate","previousStartDate","endDate"].forEach(i=>{t?r[i]=cs(r[i]):r[i]instanceof Date&&r[i].getHours()===0&&r[i].getMinutes()===0&&(r[i]=kd(r[i]))}),be(r,"endDate",r.startDate),r},resolveRootNode(r,{find:e}){const t=e(Dt);t&&be(r,"organizer",Ne(t))}},Zy={defaults:{"@type":"OpeningHoursSpecification",opens:"00:00",closes:"23:59"}},sh={defaults:{"@type":["Organization","LocalBusiness"]},inheritMeta:[{key:"url",meta:"host"},{key:"currenciesAccepted",meta:"currency"}],idPrefix:["host",Dt],resolve(r,e){return wn(r,["Organization","LocalBusiness"]),r.address=ue(r.address,e,Sl),r.openingHoursSpecification=ue(r.openingHoursSpecification,e,Zy),r=Pl({...r},e,Si),r},resolveRootNode(r,e){return Si.resolveRootNode(r,e),r}},Ky={cast(r){return r==="number"?{ratingValue:r}:r},defaults:{"@type":"Rating",bestRating:5,worstRating:1}},iT={defaults:{"@type":["Organization","LocalBusiness","FoodEstablishment"]},inheritMeta:[{key:"url",meta:"host"},{key:"currenciesAccepted",meta:"currency"}],idPrefix:["host",Dt],resolve(r,e){return wn(r,["Organization","LocalBusiness","FoodEstablishment"]),r.starRating=ue(r.starRating,e,Ky),r=Pl(r,e,sh),r},resolveRootNode(r,e){return sh.resolveRootNode(r,e),r}},nT={cast(r){return typeof r=="string"?{text:r}:r},defaults:{"@type":"HowToDirection"}},Od={cast(r){return typeof r=="string"?{text:r}:r},defaults:{"@type":"HowToStep"},resolve(r,e){return r.url&&(r.url=us(e.meta.url,r.url)),r.image&&(r.image=ue(r.image,e,Ai,{root:!0})),r.itemListElement&&(r.itemListElement=ue(r.itemListElement,e,nT)),r}},oT="#howto",aT={defaults:{"@type":"HowTo"},inheritMeta:["description","image","inLanguage",{meta:"title",key:"name"}],idPrefix:["url",oT],resolve(r,e){return r.step=ue(r.step,e,Od),r},resolveRootNode(r,{find:e}){const t=e(wr);t&&be(r,"mainEntityOfPage",Ne(t))}},lT={defaults:{"@type":"ItemList"},resolve(r,e){if(r.itemListElement){let t=1;r.itemListElement=ue(r.itemListElement,e,Md,{array:!0,afterResolve(s){be(s,"position",t++)}})}return r}},cT={defaults:{"@type":"JobPosting"},idPrefix:["url","#job-posting"],resolve(r,e){return r.datePosted=cs(r.datePosted),r.hiringOrganization=ue(r.hiringOrganization,e,Si),r.jobLocation=ue(r.jobLocation,e,Dd),r.baseSalary=ue(r.baseSalary,e,Ld),r.validThrough=cs(r.validThrough),r},resolveRootNode(r,{find:e}){const t=e(wr),s=e(Dt);return s&&be(r,"hiringOrganization",Ne(s)),t&&be(r,"mainEntityOfPage",Ne(t)),r}},Cl={defaults:{"@type":"Review"},inheritMeta:["inLanguage"],resolve(r,e){return r.reviewRating=ue(r.reviewRating,e,Ky),r.author=ue(r.author,e,Us),r}},Jy={cast(r){return typeof r=="string"&&(r={url:r}),r},alias:"video",defaults:{"@type":"VideoObject"},inheritMeta:[{meta:"title",key:"name"},"description","image","inLanguage",{meta:"datePublished",key:"uploadDate"}],idPrefix:"host",resolve(r,e){if(r.uploadDate&&(r.uploadDate=cs(r.uploadDate)),r.url=us(e.meta.host,r.url),r.caption&&!r.description&&(r.description=r.caption),r.description||(r.description="No description"),r.thumbnailUrl&&(typeof r.thumbnailUrl=="string"||Array.isArray(r.thumbnailUrl))){const t=br(r.thumbnailUrl).map(s=>us(e.meta.host,s));r.thumbnailUrl=t.length>1?t:t[0]}return r.thumbnail&&(r.thumbnail=ue(r.thumbnailUrl,e,Ai)),r},resolveRootNode(r,{find:e}){if(r.image&&!r.thumbnail){const t=br(r.image)[0];be(r,"thumbnail",e(t["@id"])?.url)}}},uT={defaults:{"@type":"Movie"},resolve(r,e){return r.aggregateRating=ue(r.aggregateRating,e,Al),r.review=ue(r.review,e,Cl),r.director=ue(r.director,e,Us),r.actor=ue(r.actor,e,Us),r.trailer=ue(r.trailer,e,Jy),r.dateCreated&&(r.dateCreated=kd(r.dateCreated)),r}},hT="#product",dT={defaults:{"@type":"Product"},inheritMeta:["description","image",{meta:"title",key:"name"}],idPrefix:["url",hT],resolve(r,e){return be(r,"sku",zy(r.name)),r.aggregateOffer=ue(r.aggregateOffer,e,Hy),r.aggregateRating=ue(r.aggregateRating,e,Al),r.offers=ue(r.offers,e,So),r.review=ue(r.review,e,Cl),r},resolveRootNode(r,{find:e}){const t=e(wr),s=e(Dt);return s&&be(r,"brand",Ne(s)),t&&be(r,"mainEntityOfPage",Ne(t)),r}},fT={cast(r){return typeof r=="string"?{text:r}:r},defaults:{"@type":"Answer"}},pT={defaults:{"@type":"Question"},inheritMeta:["inLanguage"],idPrefix:"url",resolve(r,e){return r.question&&(r.name=r.question,delete r.question),r.answer&&(r.acceptedAnswer=r.answer,delete r.answer),r.acceptedAnswer=ue(r.acceptedAnswer,e,fT),r},resolveRootNode(r,{find:e}){const t=e(wr);t&&br(t["@type"]).includes("FAQPage")&&H1(t,"mainEntity",Ne(r))}},mT="#recipe",gT={defaults:{"@type":"Recipe"},inheritMeta:[{meta:"title",key:"name"},"description","image","datePublished"],idPrefix:["url",mT],resolve(r,e){return r.recipeInstructions=ue(r.recipeInstructions,e,Od),r},resolveRootNode(r,{find:e}){const t=e(El),s=e(wr);return t?be(r,"mainEntityOfPage",Ne(t)):s&&be(r,"mainEntityOfPage",Ne(s)),t?.author&&be(r,"author",t.author),r}},yT={defaults:{"@type":"SoftwareApplication"},resolve(r,e){return wn(r,"SoftwareApplication"),r.offers=ue(r.offers,e,So),r.aggregateRating=ue(r.aggregateRating,e,Al),r.review=ue(r.review,e,Cl),r}};function Qy(r){switch(r){case"address":return Sl;case"aggregateOffer":return Hy;case"aggregateRating":return Al;case"article":return K1;case"breadcrumb":return Vy;case"comment":return eT;case"event":return sT;case"foodEstablishment":return iT;case"virtualLocation":return qy;case"place":return Dd;case"howTo":return aT;case"howToStep":return Od;case"image":return Ai;case"localBusiness":return sh;case"offer":return So;case"openingHours":return Zy;case"organization":return Si;case"person":return Us;case"product":return dT;case"question":return pT;case"recipe":return gT;case"review":return Cl;case"video":return Jy;case"webPage":return Z1;case"webSite":return q1;case"book":return Q1;case"course":return tT;case"itemList":return lT;case"jobPosting":return cT;case"listItem":return Md;case"movie":return uT;case"searchAction":return Wy;case"readAction":return Xy;case"softwareApp":return yT;case"bookEdition":return Yy}return null}function ev(r){return!r.host&&r.canonicalHost&&(r.host=r.canonicalHost),!r.tagPosition&&r.position&&(r.tagPosition=r.position),!r.currency&&r.defaultCurrency&&(r.currency=r.defaultCurrency),!r.inLanguage&&r.defaultLanguage&&(r.inLanguage=r.defaultLanguage),r.path||(r.path="/"),!r.host&&typeof document<"u"&&(r.host=document.location.host),!r.url&&r.canonicalUrl&&(r.url=r.canonicalUrl),r.path!=="/"&&(r.trailingSlash&&!th(r.path)?r.path=Ny(r.path):!r.trailingSlash&&th(r.path)&&(r.path=Rd(r.path))),r.url=$y(r.host||"",r.path),{...r,host:r.host,url:r.url,currency:r.currency,image:r.image,inLanguage:r.inLanguage,title:r.title,description:r.description,datePublished:r.datePublished,dateModified:r.dateModified}}function Pl(r,e,t){if(t?.cast&&(r=t.cast(r,e)),t?.defaults){let s=t.defaults||{};typeof s=="function"&&(s=s(e)),r={...s,...r}}t?.inheritMeta?.forEach(s=>{typeof s=="string"?be(r,s,e.meta[s]):be(r,s.key,e.meta[s.meta])}),t?.resolve&&(r=t.resolve(r,e));for(const s in r){const i=r[s];Array.isArray(i)&&i.forEach((n,o)=>{typeof n=="object"&&n?._resolver&&(r[s][o]=ue(n,e,n._resolver))}),typeof i=="object"&&i?._resolver&&(r[s]=ue(i,e,i._resolver))}return jy(r),r}function ih(r,e,t,s=!1){if(r["@id"]&&r["@id"].startsWith("http"))return r;const i=t&&(Array.isArray(t.idPrefix)?t.idPrefix[0]:t.idPrefix)||"url",n=r["@id"]||(t?Array.isArray(t.idPrefix)?t.idPrefix?.[1]:void 0:"");if(!r["@id"]&&s&&n)return r["@id"]=Jn(e.meta[i],n),r;if(r["@id"]?.startsWith("#/schema/")||r["@id"]?.startsWith("/"))return r["@id"]=Jn(e.meta[i],r["@id"]),r;let o=t?.alias;o||(o=(br(r["@type"])?.[0]||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase());const a={};for(const l in r)l[0]!=="_"&&Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return r["@id"]=Jn(e.meta[i],`#/schema/${o}/${r["@id"]||zy(JSON.stringify(a))}`),r}function ue(r,e,t,s={}){if(!r)return r;const i=br(r).map(n=>{const o=Object.keys(n).length;if(o===1&&n["@id"]||o===2&&n["@id"]&&n["@type"])return ih({"@id":e.find(n["@id"])?.["@id"]||n["@id"]},e);let a=t;if(n._resolver&&(a=n._resolver,typeof a=="string"&&(a=Qy(a)),delete n._resolver),!a)return n;let l=Pl(n,e,a);return s.afterResolve&&s.afterResolve(l),(s.generateId||s.root)&&(l=ih(l,e,a,!1)),s.root?(a.resolveRootNode&&a.resolveRootNode(l,e),e.push(l),Ne(l["@id"])):l});return!s.array&&i.length===1?i[0]:i}function tv(r,e){return r.reduce((t,s,i,n)=>{const o=e(s,i,n);return t[o]||(t[o]=[]),t[o].push(s),t},{})}function vT(r,e){return Object.values(tv(r,e)).map(t=>t[t.length-1])}const Bd=Ry((r,e,t)=>{if(Array.isArray(r[e])){if(Array.isArray(t)){const s={};for(const i of[...r[e],...t])s[Id(i)]=i;return r[e]=Object.values(s),e==="itemListElement"&&(r[e]=[...vT(r[e],i=>i.position)]),!0}return r[e]=Bd(r[e],Array.isArray(t)?t:[t]),!0}});function _T(r){const e={};for(const t of r.keys()){const s=r[t],i=An(s["@id"]||Id(s));e[i]&&s._dedupeStrategy!=="replace"?e[i]=Bd(r[t],e[i]):e[i]=r[t]}return Object.values(e)}function bT(r){const e=r.keys(),t={};for(const s of e){const i=r[s],n=An(i["@id"]||Id(i)),o=tv(Object.keys(i),c=>{const u=i[c];return c[0]==="_"?"ignored":Array.isArray(u)||typeof u=="object"?"relations":"primitives"}),a=[...(o.primitives||[]).sort(),...(o.relations||[]).sort()];let l={};for(const c of a)l[c]=i[c];t[n]&&(l=Bd(l,t[n])),t[n]=l}return Object.values(t)}const xT=["translationOfWork","workTranslation"];function TT(){const r={find(e){let t=i=>i;e[0]==="#"?t=An:e[0]==="/"&&(t=i=>i.replace(/(https?:)?\/\//,"").split("/")[0]);const s=t(e);return r.nodes.filter(i=>!!i["@id"]).find(i=>t(i["@id"])===s)},push(e){br(e).forEach(t=>{const s=t;r.nodes.push(s)})},resolveGraph(e){return r.meta=ev({...e}),r.nodes.forEach((t,s)=>{const i=t._resolver;t=Pl(t,r,i),t=ih(t,r,i,!0),r.nodes[s]=t}),r.nodes=_T(r.nodes),r.nodes.forEach(t=>{t.image&&typeof t.image=="string"&&(t.image=ue(t.image,r,Ai,{root:!0})),xT.forEach(s=>{t[s]=ue(t[s],r)}),t._resolver?.resolveRootNode&&t._resolver.resolveRootNode(t,r),delete t._resolver}),bT(r.nodes)},nodes:[],meta:{}};return r}function wT(r){return AT({},()=>({}))}function AT(r,e,t){r=ev({...r});let s,i={};return n=>(n.use(x1),{key:"schema-org",hooks:{"entries:normalize":async({tags:o})=>{s=s||TT();for(const a of o){if(a.tag==="script"&&a.props.type==="application/ld+json"&&a.props.nodes){const l=await a.props.nodes;for(const c of Array.isArray(l)?l:[l]){if(typeof c!="object"||Object.keys(c).length===0)continue;const u={...c,_dedupeStrategy:a.tagDuplicateStrategy,_resolver:Qy(await c._resolver)};s.push(u)}a.tagPosition=a.tagPosition||r.tagPosition==="head"?"head":"bodyClose"}if(a.tag==="htmlAttrs"&&a.props.lang)i.inLanguage=a.props.lang;else if(a.tag==="title")i.title=a.textContent;else if(a.tag==="meta"&&a.props.name==="description")i.description=a.props.content;else if(a.tag==="link"&&a.props.rel==="canonical"){if(i.url=a.props.href,i.url&&!i.host)try{i.host=new URL(i.url).origin}catch{}}else a.tag==="meta"&&a.props.property==="og:image"?i.image=a.props.content:a.tag==="templateParams"&&a.props.schemaOrg&&(i={...i,...a.props.schemaOrg},delete a.props.schemaOrg)}},"tags:resolve":async o=>{for(const a in o.tags){const l=o.tags[a];if(l.tag==="script"&&l.props.type==="application/ld+json"&&l.props.nodes){delete l.props.nodes;const c=s.resolveGraph({...await e?.()||{},...r,...i});if(!c.length){l.props={};return}l.innerHTML=JSON.stringify({"@context":"https://schema.org","@graph":c},(u,h)=>typeof h!="object"?Un(h,n._templateParams,n._separator):h,0);return}}},"tags:afterResolve":o=>{let a;for(const l in o.tags){const c=o.tags[l];if(c.props.type==="application/ld+json"&&c.props.nodes||c.key==="schema-org-graph"){if(delete c.props.nodes,typeof a>"u"){a=l;continue}o.tags[a].props=Py(o.tags[a].props,c.props),delete o.tags[a].props.nodes,o.tags[l]=!1}}o.tags=o.tags.filter(Boolean)}}})}function zf(r){return r.script?r:{script:[{type:"application/ld+json",key:"schema-org-graph",nodes:r}]}}function Hf(r,e){const t=typeof e=="function"?e(r):e,s=t.key||String(r.plugins.size+1);r.plugins.get(s)||(r.plugins.set(s,t),r.hooks.addHooks(t.hooks||{}))}function ST(r={}){const e=Qx();e.addHooks(r.hooks||{});const t=!r.document,s=new Map,i=new Map,n=new Set,o={_entryCount:1,plugins:i,dirty:!1,resolvedOptions:r,hooks:e,ssr:t,entries:s,headEntries(){return[...s.values()]},use:a=>Hf(o,a),push(a,l){const c={...l||{}};delete c.head;const u=c._index??o._entryCount++,h={_i:u,input:a,options:c},d={_poll(f=!1){o.dirty=!0,!f&&n.add(u),e.callHook("entries:updated",o)},dispose(){s.delete(u)&&o.invalidate()},patch(f){(!c.mode||c.mode==="server"&&t||c.mode==="client"&&!t)&&(h.input=f,s.set(u,h),d._poll())}};return d.patch(a),d},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);n.size;){const d=n.values().next().value;n.delete(d);const f=s.get(d);if(f){const p={tags:C1(f.input,r.propResolvers||[]).map(m=>Object.assign(m,f.options)),entry:f};await e.callHook("entries:normalize",p),f._tags=p.tags.map((m,g)=>(m._w=y1(o,m),m._p=(f._i<<10)+g,m._d=eh(m),m))}}let l=!1;a.entries.flatMap(d=>(d._tags||[]).map(f=>({...f,props:{...f.props}}))).sort(Nf).reduce((d,f)=>{const p=String(f._d||f._p);if(!d.has(p))return d.set(p,f);const m=d.get(p);if((f?.tagDuplicateStrategy||(u1.has(f.tag)?"merge":null)||(f.key&&f.key===m.key?"merge":null))==="merge"){const y={...m.props};Object.entries(f.props).forEach(([v,_])=>y[v]=v==="style"?new Map([...m.props.style||new Map,..._]):v==="class"?new Set([...m.props.class||new Set,..._]):_),d.set(p,{...f,props:y})}else f._p>>10===m._p>>10&&f.tag==="meta"&&By(p)?(d.set(p,Object.assign([...Array.isArray(m)?m:[m],f],f)),l=!0):(f._w===m._w?f._p>m._p:f?._w<m?._w)&&d.set(p,f);return d},a.tagMap);const c=a.tagMap.get("title"),u=a.tagMap.get("titleTemplate");if(o._title=c?.textContent,u){const d=u?.textContent;if(o._titleTemplate=d,d){let f=typeof d=="function"?d(c?.textContent):d;typeof f=="string"&&!o.plugins.has("template-params")&&(f=f.replace("%s",c?.textContent||"")),c?f===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:f}):(u.tag="title",u.textContent=f)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Nf)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const h=[];for(const d of a.tags){const{innerHTML:f,tag:p,props:m}=d;if(a1.has(p)&&!(Object.keys(m).length===0&&!d.innerHTML&&!d.textContent)&&!(p==="meta"&&!m.content&&!m["http-equiv"]&&!m.charset)){if(p==="script"&&f){if(m.type?.endsWith("json")){const g=typeof f=="string"?f:JSON.stringify(f);d.innerHTML=g.replace(/</g,"\\u003C")}else typeof f=="string"&&(d.innerHTML=f.replace(new RegExp(`</${p}`,"g"),`<\\/${p}`));d._d=eh(d)}h.push(d)}}return h},invalidate(){for(const a of s.values())n.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(r?.plugins||[]).forEach(a=>Hf(o,a)),o.hooks.callHook("init",o),r.init?.forEach(a=>a&&o.push(a)),o}const ET=(r,e)=>_d(e)?ke(e):e,rv="usehead";function CT(r){return{install(t){t.config.globalProperties.$unhead=r,t.config.globalProperties.$head=r,t.provide(rv,r)}}.install}function Fd(){if(bd()){const r=xd(rv);if(!r)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return r}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Eo(r,e={}){const t=e.head||Fd();return t.ssr?t.push(r||{},e):PT(t,r,e)}function PT(r,e,t={}){const s=Ee(!1);let i;return Ey(()=>{const o=s.value?{}:qa(e,ET);i?i.patch(o):i=r.push(o,t)}),fn()&&(dx(()=>{i.dispose()}),fx(()=>{s.value=!0}),px(()=>{s.value=!1})),i}function RT(r={},e={}){(e.head||Fd()).use(p1);const{title:s,titleTemplate:i,...n}=r;return Eo({title:s,titleTemplate:i,_flatMeta:n},e)}function Rl(r,e){return r||(r={}),r._resolver=e,r}function TO(r){return Rl(r,"article")}function IT(r){return Rl(r,"person")}function kT(r){return Rl(r,"webPage")}function LT(r){return Rl(r,"webSite")}function MT(r=[],e={}){(e.head||Fd()).use(wT());const s=Eo(zf(r),e),i=s.patch;return s.patch=n=>i(zf(n)),s}$s.extend(Yx);$s.extend(qx);$s.extend(Zx);function wO(r,e={}){return typeof r=="string"&&(r=new Date(r)),$s.tz($s.utc(r),e.timezone).format(e.template||"YYYY-MM-DD")}function Gf(r,e=!0){return r.sort((t,s)=>{const i=+new Date(t.date||""),n=+new Date(s.date||"");return e?n-i:i-n})}function DT(){const r=Tt();mx(()=>{r.value.timezone&&$s.tz.setDefault(r.value.timezone)})}const sv=`{"siteConfig":{"mode":"auto","url":"https://zero251.xyz/","lang":"zh-CN","languages":["en","zh-CN"],"timezone":"Asia/Shanghai","title":"Zero_wyc的窝","description":"Zero_wyc的公式化","subtitle":"二向无常","author":{"avatar":"https://p.zero251.xyz/i/2025/03/28/辛.webp","email":"i@valaxy.site","link":"https://valaxy.site","name":"Zero-无常","status":{"emoji":"🖥️","message":"The moonlight is beautiful."}},"favicon":"https://p.zero251.xyz/i/2025/03/28/甘城.svg","feed":{"name":"","favicon":"/favicon.svg"},"social":[{"name":"GitHub","link":"https://github.com/Zero-wyc","icon":"i-ri-github-line","color":"#6e5494"},{"name":"Bilibili","link":"https://space.bilibili.com/539775193","icon":"i-ri-bilibili-line","color":"#FF8EB3"},{"name":"QQ 群 717047754","link":"https://qm.qq.com/q/tr40uN8Aj6","icon":"i-ri-qq-line","color":"#12B7F5"},{"name":"Steam","link":"https://steamcommunity.com/profiles/76561199062579234/","icon":"i-ri-steam-line","color":"#137FAF"},{"name":"网易云音乐","link":"https://music.163.com/#/user/home?id=3728464360","icon":"i-ri-netease-cloud-music-line","color":"#C20C0C"},{"name":"Twitter","link":"https://x.com/Zero_wyc0721","icon":"i-ri-twitter-x-fill","color":"black"},{"name":"Pixiv","link":"https://www.pixiv.net/users/59653138","icon":"i-ri-parking-box-line","color":"#0096F9"},{"name":"Telegram","link":"https://t.me/zero_wyc","icon":"i-ri-telegram-line","color":"#0088CC"},{"name":"酷安","link":"https://www.coolapk.com/u/7056601","icon":"i-ri-infinity-line","color":"#409A45"},{"name":"GAME Account","link":"https://zero251.xyz/posts/Game","icon":"i-ri-gamepad-line","color":"#409A45"},{"name":"微博","link":"https://weibo.com/u/7395123860","icon":"i-ri-weibo-line","color":"#E6162D"},{"name":"知乎","link":"https://www.zhihu.com/people/yu-chen-98-28-85","icon":"i-ri-zhihu-line","color":"#0084FF"},{"name":"E-Mail","link":"https://zero251.xyz/posts/Email","icon":"i-ri-mail-line","color":"#8E71C1"},{"name":"RSS","link":"/atom.xml","icon":"i-ri-rss-line","color":"orange"}],"lastUpdated":true,"license":{"enabled":true,"language":"","type":"by-nc-sa"},"sponsor":{"enable":true,"description":"这是关于赞助的一些描述","methods":[]},"search":{"enable":true,"type":"fuse"},"fuse":{"dataPath":"valaxy-fuse-list.json","options":{"keys":[]}},"comment":{"enable":true},"frontmatter":{"time_warning":true},"cdn":{"prefix":"https://unpkg.com/"},"mediumZoom":{"enable":true,"selector":"","options":{}},"vanillaLazyload":{"enable":false,"options":{}},"floatingVue":{"disabled":false,"distance":5,"skidding":0,"container":"body","instantMove":false,"disposeTimeout":150,"popperTriggers":[],"strategy":"absolute","preventOverflow":true,"flip":true,"shift":true,"overflowPadding":0,"arrowPadding":0,"arrowOverflow":true,"autoHideOnMousedown":false,"themes":{"tooltip":{"placement":"top","triggers":["hover","focus","touch"],"delay":{"show":200,"hide":0},"handleResize":false,"html":false,"loadingContent":"..."},"dropdown":{"placement":"bottom","triggers":["click"],"delay":0,"handleResize":true,"autoHide":true},"menu":{"$extend":"dropdown","triggers":["hover","focus"],"popperTriggers":["hover"],"delay":{"show":0,"hide":400}}}},"statistics":{"enable":true,"readTime":{"speed":{"cn":300,"en":200}}},"pageSize":7,"encrypt":{"enable":false,"algorithm":"AES-CBC","salt":{"0":206,"1":218,"2":97,"3":190,"4":191,"5":71,"6":49,"7":165,"8":1,"9":179,"10":156,"11":3,"12":180,"13":38,"14":18,"15":101},"iv":{"0":90,"1":90,"2":26,"3":5,"4":130,"5":215,"6":0,"7":5,"8":170,"9":112,"10":123,"11":22,"12":211,"13":119,"14":30,"15":198}},"redirects":{"useVueRouter":true,"rules":[]}},"theme":"yun","themeConfig":{"pkg":{"name":"valaxy-theme-yun","type":"module","version":"0.26.6","author":{"email":"me@yunyoujun.cn","name":"YunYouJun","url":"https://www.yunyoujun.cn"},"license":"MIT","homepage":"https://yun.valaxy.site","repository":{"type":"git","url":"git+https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun.git"},"exports":{"./client":"./client/index.ts","./theme":"./types/index.d.ts","./*":"./*",".":"./index.ts"},"main":"index.ts","module":"index.ts","dependencies":{"@ctrl/tinycolor":"^4.1.0","@explosions/fireworks":"^0.2.0","@iconify-json/ant-design":"^1.2.5","@iconify-json/simple-icons":"^1.2.50","@vueuse/motion":"^3.0.3","animejs":"^4.1.3","gsap":"^3.13.0","primevue":"^4.3.9"},"devDependencies":{"@types/animejs":"^3.1.13","valaxy-addon-waline":"0.2.1","valaxy":"0.26.6"},"scripts":{"release":"bumpp && pnpm publish"}},"type":"nimbo","valaxyDarkOptions":{"circleTransition":true},"outlineTitle":"On this page","colors":{"primary":"#0D92FF"},"banner":{"enable":true,"title":"Zero_wyc的小窝","cloud":{"enable":true}},"bg_image":{"enable":true,"url":"https://p.zero251.xyz/i/2025/07/14/甘城2白_1.webp","dark":"https://p.zero251.xyz/i/2025/07/14/甘城主图290黑_1.webp"},"say":{"enable":true,"api":"","hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"}},"fireworks":{"enable":true,"colors":["#0D92FF","#7FFFFF","#E8BBFF"]},"notice":{"enable":false,"hideInPages":false,"content":""},"nav":[{"text":"标签","link":"/tags/","icon":"i-ri-price-tag-3-line"},{"text":"分类","link":"/categories/","icon":"i-ri-list-unordered"},{"text":"OpenList","link":"/links/","icon":"i-ri-triangle-line"},{"text":"相册","link":"/albums/","icon":"i-ri-gallery-line"},{"text":"追番列表","link":"/Bangumi/","icon":"i-ri-folder-video-line"}],"pages":[{"name":"标签","url":"/tags/","icon":"i-ri-price-tag-3-line","color":"#43abee"},{"name":"OpenList下载站","url":"/links/","icon":"i-ri-triangle-line","color":"dodgerblue"},{"name":"相册","url":"/albums/","icon":"i-ri-gallery-line","color":"#43abee"},{"name":"追番列表","url":"/Bangumi/","icon":"i-ri-folder-video-line","color":"#05AEEC"}],"footer":{"cloud":{"enable":true},"since":2025,"icon":{"enable":true,"name":"i-ri-cloud-line","animated":true,"color":"var(--va-c-primary)","url":"https://www.yunyoujun.cn/sponsors/","title":"Sponsor YunYouJun"},"powered":true,"beian":{"enable":true,"icp":"闽ICP备2025091782号-1"}},"types":{"link":{"color":"var(--va-c-primary)","icon":"i-ri-external-link-line"},"bilibili":{"color":"#FF8EB3","icon":"i-ri-bilibili-line"},"douban":{"color":"#007722","icon":"i-ri-douban-line"},"github":{"color":"var(--va-c-text)","icon":"i-ri-github-line"},"netease-cloud-music":{"color":"#C10D0C","icon":"i-ri-netease-cloud-music-line"},"notion":{"color":"var(--va-c-text)","icon":"i-simple-icons-notion"},"twitter":{"color":"black","icon":"i-ri-twitter-x-fill"},"wechat":{"color":"#1AAD19","icon":"i-ri-wechat-2-line"},"weibo":{"color":"#E6162D","icon":"i-ri-weibo-line"},"yuque":{"color":"#25b864","icon":"i-ant-design-yuque-outlined"},"zhihu":{"color":"#0084FF","icon":"i-ri-zhihu-line"}},"menu":{"custom":{"title":"button.about","icon":"i-ri-clipboard-line","url":"/about"}}},"build":{"ssgForPagination":false},"deploy":{},"runtimeConfig":{"addons":{"valaxy-addon-bangumi":{"name":"valaxy-addon-bangumi","enable":true,"options":{"api":"https://yi_xiao_jiu-bangumi.web.val.run","bilibiliUid":"539775193","bgmEnabled":false},"global":false,"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-bangumi","props":{},"pkg":{"name":"valaxy-addon-bangumi","type":"module","version":"0.2.2","description":"Bangumi addon for Valaxy","repository":{"type":"git","url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-bangumi"},"keywords":["valaxy","addon","bangumi"],"main":"index.ts","types":"index.d.ts","peerDependencies":{"valaxy":"latest"},"dependencies":{"bilibili-bangumi-component":"^0.3.1"}},"configFile":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-bangumi/valaxy.config.ts"},"valaxy-addon-lightgallery":{"name":"valaxy-addon-lightgallery","enable":true,"options":{},"global":false,"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-lightgallery","props":{},"pkg":{"name":"valaxy-addon-lightgallery","type":"module","version":"0.0.4","description":"Light Gallery for Valaxy","repository":{"url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-lightgallery"},"keywords":["valaxy","addon","lightgallery","gallery"],"main":"index.ts","peerDependencies":{"valaxy":"latest"},"dependencies":{"lightgallery":"2.7.2"}},"configFile":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-lightgallery/valaxy.config.ts"},"valaxy-addon-twikoo":{"name":"valaxy-addon-twikoo","enable":true,"options":{"envId":"https://twikoo.zero251.xyz"},"global":false,"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-twikoo","props":{},"pkg":{"name":"valaxy-addon-twikoo","version":"0.0.3","description":"Twikoo Composition API for Valaxy","repository":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-twikoo","keywords":["valaxy","addon","twikoo"],"exports":{"./*":"./*"},"main":"index.ts","types":"index.d.ts","peerDependencies":{"valaxy":"latest"}}},"valaxy-addon-meting":{"name":"valaxy-addon-meting","enable":true,"global":true,"props":{"id":"5176495148","server":"netease","type":"playlist","theme":"#4FBCCD","preload":"auto","mutex":true,"autoplay":false,"fixed":true,"lyricColor":"#4FBCCD","volume":0.3},"options":{"lyricHidden":true,"animationIn":true,"autoHidden":true},"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-meting","pkg":{"name":"valaxy-addon-meting","global":true,"version":"0.1.4","license":"MIT","repository":{"url":"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-addon-meting","type":"git"},"keywords":["valaxy","addon","meting"]},"configFile":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-meting/valaxy.config.ts"},"valaxy-addon-vercount":{"name":"valaxy-addon-vercount","enable":true,"options":{"api":"cn"},"global":false,"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-vercount","props":{},"pkg":{"name":"valaxy-addon-vercount","version":"0.0.7","description":"A Vercount API based counting plugin for Valaxy, serving as an alternative to Busuanzi counting","repository":"https://github.com/valaxyjs/valaxy-addon-vercount","keywords":["valaxy","addon","valaxy-addon","vercount","busuanzi"],"main":"index.ts","types":"index.d.ts","scripts":{"ci:publish":"npm publish --access public"},"dependencies":{"peerjs":"^1.5.4","uuid":"^10.0.0"},"devDependencies":{"@types/uuid":"^10.0.0"}}},"valaxy-addon-live2d":{"name":"valaxy-addon-live2d","enable":true,"global":true,"options":{"skipHello":false,"widthLimit":400,"randomCharacter":false,"randomSkin":false,"safetyMargin":0,"enableLive2D":["bcy","yazakura","BlackCat","pa15","Type95","kewei","beierfasite","chaijun","edu","bisimai","ankeleiqi","mori_miko","shengluyisi","nabulesi","ougen","qiye","aijier","dafeng","naximofu","HK416","guanghui","xingdengbao","wuqi","innong","hemin","tiancheng","sitelasibao","siwanshi","tianlangxing","zhaohe","yanusi","xinzexi","wuzang","yingrui","yingxianzuo","yunxian","zengkehaijunshangjiang","aersasi","luyijiushi","jianye","aerbien","mojiaduoer","BiliBili22","BiliBili33"],"live2DCollection":{"aerbien":{"message":"来自 Azun Lane 的阿尔比恩 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aerbien_3/aerbien.model3.json"]},"aersasi":{"message":"来自 Azun Lane 的阿尔萨斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aersasi_2/aersasi_2.model3.json"]},"chaijun":{"message":"来自碧蓝航线的柴郡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/chaijun_3/chaijun_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/chaijun_5/chaijun_5.model3.json"]},"beierfasite":{"message":"来自碧蓝航线的贝尔法斯特 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/beierfasite_2/beierfasite_2.model3.json"]},"ankeleiqi":{"message":"来自 Azun Lane 的安克雷奇 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ankeleiqi_3/ankeleiqi_3.model3.json"]},"bisimai":{"message":"来自 Azun Lane 的匹斯麦 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/bisimai_2_hx/bisimai_2_hx.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/bisimai_4/bisimai_4.model3.json"]},"aijier":{"message":"来自碧蓝航线的埃吉尔 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_3_hx/aijier_3_hx.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_2/aijier_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_4/aijier_4.model3.json"]},"mori_miko":{"message":"来自 Fox Hime Zero 的 MoriMiko ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/galgame live2d/Fox Hime Zero/mori_miko/mori_miko.model3.json"]},"dafeng":{"message":"来自 Azun Lane 的大凤 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_2/dafeng_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_3/dafeng_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_4/dafeng_4.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_6/dafeng_6.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_7/dafeng_7.model3.json"]},"edu":{"message":"来自 Azun Lane 的恶毒 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/edu_3/edu_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/edu_4/edu_4.model3.json"]},"guanghui":{"message":"来自 Azun Lane 的光辉 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/guanghui_7/guanghui_7.model3.json"]},"bcy":{"message":"来自崩坏2的八重樱 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/崩坏学园2/BYC/model.json"]},"guangrong":{"message":"来自 Azun Lane 的光荣 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/guangrong_3/guangrong_3.model3.json"]},"hemin":{"message":"来自 Azun Lane 的赫敏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/hemin_2/hemin_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/hemin_3/hemin_3.model3.json"]},"yazakura":{"message":"来自崩坏2的八重樱 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/崩坏学园2/yazakura/model.json"]},"BlackCat":{"message":"来自 LOVE³-LOVE CUBE- 的黑猫 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/galgame live2d/LOVE³-LOVE CUBE-/live2d/kuroneko/kuroneko.model3.json"]},"luyijiushi":{"message":"来自 Azun Lane 的路易九世 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/luyijiushi_2/luyijiushi_2.model3.json"]},"pa15":{"message":"来自少女前线的 PA-15 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/少女前线 girls Frontline/live2dnew/pa15_4202/normal/normal.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/少女前线 girls Frontline/live2dnew/pa15_4202/destroy/destroy.model3.json"]},"ougen":{"message":"来自 Azun Lane 的欧根亲王 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ougen_6/ougen_6.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ougen_5/ougen_5.model3.json"]},"qiye":{"message":"来自 Azun Lane 的企业 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/qiye_7/qiye_7.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/qiye_9/qiye_9.model3.json"]},"shengluyisi":{"message":"来自 Azun Lane 的圣路易斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/shengluyisi_2/shengluyisi_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/shengluyisi_5/shengluyisi_5.model3.json"]},"BiliBili22":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/22/index.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.cba-normal.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.newyear.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.school.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.2.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.high.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.low.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.valley.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.vdays.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.lover.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.spring.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.default.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.2.model.json"]},"BiliBili33":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/33/index.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.cba-normal.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.newyear.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.school.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.high.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.low.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.valley.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.vdays.json","https://summerscar.me/live2dDemo/assets/33.default/model.2018.lover.json","https://summerscar.me/live2dDemo/assets/33.defaultmodel.2018.spring.json"]},"mojiaduoer":{"message":"来自 Azun Lane 的莫加多尔 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/mojiaduoer_2/mojiaduoer_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/mojiaduoer_3/mojiaduoer_3.model3.json"]},"naximofu":{"message":"来自 Azun Lane 的纳希莫夫 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/naximofu_2/naximofu_2.model3.json"]},"nabulesi":{"message":"来自 Azun Lane 的那不勒斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/nabulesi_2/nabulesi_2.model3.json"]},"Type95":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/95type/95type_3702/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/95type/95type_3702/destroy/index.json"]},"HK416":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_805/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_3401/destroy/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_3401/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_805/destroy/index.json"]},"jianye":{"message":"来自 Azun Lane 的樫野 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_2/jianye_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_3/jianye_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_4/jianye_4.model3.json"]},"kewei":{"message":"来自 Azun Lane 的可畏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/kewei_4/kewei_4.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/kewei_6/kewei_6.model3.json"]},"sitelasibao":{"message":"来自 Azun Lane 的斯特拉斯堡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/sitelasibao_2/sitelasibao_2.model3.json"]},"siwanshi":{"message":"来自 Azun Lane 的四万十 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/siwanshi_3/siwanshi_3.model3.json"]},"tianlangxing":{"message":"来自 Azun Lane 的天狼星 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tianlangxing_5/tianlangxing_5.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tianlangxing_3/tianlangxing_3.model3.json"]},"tiancheng":{"message":"来自 Azun Lane 的天城 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tiancheng_3/tiancheng_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tiancheng_2/tiancheng_2.model3.json"]},"wuqi":{"message":"来自 Azun Lane 的吾妻 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuqi_2/wuqi_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuqi_3/wuqi_3.model3.json"]},"xingdengbao":{"message":"来自 Azun Lane 的兴登堡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xingdengbao_2/xingdengbao_2.model3.json"]},"xinnong":{"message":"来自 Azun Lane 的信浓 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_3/xinnong_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_5/xinnong_5.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_4/xinnong_4.model3.json"]},"xinzexi":{"message":"来自 Azun Lane 的新泽西 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinzexi_3/xinzexi_3.model3.json"]},"yanusi":{"message":"来自 Azun Lane 的雅努斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yanusi_3/yanusi_3.model3.json"]},"wuzang":{"message":"来自 Azun Lane 的武藏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuzang_3/wuzang_3.model3.json"]},"yingrui":{"message":"来自 Azun Lane 的应瑞 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yingrui_3/yingrui_3.model3.json"]},"yingxianzuo":{"message":"来自 Azun Lane 的英仙座 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yingxianzuo_3/yingxianzuo_3.model3.json"]},"yunxian":{"message":"来自 Azun Lane 的云仙 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yunxian_2/yunxian_2.model3.json"]},"zengkehaijunshangjiang":{"message":"来自 Azun Lane 的曾克海军上将 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/zengkehaijunshangjiang_2/zengkehaijunshangjiang_2.model3.json"]},"zhaohe":{"message":"来自 Azun Lane 的昭和 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/zhaohe_3/zhaohe_3.model3.json"]}},"live2dTips":{"mouseover":[{"selector":"#live2d-canvas","text":["现在总计有45个人物哦,还有皮肤可探索~","点击Char换人,Skin换衣服哦~","我们一起加油吧！","摸摸头，你已经很棒了！","要保持微笑哦~","今天天气真好呢！","你好呀~","干嘛呢你，快把手拿开～～","鼠…鼠标放错地方了！","你要干嘛呀？","喵喵喵？","怕怕(ノ≧∇≦)ノ","非礼呀！救命！","这样的话，只能使用武力了！","我要生气了哦","不要动手动脚的！","真…真的是不知羞耻！","Hentai！"]},{"selector":"#live2d-tool-hitokoto","text":["猜猜我要说些什么？","我从青蛙王子那里听到了不少人生经验。"]},{"selector":"#live2d-tool-asteroids","text":["要不要来玩飞机大战？","这个按钮上写着「不要点击」。","怎么，你想来和我玩个游戏？","听说这样可以蹦迪！"]},{"selector":"#live2d-tool-switch-model","text":["你是不是不爱人家了呀，呜呜呜～","要见见我的姐姐嘛？","想要看我妹妹嘛？","要切换看板娘吗？"]},{"selector":"#live2d-tool-switch-texture","text":["喜欢换装 PLAY 吗？","这次要扮演什么呢？","变装！","让我们看看接下来会发生什么！"]},{"selector":"#live2d-tool-photo","text":["你要给我拍照呀？一二三～茄子～","要不，我们来合影吧！","保持微笑就好了～"]},{"selector":"#live2d-tool-info","text":["想要知道更多关于我的事么？","这里记录着我搬家的历史呢。","你想深入了解我什么呢？"]},{"selector":"#live2d-tool-quit","text":["到了要说再见的时候了吗？","呜呜 QAQ 后会有期……","不要抛弃我呀……","我们，还能再见面吗……","哼，你会后悔的！"]},{"selector":".menu-item-home a","text":["点击回到首页~","让我们重新开始吧！","点击前往首页，想回到上一页可以使用浏览器的后退功能哦。","点它就可以回到首页啦！","回首页看看吧。"]},{"selector":".menu-item-about a","text":["你想知道我家主人是谁吗？","这里有一些关于我家主人的秘密哦，要不要看看呢？","发现主人出没地点！"]},{"selector":".menu-item-tags a","text":["点击就可以看文章的标签啦！","点击来查看所有标签哦。"]},{"selector":".menu-item-categories a","text":["文章都分类好啦～","点击来查看文章分类哦。"]},{"selector":".menu-item-archives a","text":["翻页比较麻烦吗，那就来看看文章归档吧。","文章目录都整理在这里啦！"]},{"selector":".menu-item-friends a","text":["这是我的朋友们哦ヾ(◍°∇°◍)ﾉﾞ","要去大佬们的家看看吗？","要去拜访一下我的朋友们吗？"]},{"selector":".menu-item-search a","text":["找不到想看的内容？搜索看看吧！","在找什么东西呢，需要帮忙吗？"]},{"selector":".menu-item a","text":["快看看这里都有什么呢？"]},{"selector":".site-author","text":["我家主人好看吗？","这是我家主人(*´∇｀*)"]},{"selector":".site-title","text":["欢迎来到我的小站！","欢迎来到我的小窝！","这是我的小窝，欢迎光临～","欢迎来到我的博客！"]},{"selector":".site-state","text":["这是文章的统计信息～","要不要点进去看看？"]},{"selector":".feed-link a","text":["这里可以使用 RSS 订阅呢！","利用 feed 订阅器，就能快速知道博客有没有更新了呢。"]},{"selector":".cc-opacity, .post-copyright-author","text":["要记得规范转载哦。","所有文章均采用 CC BY-NC-SA 4.0 许可协议～","转载前要先注意下文章的版权协议呢。"]},{"selector":".links-of-author","text":["这里是主人的常驻地址哦。","这里有主人的联系方式！"]},{"selector":".followme","text":["手机扫一下就能继续看，很方便呢～","扫一扫，打开新世界的大门！"]},{"selector":".fancybox img, img.medium-zoom-image","text":["点击图片可以放大呢！"]},{"selector":".copy-btn","text":["代码可以直接点击复制哟。"]},{"selector":".highlight .table-container, .gist","text":["GitHub！我是新手！","PHP 是最好的语言！"]},{"selector":"a[href^='mailto']","text":["邮件我会及时回复的！","点击就可以发送邮件啦～"]},{"selector":"a[href^='/tags/']","text":["要去看看 <span>{text}</span> 标签么？","点它可以查看此标签下的所有文章哟！"]},{"selector":"a[href^='/categories/']","text":["要去看看 <span>{text}</span> 分类么？","点它可以查看此分类下的所有文章哟！"]},{"selector":".post-title-link","text":["要看看 <span>{text}</span> 这篇文章吗？"]},{"selector":"a[rel='contents']","text":["点击来阅读全文哦。"]},{"selector":"a[itemprop='discussionUrl']","text":["要去看看评论吗？"]},{"selector":".beian a","text":["我也是有户口的人哦。","我的主人可是遵纪守法的好主人。"]},{"selector":".container a[href^='http'], .nav-link .nav-text","text":["要去看看 <span>{text}</span> 么？","去 <span>{text}</span> 逛逛吧。","到 <span>{text}</span> 看看吧。"]},{"selector":".back-to-top","text":["点它就可以回到顶部啦！","又回到最初的起点～","要回到开始的地方么？"]},{"selector":".reward-container","text":["我是不是棒棒哒～快给我点赞吧！","要打赏我嘛？好期待啊～","主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"]},{"selector":"#wechat","text":["这是我的微信二维码～"]},{"selector":"#alipay","text":["这是我的支付宝哦！"]},{"selector":"#bitcoin","text":["这是我的比特币账号！"]},{"selector":"#needsharebutton-postbottom .btn","text":["好东西要让更多人知道才行哦。","觉得文章有帮助的话，可以分享给更多需要的朋友呢。"]},{"selector":".need-share-button_weibo","text":["微博？来分享一波喵！"]},{"selector":".need-share-button_wechat","text":["分享到微信吧！"]},{"selector":".need-share-button_douban","text":["分享到豆瓣好像也不错！"]},{"selector":".need-share-button_qqzone","text":["QQ 空间，一键转发，耶～"]},{"selector":".need-share-button_twitter","text":["Twitter？好像是不存在的东西？"]},{"selector":".need-share-button_facebook","text":["emmm…FB 好像也是不存在的东西？"]},{"selector":".post-nav-item a[rel='next']","text":["来看看下一篇文章吧。","点它可以看下一篇文章哦！","要翻到下一篇文章吗？"]},{"selector":".post-nav-item a[rel='prev']","text":["来看看上一篇文章吧。","点它可以看上一篇文章哦！","要翻到上一篇文章吗？"]},{"selector":".extend.next","text":["去下一页看看吧。","点它可以前进哦！","要翻到下一页吗？"]},{"selector":".extend.prev","text":["去上一页看看吧。","点它可以后退哦！","要翻到上一页吗？"]},{"selector":"input.vnick","text":["该怎么称呼你呢？","留下你的尊姓大名！"]},{"selector":".vmail","text":["留下你的邮箱，不然就是无头像人士了！","记得设置好 Gravatar 头像哦！","为了方便通知你最新消息，一定要留下邮箱！"]},{"selector":".vlink","text":["快快告诉我你的家在哪里，好让我去参观参观！"]},{"selector":".veditor","text":["想要去评论些什么吗？","要说点什么吗？","觉得博客不错？快来留言和主人交流吧！"]},{"selector":".vcontrol a","text":["你会不会熟练使用 Markdown 呀？","使用 Markdown 让评论更美观吧～"]},{"selector":".vemoji-btn","text":["要插入一个萌萌哒的表情吗？","要来一发表情吗？"]},{"selector":".vpreview-btn","text":["要预览一下你的发言吗？","快看看你的评论有多少负熵！"]},{"selector":".vsubmit","text":["评论没有审核，要对自己的发言负责哦～","要提交了吗，请耐心等待回复哦～"]},{"selector":".vcontent","text":["哇，快看看这个精彩评论！","如果有疑问，请尽快留言哦～"]}],"click":[{"selector":"#live2d","text":["主人说过要好好爱护我的！","我们来聊天吧！","再摸我就生气了！","哎呀！轻点点~","是…是不小心碰到了吧…","萝莉控是什么呀？","你看到我的小熊了吗？","再摸的话我可要报警了！⌇●﹏●⌇","110 吗，这里有个变态一直在摸我(ó﹏ò｡)","不要摸我了，我会告诉老婆来打你的！","干嘛动我呀！小心我咬你！","别摸我，有什么好摸的！"]},{"selector":".veditor","text":["要吐槽些什么呢？","一定要认真填写喵～","有什么想说的吗？"]},{"selector":".vsubmit","text":["输入验证码就可以提交评论啦～"]}],"seasons":[{"date":"01/01","text":"<span>元旦</span>了呢，新的一年又开始了，今年是{year}年～"},{"date":"02/14","text":"又是一年<span>情人节</span>，{year}年找到对象了嘛～"},{"date":"03/08","text":"今天是<span>国际妇女节</span>！"},{"date":"03/12","text":"今天是<span>植树节</span>，要保护环境呀！"},{"date":"04/01","text":"悄悄告诉你一个秘密～<span>今天是愚人节，不要被骗了哦～</span>"},{"date":"05/01","text":"今天是<span>五一劳动节</span>，计划好假期去哪里了吗～"},{"date":"06/01","text":"<span>儿童节</span>了呢，快活的时光总是短暂，要是永远长不大该多好啊…"},{"date":"09/03","text":"<span>中国人民抗日战争胜利纪念日</span>，铭记历史、缅怀先烈、珍爱和平、开创未来。"},{"date":"09/10","text":"<span>教师节</span>，在学校要给老师问声好呀～"},{"date":"10/01","text":"<span>国庆节</span>到了，为祖国母亲庆生！"},{"date":"11/05-11/12","text":"今年的<span>双十一</span>是和谁一起过的呢～"},{"date":"12/20-12/31","text":"这几天是<span>圣诞节</span>，主人肯定又去剁手买买买了～"}],"time":[{"hour":"6-7","text":"早上好！一日之计在于晨，美好的一天就要开始了～"},{"hour":"8-11","text":"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！"},{"hour":"12-13","text":"中午了，工作了一个上午，现在是午餐时间！"},{"hour":"14-17","text":"午后很容易犯困呢，今天的运动目标完成了吗？"},{"hour":"18-19","text":"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红～"},{"hour":"20-21","text":"晚上好，今天过得怎么样？"},{"hour":"22-23","text":["已经这么晚了呀，早点休息吧，晚安～","深夜时要爱护眼睛呀！"]},{"hour":"0-5","text":"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？"}],"message":{"default":["今天也要元气满满哦！","好久不见，日子过得好快呢……","大坏蛋！你都多久没理人家了呀，嘤嘤嘤～","嗨～快来逗我玩吧！","拿小拳拳锤你胸口！","记得把小家加入收藏夹哦！"],"console":"哈哈，你打开了控制台，是想要看看我的小秘密吗？","copy":"你都复制了些什么呀，转载要记得加上出处哦！","visibilitychange":"欢迎回来，主人！","clothes":["我还没有其他衣服呢！"]},"tool":{"camera":["照好了嘛，是不是很可爱呢？","茄子~拍得好看吗？"],"display":["愿你有一天能与重要的人重逢","想我了吗？我一直都在这里哦！"]}}},"root":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-live2d","props":{},"pkg":{"name":"valaxy-addon-live2d","global":true,"version":"0.4.0","packageManager":"pnpm@9.5.0","description":"","repository":{"url":"git+https://github.com/valaxyjs/valaxy-addon-live2d.git"},"keywords":["valaxy","addon","valaxy-addon","live2d"],"exports":{"./*":"./*"},"main":"index.ts","types":"index.d.ts","scripts":{"dev":"nodemon","ci:publish":"cd dist && npm publish --access public","build":"tsx scripts/build.ts","lint":"eslint ."},"peerDependencies":{"@vueuse/core":"13.3.0","lodash-es":"^4.17.21","stats.js":"^0.17.0"},"dependencies":{"pixi-live2d-display":"^0.5.0-beta","pixi.js":"^7.4.2","url":"^0.11.4"},"devDependencies":{"@antfu/eslint-config":"^4.14.1","@types/lodash-es":"^4.17.12","@types/node":"^22.15.30","@types/stats.js":"^0.17.3","consola":"^3.2.3","eslint":"^9.18.0","eslint-plugin-format":"^1.0.1","nodemon":"^3.1.10","tsx":"^4.16.2","valaxy-addon-hitokoto":"^0.0.1","vue-tsc":"^2.0.28"}},"configFile":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io/node_modules/valaxy-addon-live2d/valaxy.config.ts"}},"redirects":{"useVueRouter":true,"redirectRoutes":[]}},"modules":{"rss":{"enable":true,"fullText":false}},"features":{"katex":true},"vite":{"build":{"emptyOutDir":true,"rollupOptions":{"external":[],"preserveEntrySignatures":"allow-extension","output":{"assetFileNames":"assets/[name].[hash].[ext]","entryFileNames":"assets/[name].[hash].js"}}},"optimizeDeps":{"include":["lightgallery/vue/LightGalleryVue.umd.min.js","@pixi/utils","@pixi/graphics","@pixi/settings","@pixi/app","@pixi/core","@pixi/extract","@pixi/ticker"]},"plugins":[{"name":"valaxy-theme-yun","enforce":"pre"}]},"vue":{"browserTemplateCompilation":true,"isCustomElement":[null,null]},"devtools":true,"unocss":{"safelist":["i-ri-home-line","i-ri-price-tag-3-line","i-ri-triangle-line","i-ri-gallery-line","i-ri-folder-video-line","i-ri-price-tag-3-line","i-ri-list-unordered","i-ri-triangle-line","i-ri-gallery-line","i-ri-folder-video-line"]},"addons":[{"name":"valaxy-addon-bangumi","enable":true,"options":{"api":"https://yi_xiao_jiu-bangumi.web.val.run","bilibiliUid":"539775193","bgmEnabled":false}},{"name":"valaxy-addon-lightgallery","enable":true},{"name":"valaxy-addon-twikoo","enable":true,"options":{"envId":"https://twikoo.zero251.xyz"}},{"name":"valaxy-addon-meting","enable":true,"global":true,"props":{"id":"5176495148","server":"netease","type":"playlist","theme":"#4FBCCD","preload":"auto","mutex":true,"autoplay":false,"fixed":true,"lyricColor":"#4FBCCD","volume":0.3},"options":{"lyricHidden":true,"animationIn":true,"autoHidden":true}},{"name":"valaxy-addon-vercount","enable":true,"options":{"api":"cn"}},{"name":"valaxy-addon-live2d","enable":true,"global":false,"options":{"skipHello":false,"widthLimit":400,"randomCharacter":false,"randomSkin":false,"safetyMargin":0,"enableLive2D":["bcy","yazakura","BlackCat","pa15","Type95","kewei","beierfasite","chaijun","edu","bisimai","ankeleiqi","mori_miko","shengluyisi","nabulesi","ougen","qiye","aijier","dafeng","naximofu","HK416","guanghui","xingdengbao","wuqi","innong","hemin","tiancheng","sitelasibao","siwanshi","tianlangxing","zhaohe","yanusi","xinzexi","wuzang","yingrui","yingxianzuo","yunxian","zengkehaijunshangjiang","aersasi","luyijiushi","jianye","aerbien","mojiaduoer","BiliBili22","BiliBili33"],"live2DCollection":{"aerbien":{"message":"来自 Azun Lane 的阿尔比恩 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aerbien_3/aerbien.model3.json"]},"aersasi":{"message":"来自 Azun Lane 的阿尔萨斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aersasi_2/aersasi_2.model3.json"]},"chaijun":{"message":"来自碧蓝航线的柴郡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/chaijun_3/chaijun_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/chaijun_5/chaijun_5.model3.json"]},"beierfasite":{"message":"来自碧蓝航线的贝尔法斯特 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/beierfasite_2/beierfasite_2.model3.json"]},"ankeleiqi":{"message":"来自 Azun Lane 的安克雷奇 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ankeleiqi_3/ankeleiqi_3.model3.json"]},"bisimai":{"message":"来自 Azun Lane 的匹斯麦 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/bisimai_2_hx/bisimai_2_hx.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/bisimai_4/bisimai_4.model3.json"]},"aijier":{"message":"来自碧蓝航线的埃吉尔 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_3_hx/aijier_3_hx.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_2/aijier_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/aijier_4/aijier_4.model3.json"]},"mori_miko":{"message":"来自 Fox Hime Zero 的 MoriMiko ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/galgame live2d/Fox Hime Zero/mori_miko/mori_miko.model3.json"]},"dafeng":{"message":"来自 Azun Lane 的大凤 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_2/dafeng_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_3/dafeng_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_4/dafeng_4.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_6/dafeng_6.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/dafeng_7/dafeng_7.model3.json"]},"edu":{"message":"来自 Azun Lane 的恶毒 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/edu_3/edu_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/edu_4/edu_4.model3.json"]},"guanghui":{"message":"来自 Azun Lane 的光辉 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/guanghui_7/guanghui_7.model3.json"]},"bcy":{"message":"来自崩坏2的八重樱 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/崩坏学园2/BYC/model.json"]},"guangrong":{"message":"来自 Azun Lane 的光荣 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/guangrong_3/guangrong_3.model3.json"]},"hemin":{"message":"来自 Azun Lane 的赫敏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/hemin_2/hemin_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/hemin_3/hemin_3.model3.json"]},"yazakura":{"message":"来自崩坏2的八重樱 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/崩坏学园2/yazakura/model.json"]},"BlackCat":{"message":"来自 LOVE³-LOVE CUBE- 的黑猫 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/galgame live2d/LOVE³-LOVE CUBE-/live2d/kuroneko/kuroneko.model3.json"]},"luyijiushi":{"message":"来自 Azun Lane 的路易九世 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/luyijiushi_2/luyijiushi_2.model3.json"]},"pa15":{"message":"来自少女前线的 PA-15 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/少女前线 girls Frontline/live2dnew/pa15_4202/normal/normal.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/少女前线 girls Frontline/live2dnew/pa15_4202/destroy/destroy.model3.json"]},"ougen":{"message":"来自 Azun Lane 的欧根亲王 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ougen_6/ougen_6.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/ougen_5/ougen_5.model3.json"]},"qiye":{"message":"来自 Azun Lane 的企业 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/qiye_7/qiye_7.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/qiye_9/qiye_9.model3.json"]},"shengluyisi":{"message":"来自 Azun Lane 的圣路易斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/shengluyisi_2/shengluyisi_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/shengluyisi_5/shengluyisi_5.model3.json"]},"BiliBili22":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/22/index.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.cba-normal.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.newyear.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.school.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.2.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.high.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.low.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.valley.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.vdays.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.lover.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.spring.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.default.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.2.model.json"]},"BiliBili33":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/33/index.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.cba-normal.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.newyear.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.school.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.high.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.low.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.valley.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.vdays.json","https://summerscar.me/live2dDemo/assets/33.default/model.2018.lover.json","https://summerscar.me/live2dDemo/assets/33.defaultmodel.2018.spring.json"]},"mojiaduoer":{"message":"来自 Azun Lane 的莫加多尔 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/mojiaduoer_2/mojiaduoer_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/mojiaduoer_3/mojiaduoer_3.model3.json"]},"naximofu":{"message":"来自 Azun Lane 的纳希莫夫 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/naximofu_2/naximofu_2.model3.json"]},"nabulesi":{"message":"来自 Azun Lane 的那不勒斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/nabulesi_2/nabulesi_2.model3.json"]},"Type95":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/95type/95type_3702/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/95type/95type_3702/destroy/index.json"]},"HK416":{"models":["https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_805/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_3401/destroy/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_3401/normal/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/HK416/HK416_805/destroy/index.json"]},"jianye":{"message":"来自 Azun Lane 的樫野 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_2/jianye_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_3/jianye_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/jianye_4/jianye_4.model3.json"]},"kewei":{"message":"来自 Azun Lane 的可畏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/kewei_4/kewei_4.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/kewei_6/kewei_6.model3.json"]},"sitelasibao":{"message":"来自 Azun Lane 的斯特拉斯堡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/sitelasibao_2/sitelasibao_2.model3.json"]},"siwanshi":{"message":"来自 Azun Lane 的四万十 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/siwanshi_3/siwanshi_3.model3.json"]},"tianlangxing":{"message":"来自 Azun Lane 的天狼星 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tianlangxing_5/tianlangxing_5.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tianlangxing_3/tianlangxing_3.model3.json"]},"tiancheng":{"message":"来自 Azun Lane 的天城 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tiancheng_3/tiancheng_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/tiancheng_2/tiancheng_2.model3.json"]},"wuqi":{"message":"来自 Azun Lane 的吾妻 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuqi_2/wuqi_2.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuqi_3/wuqi_3.model3.json"]},"xingdengbao":{"message":"来自 Azun Lane 的兴登堡 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xingdengbao_2/xingdengbao_2.model3.json"]},"xinnong":{"message":"来自 Azun Lane 的信浓 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_3/xinnong_3.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_5/xinnong_5.model3.json","https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinnong_4/xinnong_4.model3.json"]},"xinzexi":{"message":"来自 Azun Lane 的新泽西 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/xinzexi_3/xinzexi_3.model3.json"]},"yanusi":{"message":"来自 Azun Lane 的雅努斯 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yanusi_3/yanusi_3.model3.json"]},"wuzang":{"message":"来自 Azun Lane 的武藏 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/wuzang_3/wuzang_3.model3.json"]},"yingrui":{"message":"来自 Azun Lane 的应瑞 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yingrui_3/yingrui_3.model3.json"]},"yingxianzuo":{"message":"来自 Azun Lane 的英仙座 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yingxianzuo_3/yingxianzuo_3.model3.json"]},"yunxian":{"message":"来自 Azun Lane 的云仙 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/yunxian_2/yunxian_2.model3.json"]},"zengkehaijunshangjiang":{"message":"来自 Azun Lane 的曾克海军上将 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/zengkehaijunshangjiang_2/zengkehaijunshangjiang_2.model3.json"]},"zhaohe":{"message":"来自 Azun Lane 的昭和 ~","models":["https://cdn.jsdelivr.net/gh/Zero-wyc/Live2d-model@master/碧蓝航线 Azue Lane/Azue Lane(JP)/zhaohe_3/zhaohe_3.model3.json"]}},"live2dTips":{"mouseover":[{"selector":"#live2d-canvas","text":["现在总计有45个人物哦,还有皮肤可探索~","点击Char换人,Skin换衣服哦~","我们一起加油吧！","摸摸头，你已经很棒了！","要保持微笑哦~","今天天气真好呢！","你好呀~","干嘛呢你，快把手拿开～～","鼠…鼠标放错地方了！","你要干嘛呀？","喵喵喵？","怕怕(ノ≧∇≦)ノ","非礼呀！救命！","这样的话，只能使用武力了！","我要生气了哦","不要动手动脚的！","真…真的是不知羞耻！","Hentai！"]},{"selector":"#live2d-tool-hitokoto","text":["猜猜我要说些什么？","我从青蛙王子那里听到了不少人生经验。"]},{"selector":"#live2d-tool-asteroids","text":["要不要来玩飞机大战？","这个按钮上写着「不要点击」。","怎么，你想来和我玩个游戏？","听说这样可以蹦迪！"]},{"selector":"#live2d-tool-switch-model","text":["你是不是不爱人家了呀，呜呜呜～","要见见我的姐姐嘛？","想要看我妹妹嘛？","要切换看板娘吗？"]},{"selector":"#live2d-tool-switch-texture","text":["喜欢换装 PLAY 吗？","这次要扮演什么呢？","变装！","让我们看看接下来会发生什么！"]},{"selector":"#live2d-tool-photo","text":["你要给我拍照呀？一二三～茄子～","要不，我们来合影吧！","保持微笑就好了～"]},{"selector":"#live2d-tool-info","text":["想要知道更多关于我的事么？","这里记录着我搬家的历史呢。","你想深入了解我什么呢？"]},{"selector":"#live2d-tool-quit","text":["到了要说再见的时候了吗？","呜呜 QAQ 后会有期……","不要抛弃我呀……","我们，还能再见面吗……","哼，你会后悔的！"]},{"selector":".menu-item-home a","text":["点击回到首页~","让我们重新开始吧！","点击前往首页，想回到上一页可以使用浏览器的后退功能哦。","点它就可以回到首页啦！","回首页看看吧。"]},{"selector":".menu-item-about a","text":["你想知道我家主人是谁吗？","这里有一些关于我家主人的秘密哦，要不要看看呢？","发现主人出没地点！"]},{"selector":".menu-item-tags a","text":["点击就可以看文章的标签啦！","点击来查看所有标签哦。"]},{"selector":".menu-item-categories a","text":["文章都分类好啦～","点击来查看文章分类哦。"]},{"selector":".menu-item-archives a","text":["翻页比较麻烦吗，那就来看看文章归档吧。","文章目录都整理在这里啦！"]},{"selector":".menu-item-friends a","text":["这是我的朋友们哦ヾ(◍°∇°◍)ﾉﾞ","要去大佬们的家看看吗？","要去拜访一下我的朋友们吗？"]},{"selector":".menu-item-search a","text":["找不到想看的内容？搜索看看吧！","在找什么东西呢，需要帮忙吗？"]},{"selector":".menu-item a","text":["快看看这里都有什么呢？"]},{"selector":".site-author","text":["我家主人好看吗？","这是我家主人(*´∇｀*)"]},{"selector":".site-title","text":["欢迎来到我的小站！","欢迎来到我的小窝！","这是我的小窝，欢迎光临～","欢迎来到我的博客！"]},{"selector":".site-state","text":["这是文章的统计信息～","要不要点进去看看？"]},{"selector":".feed-link a","text":["这里可以使用 RSS 订阅呢！","利用 feed 订阅器，就能快速知道博客有没有更新了呢。"]},{"selector":".cc-opacity, .post-copyright-author","text":["要记得规范转载哦。","所有文章均采用 CC BY-NC-SA 4.0 许可协议～","转载前要先注意下文章的版权协议呢。"]},{"selector":".links-of-author","text":["这里是主人的常驻地址哦。","这里有主人的联系方式！"]},{"selector":".followme","text":["手机扫一下就能继续看，很方便呢～","扫一扫，打开新世界的大门！"]},{"selector":".fancybox img, img.medium-zoom-image","text":["点击图片可以放大呢！"]},{"selector":".copy-btn","text":["代码可以直接点击复制哟。"]},{"selector":".highlight .table-container, .gist","text":["GitHub！我是新手！","PHP 是最好的语言！"]},{"selector":"a[href^='mailto']","text":["邮件我会及时回复的！","点击就可以发送邮件啦～"]},{"selector":"a[href^='/tags/']","text":["要去看看 <span>{text}</span> 标签么？","点它可以查看此标签下的所有文章哟！"]},{"selector":"a[href^='/categories/']","text":["要去看看 <span>{text}</span> 分类么？","点它可以查看此分类下的所有文章哟！"]},{"selector":".post-title-link","text":["要看看 <span>{text}</span> 这篇文章吗？"]},{"selector":"a[rel='contents']","text":["点击来阅读全文哦。"]},{"selector":"a[itemprop='discussionUrl']","text":["要去看看评论吗？"]},{"selector":".beian a","text":["我也是有户口的人哦。","我的主人可是遵纪守法的好主人。"]},{"selector":".container a[href^='http'], .nav-link .nav-text","text":["要去看看 <span>{text}</span> 么？","去 <span>{text}</span> 逛逛吧。","到 <span>{text}</span> 看看吧。"]},{"selector":".back-to-top","text":["点它就可以回到顶部啦！","又回到最初的起点～","要回到开始的地方么？"]},{"selector":".reward-container","text":["我是不是棒棒哒～快给我点赞吧！","要打赏我嘛？好期待啊～","主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"]},{"selector":"#wechat","text":["这是我的微信二维码～"]},{"selector":"#alipay","text":["这是我的支付宝哦！"]},{"selector":"#bitcoin","text":["这是我的比特币账号！"]},{"selector":"#needsharebutton-postbottom .btn","text":["好东西要让更多人知道才行哦。","觉得文章有帮助的话，可以分享给更多需要的朋友呢。"]},{"selector":".need-share-button_weibo","text":["微博？来分享一波喵！"]},{"selector":".need-share-button_wechat","text":["分享到微信吧！"]},{"selector":".need-share-button_douban","text":["分享到豆瓣好像也不错！"]},{"selector":".need-share-button_qqzone","text":["QQ 空间，一键转发，耶～"]},{"selector":".need-share-button_twitter","text":["Twitter？好像是不存在的东西？"]},{"selector":".need-share-button_facebook","text":["emmm…FB 好像也是不存在的东西？"]},{"selector":".post-nav-item a[rel='next']","text":["来看看下一篇文章吧。","点它可以看下一篇文章哦！","要翻到下一篇文章吗？"]},{"selector":".post-nav-item a[rel='prev']","text":["来看看上一篇文章吧。","点它可以看上一篇文章哦！","要翻到上一篇文章吗？"]},{"selector":".extend.next","text":["去下一页看看吧。","点它可以前进哦！","要翻到下一页吗？"]},{"selector":".extend.prev","text":["去上一页看看吧。","点它可以后退哦！","要翻到上一页吗？"]},{"selector":"input.vnick","text":["该怎么称呼你呢？","留下你的尊姓大名！"]},{"selector":".vmail","text":["留下你的邮箱，不然就是无头像人士了！","记得设置好 Gravatar 头像哦！","为了方便通知你最新消息，一定要留下邮箱！"]},{"selector":".vlink","text":["快快告诉我你的家在哪里，好让我去参观参观！"]},{"selector":".veditor","text":["想要去评论些什么吗？","要说点什么吗？","觉得博客不错？快来留言和主人交流吧！"]},{"selector":".vcontrol a","text":["你会不会熟练使用 Markdown 呀？","使用 Markdown 让评论更美观吧～"]},{"selector":".vemoji-btn","text":["要插入一个萌萌哒的表情吗？","要来一发表情吗？"]},{"selector":".vpreview-btn","text":["要预览一下你的发言吗？","快看看你的评论有多少负熵！"]},{"selector":".vsubmit","text":["评论没有审核，要对自己的发言负责哦～","要提交了吗，请耐心等待回复哦～"]},{"selector":".vcontent","text":["哇，快看看这个精彩评论！","如果有疑问，请尽快留言哦～"]}],"click":[{"selector":"#live2d","text":["主人说过要好好爱护我的！","我们来聊天吧！","再摸我就生气了！","哎呀！轻点点~","是…是不小心碰到了吧…","萝莉控是什么呀？","你看到我的小熊了吗？","再摸的话我可要报警了！⌇●﹏●⌇","110 吗，这里有个变态一直在摸我(ó﹏ò｡)","不要摸我了，我会告诉老婆来打你的！","干嘛动我呀！小心我咬你！","别摸我，有什么好摸的！"]},{"selector":".veditor","text":["要吐槽些什么呢？","一定要认真填写喵～","有什么想说的吗？"]},{"selector":".vsubmit","text":["输入验证码就可以提交评论啦～"]}],"seasons":[{"date":"01/01","text":"<span>元旦</span>了呢，新的一年又开始了，今年是{year}年～"},{"date":"02/14","text":"又是一年<span>情人节</span>，{year}年找到对象了嘛～"},{"date":"03/08","text":"今天是<span>国际妇女节</span>！"},{"date":"03/12","text":"今天是<span>植树节</span>，要保护环境呀！"},{"date":"04/01","text":"悄悄告诉你一个秘密～<span>今天是愚人节，不要被骗了哦～</span>"},{"date":"05/01","text":"今天是<span>五一劳动节</span>，计划好假期去哪里了吗～"},{"date":"06/01","text":"<span>儿童节</span>了呢，快活的时光总是短暂，要是永远长不大该多好啊…"},{"date":"09/03","text":"<span>中国人民抗日战争胜利纪念日</span>，铭记历史、缅怀先烈、珍爱和平、开创未来。"},{"date":"09/10","text":"<span>教师节</span>，在学校要给老师问声好呀～"},{"date":"10/01","text":"<span>国庆节</span>到了，为祖国母亲庆生！"},{"date":"11/05-11/12","text":"今年的<span>双十一</span>是和谁一起过的呢～"},{"date":"12/20-12/31","text":"这几天是<span>圣诞节</span>，主人肯定又去剁手买买买了～"}],"time":[{"hour":"6-7","text":"早上好！一日之计在于晨，美好的一天就要开始了～"},{"hour":"8-11","text":"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！"},{"hour":"12-13","text":"中午了，工作了一个上午，现在是午餐时间！"},{"hour":"14-17","text":"午后很容易犯困呢，今天的运动目标完成了吗？"},{"hour":"18-19","text":"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红～"},{"hour":"20-21","text":"晚上好，今天过得怎么样？"},{"hour":"22-23","text":["已经这么晚了呀，早点休息吧，晚安～","深夜时要爱护眼睛呀！"]},{"hour":"0-5","text":"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？"}],"message":{"default":["今天也要元气满满哦！","好久不见，日子过得好快呢……","大坏蛋！你都多久没理人家了呀，嘤嘤嘤～","嗨～快来逗我玩吧！","拿小拳拳锤你胸口！","记得把小家加入收藏夹哦！"],"console":"哈哈，你打开了控制台，是想要看看我的小秘密吗？","copy":"你都复制了些什么呀，转载要记得加上出处哦！","visibilitychange":"欢迎回来，主人！","clothes":["我还没有其他衣服呢！"]},"tool":{"camera":["照好了嘛，是不是很可爱呢？","茄子~拍得好看吗？"],"display":["愿你有一天能与重要的人重逢","想我了吗？我一直都在这里哦！"]}}}}]}`,iv='{"userRoot":"/home/runner/work/Zero-wyc.github.io/Zero-wyc.github.io"}';function Il(r){return JSON.parse(r)}const nv=Symbol("valaxy:config"),ov=Je(Il(sv)),OT=Symbol("ValaxyData"),BT=Je(Il(iv));ov.value=Il(sv);BT.value=Il(iv);function FT(){return K(()=>ov.value)}function Co(){const r=xd(nv);if(!r)throw new Error("[Valaxy] site config not properly injected in app");return r}function Tt(){const r=Co();return K(()=>r.value.siteConfig)}function Nd(){const r=Co();return K(()=>r.value.themeConfig)}function $d(){const r=Co();return K(()=>r.value.runtimeConfig)}function NT(){const r=Tt(),e=ms(),{locale:t}=Rt(),{$t:s,$tO:i}=Wr(),n=K(()=>i(e.value.title)),o=Tr(),{toggleLocale:a}=gv();o.query.lang&&a(o.query.lang);const l=K(()=>e.value.url||r.value.url),c=K(()=>i(e.value.excerpt)||i(e.value.description)||s(r.value.description));RT({description:c,ogDescription:c,ogLocale:K(()=>t.value||e.value.lang||r.value.lang||"en"),ogLocaleAlternate:K(()=>r.value.languages.filter(u=>u!==t.value)),ogSiteName:K(()=>s(r.value.title)),ogTitle:K(()=>i(e.value.title)||s(r.value.title)),ogImage:K(()=>e.value.ogImage||e.value.cover||r.value.favicon),ogType:"website",ogUrl:l}),MT([IT({name:s(r.value.author.name),url:l.value,image:s(r.value.author.avatar),sameAs:r.value.social.map(u=>u.link)}),LT({name:n.value,datePublished:K(()=>e.value.date),dateModified:K(()=>e.value.updated)}),kT()]),DT(),zT()}const $T="valaxy",UT="0.26.6",jT={url:"git+https://github.com/YunYouJun/valaxy.git"},jn={name:$T,version:UT,repository:jT};function zT(){const{$t:r,$tO:e}=Wr(),t=ms(),s=Tt(),i=K(()=>e(t.value.title));Eo({title:i,titleTemplate:n=>{const o=r(s.value.title);return e(t.value.titleTemplate)||(n?`${n} - ${o}`:o)},link:[{rel:"icon",href:s.value.favicon,type:s.value.favicon?.endsWith("svg")?"image/svg+xml":"image/png"}],meta:[K(()=>({name:"description",content:e(t.value.description)||r(s.value.description)})),{name:"generator",content:`Valaxy ${jn.version}`}],templateParams:{schemaOrg:{host:s.value.url}},script:[{id:"check-mac-os",innerHTML:"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))",async:!0}]})}const hs=wl("app",()=>{const r=Tt(),e=Nd(),{isDark:t,toggleDark:s,toggleDarkWithTransition:i,themeColor:n}=zd(e.value.valaxyDarkOptions),o=vw(),a=Ee(!0),l=K(()=>r.value.languages.length>1);return{isMobile:o,isDark:t,showToggleLocale:l,themeColor:n,toggleDark:s,toggleDarkWithTransition:i,showLoading:a}}),av=wl("routerStore",()=>({router:xl()})),kl=wl("site",()=>{const e=av().router,t=Ee(1),s=K(()=>{const i=Mw().value;return t.value&&i,i});return e&&e.isReady().then(()=>{}),{postList:s}});function AO(r){return r.children}function lv(r,e=[]){return K(()=>{const t=j(r);e.length||(e=kl().postList);const s={name:"All",total:e.length,children:new Map([["Uncategorized",{name:"Uncategorized",total:0,children:new Map}]])},i=s.children.get("Uncategorized");if(e.forEach(n=>{if(n.categories)if(Array.isArray(n.categories)){const o=n.categories.length;let a=s,l=a;n.categories.forEach((c,u)=>{a.total+=1,a=a.children.get(c),a||(a={name:c,total:0,children:new Map},l.children.set(c,a)),u===o-1&&(a.children.set(n.path,n),a.total+=1),l=a})}else{const o=n.categories,a=s.children.get(o);a?(a.total+=1,a.children.set(n.path,n)):s.children.set(o,{name:o,total:1,children:new Map([[n.path,n]])})}else i.total+=1,i.children.set(n.path,n)}),i.total===0&&s.children.delete("Uncategorized"),t){let n=s;const o=t.split("/");for(const a of o){const l=n.children.get(a);if(l&&l.children)n=l;else return console.warn(`Do not have category: ${r}`),s}return n}else return s})}function Ll(r){return vx()?(_x(r),!0):!1}const lc=new WeakMap,HT=(...r)=>{var e;const t=r[0],s=(e=fn())==null?void 0:e.proxy;if(s==null&&!bd())throw new Error("injectLocal must be called in setup");return s&&lc.has(s)&&t in lc.get(s)?lc.get(s)[t]:xd(...r)},Po=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cv=r=>r!=null,GT=Object.prototype.toString,VT=r=>GT.call(r)==="[object Object]",pr=()=>{};function uv(...r){if(r.length!==1)return gx(...r);const e=r[0];return typeof e=="function"?Td(yx(()=>({get:e,set:pr}))):Ee(e)}function Ud(r,e){function t(...s){return new Promise((i,n)=>{Promise.resolve(r(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(i).catch(n)})}return t}const hv=r=>r();function WT(r,e={}){let t,s,i=pr;const n=l=>{clearTimeout(l),i(),i=pr};let o;return l=>{const c=ke(r),u=ke(e.maxWait);return t&&n(t),c<=0||u!==void 0&&u<=0?(s&&(n(s),s=void 0),Promise.resolve(l())):new Promise((h,d)=>{i=e.rejectOnCancel?d:h,o=l,u&&!s&&(s=setTimeout(()=>{t&&n(t),s=void 0,h(o())},u)),t=setTimeout(()=>{s&&n(s),s=void 0,h(l())},c)})}}function XT(...r){let e=0,t,s=!0,i=pr,n,o,a,l,c;!_d(r[0])&&typeof r[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:c=!1}=r[0]:[o,a=!0,l=!0,c=!1]=r;const u=()=>{t&&(clearTimeout(t),t=void 0,i(),i=pr)};return d=>{const f=ke(o),p=Date.now()-e,m=()=>n=d();return u(),f<=0?(e=Date.now(),m()):(p>f&&(l||!s)?(e=Date.now(),m()):a&&(n=new Promise((g,y)=>{i=c?y:g,t=setTimeout(()=>{e=Date.now(),s=!0,g(m()),u()},Math.max(0,f-p))})),!l&&!t&&(t=setTimeout(()=>s=!0,f)),s=!1,n)}}function YT(r=hv,e={}){const{initialState:t="active"}=e,s=uv(t==="active");function i(){s.value=!1}function n(){s.value=!0}const o=(...a)=>{s.value&&r(...a)};return{isActive:Td(s),pause:i,resume:n,eventFilter:o}}function Vf(r){return r.endsWith("rem")?Number.parseFloat(r)*16:Number.parseFloat(r)}function Qn(r){return Array.isArray(r)?r:[r]}function dv(r){return fn()}function qT(r,e=200,t={}){return Ud(WT(e,t),r)}function ZT(r,e=200,t=!1,s=!0,i=!1){return Ud(XT(e,t,s,i),r)}function KT(r,e,t={}){const{eventFilter:s=hv,...i}=t;return Ze(r,Ud(s,e),i)}function JT(r,e,t={}){const{eventFilter:s,initialState:i="active",...n}=t,{eventFilter:o,pause:a,resume:l,isActive:c}=YT(s,{initialState:i});return{stop:KT(r,e,{...n,eventFilter:o}),pause:a,resume:l,isActive:c}}function Ro(r,e=!0,t){dv()?Zt(r,t):e?r():wo(r)}function QT(r,e){dv()&&Tn(r,e)}function ew(r=!1,e={}){const{truthyValue:t=!0,falsyValue:s=!1}=e,i=_d(r),n=Je(r);function o(a){if(arguments.length)return n.value=a,n.value;{const l=ke(t);return n.value=n.value===l?ke(s):l,n.value}}return i?o:[n,o]}function tw(r,e,t){return Ze(r,e,{...t,immediate:!0})}const zr=Po?window:void 0,rw=Po?window.document:void 0;function mr(r){var e;const t=ke(r);return(e=t?.$el)!=null?e:t}function Fr(...r){const e=[],t=()=>{e.forEach(a=>a()),e.length=0},s=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),i=K(()=>{const a=Qn(ke(r[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),n=tw(()=>{var a,l;return[(l=(a=i.value)==null?void 0:a.map(c=>mr(c)))!=null?l:[zr].filter(c=>c!=null),Qn(ke(i.value?r[1]:r[0])),Qn(j(i.value?r[2]:r[1])),ke(i.value?r[3]:r[2])]},([a,l,c,u])=>{if(t(),!a?.length||!l?.length||!c?.length)return;const h=VT(u)?{...u}:u;e.push(...a.flatMap(d=>l.flatMap(f=>c.map(p=>s(d,f,p,h)))))},{flush:"post"}),o=()=>{n(),t()};return Ll(t),o}function sw(){const r=Je(!1),e=fn();return e&&Zt(()=>{r.value=!0},e),r}function Ml(r){const e=sw();return K(()=>(e.value,!!r()))}function fv(r,e,t={}){const{window:s=zr,...i}=t;let n;const o=Ml(()=>s&&"MutationObserver"in s),a=()=>{n&&(n.disconnect(),n=void 0)},l=K(()=>{const d=ke(r),f=Qn(d).map(mr).filter(cv);return new Set(f)}),c=Ze(l,d=>{a(),o.value&&d.size&&(n=new MutationObserver(e),d.forEach(f=>n.observe(f,i)))},{immediate:!0,flush:"post"}),u=()=>n?.takeRecords(),h=()=>{c(),a()};return Ll(h),{isSupported:o,stop:h,takeRecords:u}}const iw=Symbol("vueuse-ssr-width");function nw(){const r=bd()?HT(iw,null):null;return typeof r=="number"?r:void 0}function Lr(r,e={}){const{window:t=zr,ssrWidth:s=nw()}=e,i=Ml(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),n=Je(typeof s=="number"),o=Je(),a=Je(!1),l=c=>{a.value=c.matches};return Ey(()=>{if(n.value){n.value=!i.value;const c=ke(r).split(",");a.value=c.some(u=>{const h=u.includes("not all"),d=u.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),f=u.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(d||f);return d&&p&&(p=s>=Vf(d[1])),f&&p&&(p=s<=Vf(f[1])),h?!p:p});return}i.value&&(o.value=t.matchMedia(ke(r)),a.value=o.value.matches)}),Fr(o,"change",l,{passive:!0}),K(()=>a.value)}const Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No="__vueuse_ssr_handlers__",ow=aw();function aw(){return No in Fo||(Fo[No]=Fo[No]||{}),Fo[No]}function pv(r,e){return ow[r]||e}function lw(r){return Lr("(prefers-color-scheme: dark)",r)}function cw(r){return r==null?"any":r instanceof Set?"set":r instanceof Map?"map":r instanceof Date?"date":typeof r=="boolean"?"boolean":typeof r=="string"?"string":typeof r=="object"?"object":Number.isNaN(r)?"any":"number"}const uw={boolean:{read:r=>r==="true",write:r=>String(r)},object:{read:r=>JSON.parse(r),write:r=>JSON.stringify(r)},number:{read:r=>Number.parseFloat(r),write:r=>String(r)},any:{read:r=>r,write:r=>String(r)},string:{read:r=>r,write:r=>String(r)},map:{read:r=>new Map(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r.entries()))},set:{read:r=>new Set(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r))},date:{read:r=>new Date(r),write:r=>r.toISOString()}},Wf="vueuse-storage";function jd(r,e,t,s={}){var i;const{flush:n="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:h=zr,eventFilter:d,onError:f=R=>{console.error(R)},initOnMounted:p}=s,m=(u?Je:Ee)(typeof e=="function"?e():e),g=K(()=>ke(r));if(!t)try{t=pv("getDefaultStorage",()=>{var R;return(R=zr)==null?void 0:R.localStorage})()}catch(R){f(R)}if(!t)return m;const y=ke(e),v=cw(y),_=(i=s.serializer)!=null?i:uw[v],{pause:T,resume:b}=JT(m,R=>O(R),{flush:n,deep:o,eventFilter:d});Ze(g,()=>P(),{flush:n});let L=!1;const x=R=>{p&&!L||P(R)},I=R=>{p&&!L||B(R)};h&&a&&(t instanceof Storage?Fr(h,"storage",x,{passive:!0}):Fr(h,Wf,I)),p?Ro(()=>{L=!0,P()}):P();function k(R,G){if(h){const A={key:g.value,oldValue:R,newValue:G,storageArea:t};h.dispatchEvent(t instanceof Storage?new StorageEvent("storage",A):new CustomEvent(Wf,{detail:A}))}}function O(R){try{const G=t.getItem(g.value);if(R==null)k(G,null),t.removeItem(g.value);else{const A=_.write(R);G!==A&&(t.setItem(g.value,A),k(G,A))}}catch(G){f(G)}}function M(R){const G=R?R.newValue:t.getItem(g.value);if(G==null)return l&&y!=null&&t.setItem(g.value,_.write(y)),y;if(!R&&c){const A=_.read(G);return typeof c=="function"?c(A,y):v==="object"&&!Array.isArray(A)?{...y,...A}:A}else return typeof G!="string"?G:_.read(G)}function P(R){if(!(R&&R.storageArea!==t)){if(R&&R.key==null){m.value=y;return}if(!(R&&R.key!==g.value)){T();try{const G=_.write(m.value);(R===void 0||R?.newValue!==G)&&(m.value=M(R))}catch(G){f(G)}finally{R?wo(b):b()}}}}function B(R){P(R.detail)}return m}const hw="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function dw(r={}){const{selector:e="html",attribute:t="class",initialValue:s="auto",window:i=zr,storage:n,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:c,disableTransition:u=!0}=r,h={auto:"",light:"light",dark:"dark",...r.modes||{}},d=lw({window:i}),f=K(()=>d.value?"dark":"light"),p=l||(o==null?uv(s):jd(o,s,n,{window:i,listenToStorageChanges:a})),m=K(()=>p.value==="auto"?f.value:p.value),g=pv("updateHTMLAttrs",(T,b,L)=>{const x=typeof T=="string"?i?.document.querySelector(T):mr(T);if(!x)return;const I=new Set,k=new Set;let O=null;if(b==="class"){const P=L.split(/\s/g);Object.values(h).flatMap(B=>(B||"").split(/\s/g)).filter(Boolean).forEach(B=>{P.includes(B)?I.add(B):k.add(B)})}else O={key:b,value:L};if(I.size===0&&k.size===0&&O===null)return;let M;u&&(M=i.document.createElement("style"),M.appendChild(document.createTextNode(hw)),i.document.head.appendChild(M));for(const P of I)x.classList.add(P);for(const P of k)x.classList.remove(P);O&&x.setAttribute(O.key,O.value),u&&(i.getComputedStyle(M).opacity,document.head.removeChild(M))});function y(T){var b;g(e,t,(b=h[T])!=null?b:T)}function v(T){r.onChanged?r.onChanged(T,y):y(T)}Ze(m,v,{flush:"post",immediate:!0}),Ro(()=>v(m.value));const _=K({get(){return c?p.value:m.value},set(T){p.value=T}});return Object.assign(_,{store:p,system:f,state:m})}function fw(r={}){const{valueDark:e="dark",valueLight:t=""}=r,s=dw({...r,onChanged:(o,a)=>{var l;r.onChanged?(l=r.onChanged)==null||l.call(r,o==="dark",a,o):a(o)},modes:{dark:e,light:t}}),i=K(()=>s.system.value);return K({get(){return s.value==="dark"},set(o){const a=o?"dark":"light";i.value===a?s.value="auto":s.value=a}})}function pw(r,e,t={}){const{window:s=zr,...i}=t;let n;const o=Ml(()=>s&&"ResizeObserver"in s),a=()=>{n&&(n.disconnect(),n=void 0)},l=K(()=>{const h=ke(r);return Array.isArray(h)?h.map(d=>mr(d)):[mr(h)]}),c=Ze(l,h=>{if(a(),o.value&&s){n=new ResizeObserver(e);for(const d of h)d&&n.observe(d,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return Ll(u),{isSupported:o,stop:u}}function SO(r,e={}){const{reset:t=!0,windowResize:s=!0,windowScroll:i=!0,immediate:n=!0,updateTiming:o="sync"}=e,a=Je(0),l=Je(0),c=Je(0),u=Je(0),h=Je(0),d=Je(0),f=Je(0),p=Je(0);function m(){const y=mr(r);if(!y){t&&(a.value=0,l.value=0,c.value=0,u.value=0,h.value=0,d.value=0,f.value=0,p.value=0);return}const v=y.getBoundingClientRect();a.value=v.height,l.value=v.bottom,c.value=v.left,u.value=v.right,h.value=v.top,d.value=v.width,f.value=v.x,p.value=v.y}function g(){o==="sync"?m():o==="next-frame"&&requestAnimationFrame(()=>m())}return pw(r,g),Ze(()=>mr(r),y=>!y&&g()),fv(r,g,{attributeFilter:["style","class"]}),i&&Fr("scroll",g,{capture:!0,passive:!0}),s&&Fr("resize",g,{passive:!0}),Ro(()=>{n&&g()}),{height:a,bottom:l,left:c,right:u,top:h,width:d,x:f,y:p,update:g}}function EO(r,e,t={}){const{root:s,rootMargin:i="0px",threshold:n=0,window:o=zr,immediate:a=!0}=t,l=Ml(()=>o&&"IntersectionObserver"in o),c=K(()=>{const p=ke(r);return Qn(p).map(mr).filter(cv)});let u=pr;const h=Je(a),d=l.value?Ze(()=>[c.value,mr(s),h.value],([p,m])=>{if(u(),!h.value||!p.length)return;const g=new IntersectionObserver(e,{root:mr(m),rootMargin:i,threshold:n});p.forEach(y=>y&&g.observe(y)),u=()=>{g.disconnect(),u=pr}},{immediate:a,flush:"post"}):pr,f=()=>{u(),d(),h.value=!1};return Ll(f),{isSupported:l,isActive:h,pause(){u(),h.value=!1},resume(){h.value=!0},stop:f}}const Xf=1;function mw(r,e={}){const{throttle:t=0,idle:s=200,onStop:i=pr,onScroll:n=pr,offset:o={left:0,right:0,top:0,bottom:0},observe:a={mutation:!1},eventListenerOptions:l={capture:!1,passive:!0},behavior:c="auto",window:u=zr,onError:h=k=>{console.error(k)}}=e,d=typeof a=="boolean"?{mutation:a}:a,f=Je(0),p=Je(0),m=K({get(){return f.value},set(k){y(k,void 0)}}),g=K({get(){return p.value},set(k){y(void 0,k)}});function y(k,O){var M,P,B,R;if(!u)return;const G=ke(r);if(!G)return;(B=G instanceof Document?u.document.body:G)==null||B.scrollTo({top:(M=ke(O))!=null?M:g.value,left:(P=ke(k))!=null?P:m.value,behavior:ke(c)});const A=((R=G?.document)==null?void 0:R.documentElement)||G?.documentElement||G;m!=null&&(f.value=A.scrollLeft),g!=null&&(p.value=A.scrollTop)}const v=Je(!1),_=Ku({left:!0,right:!1,top:!0,bottom:!1}),T=Ku({left:!1,right:!1,top:!1,bottom:!1}),b=k=>{v.value&&(v.value=!1,T.left=!1,T.right=!1,T.top=!1,T.bottom=!1,i(k))},L=qT(b,t+s),x=k=>{var O;if(!u)return;const M=((O=k?.document)==null?void 0:O.documentElement)||k?.documentElement||mr(k),{display:P,flexDirection:B,direction:R}=getComputedStyle(M),G=R==="rtl"?-1:1,A=M.scrollLeft;T.left=A<f.value,T.right=A>f.value;const S=Math.abs(A*G)<=(o.left||0),w=Math.abs(A*G)+M.clientWidth>=M.scrollWidth-(o.right||0)-Xf;P==="flex"&&B==="row-reverse"?(_.left=w,_.right=S):(_.left=S,_.right=w),f.value=A;let C=M.scrollTop;k===u.document&&!C&&(C=u.document.body.scrollTop),T.top=C<p.value,T.bottom=C>p.value;const E=Math.abs(C)<=(o.top||0),D=Math.abs(C)+M.clientHeight>=M.scrollHeight-(o.bottom||0)-Xf;P==="flex"&&B==="column-reverse"?(_.top=D,_.bottom=E):(_.top=E,_.bottom=D),p.value=C},I=k=>{var O;if(!u)return;const M=(O=k.target.documentElement)!=null?O:k.target;x(M),v.value=!0,L(k),n(k)};return Fr(r,"scroll",t?ZT(I,t,!0,!1):I,l),Ro(()=>{try{const k=ke(r);if(!k)return;x(k)}catch(k){h(k)}}),d?.mutation&&r!=null&&r!==u&&r!==document&&fv(r,()=>{const k=ke(r);k&&x(k)},{attributes:!0,childList:!0,subtree:!0}),Fr(r,"scrollend",b,l),{x:m,y:g,isScrolling:v,arrivedState:_,directions:T,measure(){const k=ke(r);u&&k&&x(k)}}}function CO(r,e=pr,t={}){const{immediate:s=!0,manual:i=!1,type:n="text/javascript",async:o=!0,crossOrigin:a,referrerPolicy:l,noModule:c,defer:u,document:h=rw,attrs:d={},nonce:f=void 0}=t,p=Je(null);let m=null;const g=_=>new Promise((T,b)=>{const L=O=>(p.value=O,T(O),O);if(!h){T(!1);return}let x=!1,I=h.querySelector(`script[src="${ke(r)}"]`);I?I.hasAttribute("data-loaded")&&L(I):(I=h.createElement("script"),I.type=n,I.async=o,I.src=ke(r),u&&(I.defer=u),a&&(I.crossOrigin=a),c&&(I.noModule=c),l&&(I.referrerPolicy=l),f&&(I.nonce=f),Object.entries(d).forEach(([O,M])=>I?.setAttribute(O,M)),x=!0);const k={passive:!0};Fr(I,"error",O=>b(O),k),Fr(I,"abort",O=>b(O),k),Fr(I,"load",()=>{I.setAttribute("data-loaded","true"),e(I),L(I)},k),x&&(I=h.head.appendChild(I)),_||L(I)}),y=(_=!0)=>(m||(m=g(_)),m),v=()=>{if(!h)return;m=null,p.value&&(p.value=null);const _=h.querySelector(`script[src="${ke(r)}"]`);_&&h.head.removeChild(_)};return s&&!i&&Ro(y),i||QT(v),{scriptTag:p,load:y,unload:v}}function gw(r={}){const{window:e=zr,...t}=r;return mw(e,t)}function ms(){const r=Tr();return K(()=>r.meta.frontmatter||{})}function PO(){const r=Tr();return K(()=>r.meta.$encryptedPhotos||"")}function RO(){const r=Tt(),e=Tr();return K(()=>((r.value.url.endsWith("/")?r.value.url.slice(0,-1):r.value.url)||Po&&window.location.origin)+e.path)}function zd(r={}){const e=fw(r.useDarkOptions),t=ew(e),s=K(()=>e.value?r.themeColor?.dark||"#000":r.themeColor?.light||"#fff");r.circleTransition&&nt(()=>Promise.resolve({}),__vite__mapDeps([0]));function i(n,o={}){if(!document.startViewTransition){t();return}const a=n.clientX,l=n.clientY,c=Math.hypot(Math.max(a,innerWidth-a),Math.max(l,innerHeight-l));document.startViewTransition(()=>{t()}).ready.then(()=>{const h=[`circle(0px at ${a}px ${l}px)`,`circle(${c}px at ${a}px ${l}px)`];document.documentElement.animate({clipPath:e.value?h.reverse():h},{duration:o.duration||300,easing:o.easing||"ease-in",pseudoElement:e.value?"::view-transition-old(root)":"::view-transition-new(root)"})})}return{isDark:e,themeColor:s,toggleDark:t,toggleDarkWithTransition:i}}function yw(){const r=Lr("(max-width: 639px)"),e=Lr("(min-width: 640px)"),t=Lr("(min-width: 768px)"),s=Lr("(min-width: 1024px)"),i=Lr("(min-width: 1280px)"),n=Lr("(min-width: 1536px)");return{isXs:r,isSm:e,isMd:t,isLg:s,isXl:i,is2xl:n}}function mv(r){const e=Tr();return K(()=>e.meta?.layout)}function vw(){return Lr("(max-width: 768px)")}function Hd(r,e){return r&&typeof r=="object"?r[e]||Object.values(r)[0]||"":r}const _w=/^(?:[a-z]+:|\/\/)/i,Yf="$locale:";let Sa=[];function bw(r){Sa.push(r),Tn(()=>{Sa=Sa.filter(e=>e!==r)})}const xw=()=>Sa.forEach(r=>r()),IO=xw;function kO(r,e){return Math.random()*(e-r)+r}function Tw(r,e){let t,s=!1;return()=>{t&&clearTimeout(t),s?t=setTimeout(r,e):(r(),s=!0,setTimeout(()=>{s=!1},e))}}function LO(r){return new Promise(e=>setTimeout(e,r))}function gv(){const{availableLocales:r,locale:e}=Rt(),t=jd("valaxy-locale",e.value);$s.locale(e.value==="zh-CN"?"zh-cn":"en");function s(n){e.value=n,t.value=n,$s.locale(n==="zh-CN"?"zh-cn":"en"),Po&&document.documentElement.setAttribute("lang",n)}return{lang:t,toggleLocale:s,toggleLocales:()=>{const n=r;e.value=n[(n.indexOf(e.value)+1)%n.length];const o=e.value;s(o)}}}function MO(r){const{locale:e}=Rt();return K(()=>{if(!r.value)return"";const t=e.value;return Hd(r.value.title||"",t)||""})}function Wr(){const{t:r,locale:e}=Rt();return{locale:e,$t:i=>i.startsWith(Yf)?r(i.slice(Yf.length)):i,$tO:i=>Hd(i||"",e.value)}}const nh=[];function ww(r,e,t){nh.length=0;const s=[],i=[];return r.forEach(n=>{const o={...n,children:[]};let a=i[i.length-1];for(;a&&a.level>=o.level;)i.pop(),a=i[i.length-1];if(o.element.classList.contains("ignore-header")||a&&"shouldIgnore"in a){i.push({level:o.level,shouldIgnore:!0});return}o.level>t||o.level<e||(nh.push({element:o.element,link:o.link}),a?a.children.push(o):s.push(o),i.push(o))}),s}function Aw(r,e=[2,4]){const t=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[s,i]=typeof t=="number"?[t,t]:t==="deep"?[2,6]:t;return ww(r,s,i)}function Sw(r){let e="";for(const t of Array.from(r.childNodes))if(t.nodeType===1){if(t.classList.contains("VABadge")||t.classList.contains("header-anchor"))continue;e+=t.textContent}else t.nodeType===3&&(e+=t.textContent);return e.trim()}function Ew(r={range:[2,4],selector:".markdown-body"}){const e=r.selector||".markdown-body",t=document.querySelectorAll(e),s=t[t.length-1],i=Array.from(s?.querySelectorAll(`${e} :where(h1,h2,h3,h4,h5,h6)`)||[]).filter(n=>r.filter?r.filter(n):!0).map(n=>{const o=Number(n.tagName[1]);return{element:n,title:Sw(n),link:`#${n.id}`,level:o,lang:n.lang}});return Aw(i,r.range)}function Cw(){const{hasSidebar:r}=xA(),e=Lr("(min-width: 960px)"),t=Lr("(min-width: 1280px)");return{isAsideEnabled:K(()=>!t.value&&!e.value?!1:r.value?t.value:e.value)}}const Pw=130,cc=33;function Rw(r){let e=0;for(;r!==document.body;){if(r===null)return Number.NaN;e+=r.offsetTop,r=r.offsetParent}return e}function Iw(r,e){const{isAsideEnabled:t}=Cw(),s=Tw(o,100);let i=null;Zt(()=>{requestAnimationFrame(o),window.addEventListener("scroll",s)}),bx(()=>{a(location.hash)}),Tn(()=>{window.removeEventListener("scroll",s)});const n=()=>{const l=i;if(!l)return;const c=document.querySelector(".yun-aside");if(c){const u=l.offsetTop+cc+60;(u<c.scrollTop||u>c.offsetHeight+c.scrollTop)&&c.scrollTo({top:u,behavior:"smooth"})}};function o(){if(!t.value)return;const l=window.scrollY,c=window.innerHeight,u=document.body.offsetHeight,h=Math.abs(l+c-u)<1,d=nh.map(({element:p,link:m})=>({link:m,top:Rw(p)})).filter(({top:p})=>!Number.isNaN(p)).sort((p,m)=>p.top-m.top);if(!d.length){a(null);return}if(l<1){a(null);return}if(h){a(d[d.length-1].link);return}let f=null;for(const{link:p,top:m}of d){if(m>l+4+Pw)break;f=p}a(f)}function a(l){i&&i.classList.remove("active"),l==null?i=null:i=r.value.querySelector(`a[href="${decodeURIComponent(l)}"]`);const c=i;n(),c?(c.classList.add("active"),e.value.style.top=`${c.offsetTop+cc}px`,e.value.style.opacity="1"):e.value&&(e.value.style.top=`${cc}px`,e.value.style.opacity="0")}}function kw(){const r=ms(),e=Nd(),t=Je([]),s=K(()=>r.value.outline??e.value.outline);return bw(()=>{s.value!==!1&&(t.value=Ew({range:s.value,selector:".markdown-body",filter:n=>!!n.id&&n.hasChildNodes()}))}),{headers:t,handleClick:({target:n})=>{const o=n.href.split("#")[1];document.getElementById(decodeURIComponent(o))?.focus({preventScroll:!0})}}}function DO(r){const{locale:e}=Rt();return K(()=>Hd(r.value.title||"",e.value))}function Lw(){const e=av().router;return K(()=>{const t=["/:..all","/:all(.*)*","/","/:path(.*)"];return e.getRoutes().filter(i=>i.name).filter(i=>i.meta).filter(i=>i.meta.frontmatter).filter(i=>i.path&&!t.includes(i.path)).map(i=>Object.assign({path:i.path,excerpt:i.meta.excerpt},i.meta.frontmatter||{}))})}function Mw(r={}){const e=Lw();return K(()=>{const t=e.value.filter(n=>n.path?.startsWith("/posts")&&!n.path?.endsWith(".html")&&n.date&&(!r.type||n.type===r.type)&&(!n.hide||n.hide==="index")),s=Gf(t.filter(n=>n.top)).sort((n,o)=>o.top-n.top),i=Gf(t.filter(n=>!n.top));return s.concat(i)})}function ds(r){return Array.isArray?Array.isArray(r):_v(r)==="[object Array]"}function Dw(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function Ow(r){return r==null?"":Dw(r)}function Dr(r){return typeof r=="string"}function yv(r){return typeof r=="number"}function Bw(r){return r===!0||r===!1||Fw(r)&&_v(r)=="[object Boolean]"}function vv(r){return typeof r=="object"}function Fw(r){return vv(r)&&r!==null}function Wt(r){return r!=null}function uc(r){return!r.trim().length}function _v(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const Nw="Incorrect 'index' type",$w=r=>`Invalid value for key ${r}`,Uw=r=>`Pattern length exceeds max of ${r}.`,jw=r=>`Missing ${r} property in key`,zw=r=>`Property 'weight' in key '${r}' must be a positive integer`,qf=Object.prototype.hasOwnProperty;class Hw{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let i=bv(s);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function bv(r){let e=null,t=null,s=null,i=1,n=null;if(Dr(r)||ds(r))s=r,e=Zf(r),t=oh(r);else{if(!qf.call(r,"name"))throw new Error(jw("name"));const o=r.name;if(s=o,qf.call(r,"weight")&&(i=r.weight,i<=0))throw new Error(zw(o));e=Zf(o),t=oh(o),n=r.getFn}return{path:e,id:t,weight:i,src:s,getFn:n}}function Zf(r){return ds(r)?r:r.split(".")}function oh(r){return ds(r)?r.join("."):r}function Gw(r,e){let t=[],s=!1;const i=(n,o,a)=>{if(Wt(n))if(!o[a])t.push(n);else{let l=o[a];const c=n[l];if(!Wt(c))return;if(a===o.length-1&&(Dr(c)||yv(c)||Bw(c)))t.push(Ow(c));else if(ds(c)){s=!0;for(let u=0,h=c.length;u<h;u+=1)i(c[u],o,a+1)}else o.length&&i(c,o,a+1)}};return i(r,Dr(e)?e.split("."):e,0),s?t:t[0]}const Vw={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ww={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},Xw={location:0,threshold:.6,distance:100},Yw={useExtendedSearch:!1,getFn:Gw,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var xe={...Ww,...Vw,...Xw,...Yw};const qw=/[^ ]+/g;function Zw(r=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(i){const n=i.match(qw).length;if(t.has(n))return t.get(n);const o=1/Math.pow(n,.5*r),a=parseFloat(Math.round(o*s)/s);return t.set(n,a),a},clear(){t.clear()}}}class Gd{constructor({getFn:e=xe.getFn,fieldNormWeight:t=xe.fieldNormWeight}={}){this.norm=Zw(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Dr(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Dr(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Wt(e)||uc(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((i,n)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Wt(o)){if(ds(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Wt(u))if(Dr(u)&&!uc(u)){let h={v:u,i:c,n:this.norm.get(u)};a.push(h)}else ds(u)&&u.forEach((h,d)=>{l.push({nestedArrIndex:d,value:h})})}s.$[n]=a}else if(Dr(o)&&!uc(o)){let a={v:o,n:this.norm.get(o)};s.$[n]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function xv(r,e,{getFn:t=xe.getFn,fieldNormWeight:s=xe.fieldNormWeight}={}){const i=new Gd({getFn:t,fieldNormWeight:s});return i.setKeys(r.map(bv)),i.setSources(e),i.create(),i}function Kw(r,{getFn:e=xe.getFn,fieldNormWeight:t=xe.fieldNormWeight}={}){const{keys:s,records:i}=r,n=new Gd({getFn:e,fieldNormWeight:t});return n.setKeys(s),n.setIndexRecords(i),n}function $o(r,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:i=xe.distance,ignoreLocation:n=xe.ignoreLocation}={}){const o=e/r.length;if(n)return o;const a=Math.abs(s-t);return i?o+a/i:a?1:o}function Jw(r=[],e=xe.minMatchCharLength){let t=[],s=-1,i=-1,n=0;for(let o=r.length;n<o;n+=1){let a=r[n];a&&s===-1?s=n:!a&&s!==-1&&(i=n-1,i-s+1>=e&&t.push([s,i]),s=-1)}return r[n-1]&&n-s>=e&&t.push([s,n-1]),t}const di=32;function Qw(r,e,t,{location:s=xe.location,distance:i=xe.distance,threshold:n=xe.threshold,findAllMatches:o=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,includeMatches:l=xe.includeMatches,ignoreLocation:c=xe.ignoreLocation}={}){if(e.length>di)throw new Error(Uw(di));const u=e.length,h=r.length,d=Math.max(0,Math.min(s,h));let f=n,p=d;const m=a>1||l,g=m?Array(h):[];let y;for(;(y=r.indexOf(e,p))>-1;){let x=$o(e,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:c});if(f=Math.min(x,f),p=y+u,m){let I=0;for(;I<u;)g[y+I]=1,I+=1}}p=-1;let v=[],_=1,T=u+h;const b=1<<u-1;for(let x=0;x<u;x+=1){let I=0,k=T;for(;I<k;)$o(e,{errors:x,currentLocation:d+k,expectedLocation:d,distance:i,ignoreLocation:c})<=f?I=k:T=k,k=Math.floor((T-I)/2+I);T=k;let O=Math.max(1,d-k+1),M=o?h:Math.min(d+k,h)+u,P=Array(M+2);P[M+1]=(1<<x)-1;for(let R=M;R>=O;R-=1){let G=R-1,A=t[r.charAt(G)];if(m&&(g[G]=+!!A),P[R]=(P[R+1]<<1|1)&A,x&&(P[R]|=(v[R+1]|v[R])<<1|1|v[R+1]),P[R]&b&&(_=$o(e,{errors:x,currentLocation:G,expectedLocation:d,distance:i,ignoreLocation:c}),_<=f)){if(f=_,p=G,p<=d)break;O=Math.max(1,2*d-p)}}if($o(e,{errors:x+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>f)break;v=P}const L={isMatch:p>=0,score:Math.max(.001,_)};if(m){const x=Jw(g,a);x.length?l&&(L.indices=x):L.isMatch=!1}return L}function eA(r){let e={};for(let t=0,s=r.length;t<s;t+=1){const i=r.charAt(t);e[i]=(e[i]||0)|1<<s-t-1}return e}const Za=String.prototype.normalize?(r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(r=>r);class Tv{constructor(e,{location:t=xe.location,threshold:s=xe.threshold,distance:i=xe.distance,includeMatches:n=xe.includeMatches,findAllMatches:o=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,isCaseSensitive:l=xe.isCaseSensitive,ignoreDiacritics:c=xe.ignoreDiacritics,ignoreLocation:u=xe.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:i,includeMatches:n,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u},e=l?e:e.toLowerCase(),e=c?Za(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(f,p)=>{this.chunks.push({pattern:f,alphabet:eA(f),startIndex:p})},d=this.pattern.length;if(d>di){let f=0;const p=d%di,m=d-p;for(;f<m;)h(this.pattern.substr(f,di),f),f+=di;if(p){const g=d-di;h(this.pattern.substr(g),g)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=s?Za(e):e,this.pattern===e){let m={isMatch:!0,score:0};return i&&(m.indices=[[0,e.length-1]]),m}const{location:n,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:u}=this.options;let h=[],d=0,f=!1;this.chunks.forEach(({pattern:m,alphabet:g,startIndex:y})=>{const{isMatch:v,score:_,indices:T}=Qw(e,m,g,{location:n+y,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:i,ignoreLocation:u});v&&(f=!0),d+=_,v&&T&&(h=[...h,...T])});let p={isMatch:f,score:f?d/this.chunks.length:1};return f&&i&&(p.indices=h),p}}class Ws{constructor(e){this.pattern=e}static isMultiMatch(e){return Kf(e,this.multiRegex)}static isSingleMatch(e){return Kf(e,this.singleRegex)}search(){}}function Kf(r,e){const t=r.match(e);return t?t[1]:null}class tA extends Ws{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class rA extends Ws{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class sA extends Ws{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class iA extends Ws{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class nA extends Ws{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class oA extends Ws{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class wv extends Ws{constructor(e,{location:t=xe.location,threshold:s=xe.threshold,distance:i=xe.distance,includeMatches:n=xe.includeMatches,findAllMatches:o=xe.findAllMatches,minMatchCharLength:a=xe.minMatchCharLength,isCaseSensitive:l=xe.isCaseSensitive,ignoreDiacritics:c=xe.ignoreDiacritics,ignoreLocation:u=xe.ignoreLocation}={}){super(e),this._bitapSearch=new Tv(e,{location:t,threshold:s,distance:i,includeMatches:n,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Av extends Ws{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const i=[],n=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+n,i.push([s,t-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const ah=[tA,Av,sA,iA,oA,nA,rA,wv],Jf=ah.length,aA=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lA="|";function cA(r,e={}){return r.split(lA).map(t=>{let s=t.trim().split(aA).filter(n=>n&&!!n.trim()),i=[];for(let n=0,o=s.length;n<o;n+=1){const a=s[n];let l=!1,c=-1;for(;!l&&++c<Jf;){const u=ah[c];let h=u.isMultiMatch(a);h&&(i.push(new u(h,e)),l=!0)}if(!l)for(c=-1;++c<Jf;){const u=ah[c];let h=u.isSingleMatch(a);if(h){i.push(new u(h,e));break}}}return i})}const uA=new Set([wv.type,Av.type]);class hA{constructor(e,{isCaseSensitive:t=xe.isCaseSensitive,ignoreDiacritics:s=xe.ignoreDiacritics,includeMatches:i=xe.includeMatches,minMatchCharLength:n=xe.minMatchCharLength,ignoreLocation:o=xe.ignoreLocation,findAllMatches:a=xe.findAllMatches,location:l=xe.location,threshold:c=xe.threshold,distance:u=xe.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:i,minMatchCharLength:n,findAllMatches:a,ignoreLocation:o,location:l,threshold:c,distance:u},e=t?e:e.toLowerCase(),e=s?Za(e):e,this.pattern=e,this.query=cA(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i,ignoreDiacritics:n}=this.options;e=i?e:e.toLowerCase(),e=n?Za(e):e;let o=0,a=[],l=0;for(let c=0,u=t.length;c<u;c+=1){const h=t[c];a.length=0,o=0;for(let d=0,f=h.length;d<f;d+=1){const p=h[d],{isMatch:m,indices:g,score:y}=p.search(e);if(m){if(o+=1,l+=y,s){const v=p.constructor.type;uA.has(v)?a=[...a,...g]:a.push(g)}}else{l=0,o=0,a.length=0;break}}if(o){let d={isMatch:!0,score:l/o};return s&&(d.indices=a),d}}return{isMatch:!1,score:1}}}const lh=[];function dA(...r){lh.push(...r)}function ch(r,e){for(let t=0,s=lh.length;t<s;t+=1){let i=lh[t];if(i.condition(r,e))return new i(r,e)}return new Tv(r,e)}const Ka={AND:"$and",OR:"$or"},uh={PATH:"$path",PATTERN:"$val"},hh=r=>!!(r[Ka.AND]||r[Ka.OR]),fA=r=>!!r[uh.PATH],pA=r=>!ds(r)&&vv(r)&&!hh(r),Qf=r=>({[Ka.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Sv(r,e,{auto:t=!0}={}){const s=i=>{let n=Object.keys(i);const o=fA(i);if(!o&&n.length>1&&!hh(i))return s(Qf(i));if(pA(i)){const l=o?i[uh.PATH]:n[0],c=o?i[uh.PATTERN]:i[l];if(!Dr(c))throw new Error($w(l));const u={keyId:oh(l),pattern:c};return t&&(u.searcher=ch(c,e)),u}let a={children:[],operator:n[0]};return n.forEach(l=>{const c=i[l];ds(c)&&c.forEach(u=>{a.children.push(s(u))})}),a};return hh(r)||(r=Qf(r)),s(r)}function mA(r,{ignoreFieldNorm:e=xe.ignoreFieldNorm}){r.forEach(t=>{let s=1;t.matches.forEach(({key:i,norm:n,score:o})=>{const a=i?i.weight:null;s*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:n))}),t.score=s})}function gA(r,e){const t=r.matches;e.matches=[],Wt(t)&&t.forEach(s=>{if(!Wt(s.indices)||!s.indices.length)return;const{indices:i,value:n}=s;let o={indices:i,value:n};s.key&&(o.key=s.key.src),s.idx>-1&&(o.refIndex=s.idx),e.matches.push(o)})}function yA(r,e){e.score=r.score}function vA(r,e,{includeMatches:t=xe.includeMatches,includeScore:s=xe.includeScore}={}){const i=[];return t&&i.push(gA),s&&i.push(yA),r.map(n=>{const{idx:o}=n,a={item:e[o],refIndex:o};return i.length&&i.forEach(l=>{l(n,a)}),a})}class Sn{constructor(e,t={},s){this.options={...xe,...t},this.options.useExtendedSearch,this._keyStore=new Hw(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Gd))throw new Error(Nw);this._myIndex=t||xv(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Wt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,i=this._docs.length;s<i;s+=1){const n=this._docs[s];e(n,s)&&(this.removeAt(s),s-=1,i-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:n,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Dr(e)?Dr(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return mA(l,{ignoreFieldNorm:a}),n&&l.sort(o),yv(t)&&t>-1&&(l=l.slice(0,t)),vA(l,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(e){const t=ch(e,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:n,i:o,n:a})=>{if(!Wt(n))return;const{isMatch:l,score:c,indices:u}=t.searchIn(n);l&&i.push({item:n,idx:o,matches:[{score:c,value:n,norm:a,indices:u}]})}),i}_searchLogical(e){const t=Sv(e,this.options),s=(a,l,c)=>{if(!a.children){const{keyId:h,searcher:d}=a,f=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:d});return f&&f.length?[{idx:c,item:l,matches:f}]:[]}const u=[];for(let h=0,d=a.children.length;h<d;h+=1){const f=a.children[h],p=s(f,l,c);if(p.length)u.push(...p);else if(a.operator===Ka.AND)return[]}return u},i=this._myIndex.records,n={},o=[];return i.forEach(({$:a,i:l})=>{if(Wt(a)){let c=s(t,a,l);c.length&&(n[l]||(n[l]={idx:l,item:a,matches:[]},o.push(n[l])),c.forEach(({matches:u})=>{n[l].matches.push(...u)}))}}),o}_searchObjectList(e){const t=ch(e,this.options),{keys:s,records:i}=this._myIndex,n=[];return i.forEach(({$:o,i:a})=>{if(!Wt(o))return;let l=[];s.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:o[u],searcher:t}))}),l.length&&n.push({idx:a,item:o,matches:l})}),n}_findMatches({key:e,value:t,searcher:s}){if(!Wt(t))return[];let i=[];if(ds(t))t.forEach(({v:n,i:o,n:a})=>{if(!Wt(n))return;const{isMatch:l,score:c,indices:u}=s.searchIn(n);l&&i.push({score:c,key:e,value:n,idx:o,norm:a,indices:u})});else{const{v:n,n:o}=t,{isMatch:a,score:l,indices:c}=s.searchIn(n);a&&i.push({score:l,key:e,value:n,norm:o,indices:c})}return i}}Sn.version="7.1.0";Sn.createIndex=xv;Sn.parseIndex=Kw;Sn.config=xe;Sn.parseQuery=Sv;dA(hA);function _A(r,e,t){const s=()=>{var o,a;return new Sn((o=ke(e))!=null?o:[],(a=ke(t))==null?void 0:a.fuseOptions)},i=Ee(s());Ze(()=>{var o;return(o=ke(t))==null?void 0:o.fuseOptions},()=>{i.value=s()},{deep:!0}),Ze(()=>ke(e),o=>{i.value.setCollection(o)},{deep:!0});const n=K(()=>{const o=ke(t);if(o?.matchAllWhenSearchEmpty&&!ke(r))return ke(e).map((l,c)=>({item:l,refIndex:c}));const a=o?.resultLimit;return i.value.search(ke(r),a?{limit:a}:void 0)});return{fuse:i,results:n}}function bA(r,e){const t=Tt(),s=Je([]),i=K(()=>{const u=t.value.fuse.options.keys||[];return u.length===0?["title","tags","categories","excerpt"]:u}),n={fuseOptions:{includeMatches:!0,findAllMatches:!0,...t.value.fuse.options,keys:i.value}},o=K(()=>({...n,...e})),{fuse:a,results:l}=_A(r,s,o);async function c(u){const h=u||(t.value.fuse.dataPath.startsWith("http")?t.value.fuse.dataPath:`/${t.value.fuse.dataPath}`),f=await(await fetch(h)).json();Array.isArray(f)&&(s.value=f)}return{fuse:a,results:l,fetchFuseListData:c}}function xA(){const r=Ee(!1),e=ms(),t=mv(),s=K(()=>e.value.sidebar!==!1&&t.value!=="home");function i(){r.value=!0}function n(){r.value=!1}function o(){r.value?n():i()}return{isOpen:r,hasSidebar:s,open:i,close:n,toggle:o}}function Ev(){const r=kl();return K(()=>{const e=new Map;return r.postList.forEach(t=>{if(t.tags){let s;typeof t.tags=="string"?s=[t.tags]:s=t.tags,s.forEach(i=>{if(e.has(i)){const n=e.get(i);e.set(i,{...n,count:n.count+1})}else e.set(i,{count:1})})}}),e})}function TA(r={offset:100}){if(!Po)return{percentage:Ee(0),show:Ee(!1)};const{y:e}=gw(),t=K(()=>e.value/(document.body.scrollHeight-window.innerHeight)),s=K(()=>e.value>r.offset);return{percentage:t,show:s,backToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}}const wA={};function AA(r,e){const t=Ut("RouterView");return z(),Te(t)}const SA=Vr(wA,[["render",AA]]);class EA{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const t of this._parts)e.push(t);return CA(e).buffer}}function CA(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let s=0;for(const i of r){const n=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t.set(n,s),s+=i.byteLength}return t}function Cv(r){return new PA(r).unpack()}function Pv(r){const e=new RA,t=e.pack(r);return t instanceof Promise?t.then(()=>e.getBuffer()):e.getBuffer()}class PA{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t}unpack_uint32(){const e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){const e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){const t=this.read(e);let s=0,i="",n,o;for(;s<e;)n=t[s],n<160?(o=n,s++):(n^192)<32?(o=(n&31)<<6|t[s+1]&63,s+=2):(n^224)<16?(o=(n&15)<<12|(t[s+1]&63)<<6|t[s+2]&63,s+=3):(o=(n&7)<<18|(t[s+1]&63)<<12|(t[s+2]&63)<<6|t[s+3]&63,s+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const t=new Array(e);for(let s=0;s<e;s++)t[s]=this.unpack();return t}unpack_map(e){const t={};for(let s=0;s<e;s++){const i=this.unpack();t[i]=this.unpack()}return t}unpack_float(){const e=this.unpack_uint32(),t=e>>31,s=(e>>23&255)-127,i=e&8388607|8388608;return(t===0?1:-1)*i*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),t=this.unpack_uint32(),s=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+t*2**(i-52);return(s===0?1:-1)*o}read(e){const t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")}}class RA{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const t=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(t==Object||t.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${t.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const t=this._textEncoder.encode(e),s=t.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){const t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");const s=i=>{if(i<t){const n=this.pack(e[i]);return n instanceof Promise?n.then(()=>s(i+1)):s(i+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),i=e/2**s-1,n=Math.floor(i*2**52),o=2**32,a=t<<31|s+1023<<20|n/o&1048575,l=n%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(e){const t=Object.keys(e),s=t.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const i=n=>{if(n<t.length){const o=t[n];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(n+1))}return i(n+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const t=e&4294967295;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_uint64(e){const t=e/4294967296,s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const t=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new EA,this._textEncoder=new TextEncoder}}let Rv=!0,Iv=!0;function zn(r,e,t){const s=r.match(e);return s&&s.length>=t&&parseFloat(s[t],10)}function Ri(r,e,t){if(!r.RTCPeerConnection)return;const s=r.RTCPeerConnection.prototype,i=s.addEventListener;s.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=c=>{const u=t(c);u&&(a.handleEvent?a.handleEvent(u):a(u))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const n=s.removeEventListener;s.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return n.apply(this,arguments);if(!this._eventMap[e].has(a))return n.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,n.apply(this,[o,l])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function IA(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(Rv=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function kA(r){return typeof r!="boolean"?new Error("Argument type: "+typeof r+". Please use a boolean."):(Iv=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function kv(){if(typeof window=="object"){if(Rv)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Vd(r,e){Iv&&console.warn(r+" is deprecated, please use "+e+" instead.")}function LA(r){const e={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:t}=r;if(t.userAgentData&&t.userAgentData.brands){const s=t.userAgentData.brands.find(i=>i.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(t.mozGetUserMedia)e.browser="firefox",e.version=parseInt(zn(t.userAgent,/Firefox\/(\d+)\./,1));else if(t.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(zn(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(r.RTCPeerConnection&&t.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(zn(t.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype,e._safariVersion=zn(t.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function ep(r){return Object.prototype.toString.call(r)==="[object Object]"}function Lv(r){return ep(r)?Object.keys(r).reduce(function(e,t){const s=ep(r[t]),i=s?Lv(r[t]):r[t],n=s&&!Object.keys(i).length;return i===void 0||n?e:Object.assign(e,{[t]:i})},{}):r}function dh(r,e,t){!e||t.has(e.id)||(t.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?dh(r,r.get(e[s]),t):s.endsWith("Ids")&&e[s].forEach(i=>{dh(r,r.get(i),t)})}))}function tp(r,e,t){const s=t?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const n=[];return r.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&n.push(o)}),n.forEach(o=>{r.forEach(a=>{a.type===s&&a.trackId===o.id&&dh(r,a,i)})}),i}const rp=kv;function Mv(r,e){const t=r&&r.navigator;if(!t.mediaDevices)return;const s=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof a[c]=="object"?a[c]:{ideal:a[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const h=function(d,f){return d?d+f.charAt(0).toUpperCase()+f.slice(1):f==="deviceId"?"sourceId":f};if(u.ideal!==void 0){l.optional=l.optional||[];let d={};typeof u.ideal=="number"?(d[h("min",c)]=u.ideal,l.optional.push(d),d={},d[h("max",c)]=u.ideal,l.optional.push(d)):(d[h("",c)]=u.ideal,l.optional.push(d))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[h("",c)]=u.exact):["min","max"].forEach(d=>{u[d]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[h(d,c)]=u[d])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(u,h,d){h in u&&!(d in u)&&(u[d]=u[h],delete u[h])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=s(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(t.mediaDevices.getSupportedConstraints&&t.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete a.video.facingMode;let h;if(c.exact==="environment"||c.ideal==="environment"?h=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(h=["front"]),h)return t.mediaDevices.enumerateDevices().then(d=>{d=d.filter(p=>p.kind==="videoinput");let f=d.find(p=>h.some(m=>p.label.toLowerCase().includes(m)));return!f&&d.length&&h.includes("back")&&(f=d[d.length-1]),f&&(a.video.deviceId=c.exact?{exact:f.deviceId}:{ideal:f.deviceId}),a.video=s(a.video),rp("chrome: "+JSON.stringify(a)),l(a)})}a.video=s(a.video)}return rp("chrome: "+JSON.stringify(a)),l(a)},n=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){i(a,u=>{t.webkitGetUserMedia(u,l,h=>{c&&c(n(h))})})};if(t.getUserMedia=o.bind(t),t.mediaDevices.getUserMedia){const a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(n(u))))}}}function Dv(r){r.MediaStream=r.MediaStream||r.webkitMediaStream}function Ov(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("ontrack"in r.RTCPeerConnection.prototype)){Object.defineProperty(r.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",i=>{let n;r.RTCPeerConnection.prototype.getReceivers?n=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):n={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[s.stream],this.dispatchEvent(o)}),s.stream.getTracks().forEach(i=>{let n;r.RTCPeerConnection.prototype.getReceivers?n=this.getReceivers().find(a=>a.track&&a.track.id===i.id):n={track:i};const o=new Event("track");o.track=i,o.receiver=n,o.transceiver={receiver:n},o.streams=[s.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ri(r,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Bv(r){if(typeof r=="object"&&r.RTCPeerConnection&&!("getSenders"in r.RTCPeerConnection.prototype)&&"createDTMFSender"in r.RTCPeerConnection.prototype){const e=function(i,n){return{track:n,get dtmf(){return this._dtmf===void 0&&(n.kind==="audio"?this._dtmf=i.createDTMFSender(n):this._dtmf=null),this._dtmf},_pc:i}};if(!r.RTCPeerConnection.prototype.getSenders){r.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const n=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(a){n.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(n){this._senders=this._senders||[],t.apply(this,[n]),n.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const s=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(n){this._senders=this._senders||[],s.apply(this,[n]),n.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof r=="object"&&r.RTCPeerConnection&&"getSenders"in r.RTCPeerConnection.prototype&&"createDTMFSender"in r.RTCPeerConnection.prototype&&r.RTCRtpSender&&!("dtmf"in r.RTCRtpSender.prototype)){const e=r.RTCPeerConnection.prototype.getSenders;r.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s},Object.defineProperty(r.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Fv(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender&&r.RTCRtpReceiver))return;if(!("getStats"in r.RTCRtpSender.prototype)){const t=r.RTCPeerConnection.prototype.getSenders;t&&(r.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(o=>o._pc=this),n});const s=r.RTCPeerConnection.prototype.addTrack;s&&(r.RTCPeerConnection.prototype.addTrack=function(){const n=s.apply(this,arguments);return n._pc=this,n}),r.RTCRtpSender.prototype.getStats=function(){const n=this;return this._pc.getStats().then(o=>tp(o,n.track,!0))}}if(!("getStats"in r.RTCRtpReceiver.prototype)){const t=r.RTCPeerConnection.prototype.getReceivers;t&&(r.RTCPeerConnection.prototype.getReceivers=function(){const i=t.apply(this,[]);return i.forEach(n=>n._pc=this),i}),Ri(r,"track",s=>(s.receiver._pc=s.srcElement,s)),r.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(n=>tp(n,i.track,!1))}}if(!("getStats"in r.RTCRtpSender.prototype&&"getStats"in r.RTCRtpReceiver.prototype))return;const e=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof r.MediaStreamTrack){const s=arguments[0];let i,n,o;return this.getSenders().forEach(a=>{a.track===s&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===s&&(n?o=!0:n=a),a.track===s)),o||i&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Nv(r){r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const t=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(h=>h.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();t.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const s=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],s.apply(this,arguments)};const i=r.RTCPeerConnection.prototype.removeTrack;r.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function $v(r,e){if(!r.RTCPeerConnection)return;if(r.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Nv(r);const t=r.RTCPeerConnection.prototype.getLocalStreams;r.RTCPeerConnection.prototype.getLocalStreams=function(){const u=t.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(h=>this._reverseStreams[h.id])};const s=r.RTCPeerConnection.prototype.addStream;r.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(f=>f.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const h=new r.MediaStream(u.getTracks());this._streams[u.id]=h,this._reverseStreams[h.id]=u,u=h}s.apply(this,[u])};const i=r.RTCPeerConnection.prototype.removeStream;r.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},r.RTCPeerConnection.prototype.addTrack=function(u,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(m=>m===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(m=>m.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[h.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const m=new r.MediaStream([u]);this._streams[h.id]=m,this._reverseStreams[m.id]=h,this.addStream(m)}return this.getSenders().find(m=>m.track===u)};function n(c,u){let h=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const f=c._reverseStreams[d],p=c._streams[f.id];h=h.replace(new RegExp(p.id,"g"),f.id)}),new RTCSessionDescription({type:u.type,sdp:h})}function o(c,u){let h=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const f=c._reverseStreams[d],p=c._streams[f.id];h=h.replace(new RegExp(f.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:h})}["createOffer","createAnswer"].forEach(function(c){const u=r.RTCPeerConnection.prototype[c],h={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[p=>{const m=n(this,p);d[0].apply(null,[m])},p=>{d[1]&&d[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>n(this,p))}};r.RTCPeerConnection.prototype[c]=h[c]});const a=r.RTCPeerConnection.prototype.setLocalDescription;r.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(r.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(r.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:n(this,c)}}),r.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(f=>{this._streams[f].getTracks().find(m=>u.track===m)&&(d=this._streams[f])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function fh(r,e){!r.RTCPeerConnection&&r.webkitRTCPeerConnection&&(r.RTCPeerConnection=r.webkitRTCPeerConnection),r.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const s=r.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new(t==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};r.RTCPeerConnection.prototype[t]=i[t]})}function Uv(r,e){Ri(r,"negotiationneeded",t=>{const s=t.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return t})}const sp=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Uv,shimAddTrackRemoveTrack:$v,shimAddTrackRemoveTrackWithNative:Nv,shimGetSendersWithDtmf:Bv,shimGetUserMedia:Mv,shimMediaStream:Dv,shimOnTrack:Ov,shimPeerConnection:fh,shimSenderReceiverGetStats:Fv},Symbol.toStringTag,{value:"Module"}));function jv(r,e){const t=r&&r.navigator,s=r&&r.MediaStreamTrack;if(t.getUserMedia=function(i,n,o){Vd("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(i).then(n,o)},!(e.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),n(o)},s&&s.prototype.getSettings){const o=s.prototype.getSettings;s.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(s&&s.prototype.applyConstraints){const o=s.prototype.applyConstraints;s.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function MA(r,e){r.navigator.mediaDevices&&"getDisplayMedia"in r.navigator.mediaDevices||r.navigator.mediaDevices&&(r.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,r.navigator.mediaDevices.getUserMedia(s)})}function zv(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ph(r,e){if(typeof r!="object"||!(r.RTCPeerConnection||r.mozRTCPeerConnection))return;!r.RTCPeerConnection&&r.mozRTCPeerConnection&&(r.RTCPeerConnection=r.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const n=r.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?r.RTCIceCandidate:r.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};r.RTCPeerConnection.prototype[i]=o[i]});const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=r.RTCPeerConnection.prototype.getStats;r.RTCPeerConnection.prototype.getStats=function(){const[n,o,a]=arguments;return s.apply(this,[n||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=t[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,h)=>{l.set(h,Object.assign({},u,{type:t[u.type]||u.type}))})}return l}).then(o,a)}}function Hv(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpSender.prototype)return;const e=r.RTCPeerConnection.prototype.getSenders;e&&(r.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(n=>n._pc=this),i});const t=r.RTCPeerConnection.prototype.addTrack;t&&(r.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),r.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Gv(r){if(!(typeof r=="object"&&r.RTCPeerConnection&&r.RTCRtpSender)||r.RTCRtpSender&&"getStats"in r.RTCRtpReceiver.prototype)return;const e=r.RTCPeerConnection.prototype.getReceivers;e&&(r.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Ri(r,"track",t=>(t.receiver._pc=t.srcElement,t)),r.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Vv(r){!r.RTCPeerConnection||"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){Vd("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&t.getTracks().includes(s.track)&&this.removeTrack(s)})})}function Wv(r){r.DataChannel&&!r.RTCDataChannel&&(r.RTCDataChannel=r.DataChannel)}function Xv(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.addTransceiver;e&&(r.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const i=s.length>0;i&&s.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const n=e.apply(this,arguments);if(i){const{sender:o}=n,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=s,o.sendEncodings=s,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return n})}function Yv(r){if(!(typeof r=="object"&&r.RTCRtpSender))return;const e=r.RTCRtpSender.prototype.getParameters;e&&(r.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function qv(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Zv(r){if(!(typeof r=="object"&&r.RTCPeerConnection))return;const e=r.RTCPeerConnection.prototype.createAnswer;r.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const ip=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Xv,shimCreateAnswer:Zv,shimCreateOffer:qv,shimGetDisplayMedia:MA,shimGetParameters:Yv,shimGetUserMedia:jv,shimOnTrack:zv,shimPeerConnection:ph,shimRTCDataChannel:Wv,shimReceiverGetStats:Gv,shimRemoveStream:Vv,shimSenderGetStats:Hv},Symbol.toStringTag,{value:"Module"}));function Kv(r){if(!(typeof r!="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){const e=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(i=>e.call(this,i,s)),s.getVideoTracks().forEach(i=>e.call(this,i,s))},r.RTCPeerConnection.prototype.addTrack=function(s,...i){return i&&i.forEach(n=>{this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]}),e.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(t);if(s===-1)return;this._localStreams.splice(s,1);const i=t.getTracks();this.getSenders().forEach(n=>{i.includes(n.track)&&this.removeTrack(n)})})}}function Jv(r){if(!(typeof r!="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const n=new Event("addstream");n.stream=i,this.dispatchEvent(n)})})}});const e=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(n=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(n)>=0)return;s._remoteStreams.push(n);const o=new Event("addstream");o.stream=n,s.dispatchEvent(o)})}),e.apply(s,arguments)}}}function Qv(r){if(typeof r!="object"||!r.RTCPeerConnection)return;const e=r.RTCPeerConnection.prototype,t=e.createOffer,s=e.createAnswer,i=e.setLocalDescription,n=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,u){const h=arguments.length>=2?arguments[2]:arguments[0],d=t.apply(this,[h]);return u?(d.then(c,u),Promise.resolve()):d},e.createAnswer=function(c,u){const h=arguments.length>=2?arguments[2]:arguments[0],d=s.apply(this,[h]);return u?(d.then(c,u),Promise.resolve()):d};let a=function(l,c,u){const h=i.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h};e.setLocalDescription=a,a=function(l,c,u){const h=n.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h},e.setRemoteDescription=a,a=function(l,c,u){const h=o.apply(this,[l]);return u?(h.then(c,u),Promise.resolve()):h},e.addIceCandidate=a}function e_(r){const e=r&&r.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,s=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=i=>s(t_(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,i,n){e.mediaDevices.getUserMedia(s).then(i,n)}).bind(e))}function t_(r){return r&&r.video!==void 0?Object.assign({},r,{video:Lv(r.video)}):r}function r_(r){if(!r.RTCPeerConnection)return;const e=r.RTCPeerConnection;r.RTCPeerConnection=function(s,i){if(s&&s.iceServers){const n=[];for(let o=0;o<s.iceServers.length;o++){let a=s.iceServers[o];a.urls===void 0&&a.url?(Vd("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,n.push(a)):n.push(s.iceServers[o])}s.iceServers=n}return new e(s,i)},r.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function s_(r){typeof r=="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function i_(r){const e=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):s.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const n=this.getTransceivers().find(o=>o.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&n?n.direction==="sendrecv"?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":n.direction==="recvonly"&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):s.offerToReceiveVideo===!0&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function n_(r){typeof r!="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const np=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:n_,shimCallbacksAPI:Qv,shimConstraints:t_,shimCreateOfferLegacy:i_,shimGetUserMedia:e_,shimLocalStreamsAPI:Kv,shimRTCIceServerUrls:r_,shimRemoteStreamsAPI:Jv,shimTrackEventTransceiver:s_},Symbol.toStringTag,{value:"Module"}));var hc={exports:{}},op;function DA(){return op||(op=1,(function(r){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(t){return t.split(`
m=`).map((i,n)=>(n>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(t){const s=e.splitSections(t);return s&&s[0]},e.getMediaSections=function(t){const s=e.splitSections(t);return s.shift(),s},e.matchPrefix=function(t,s){return e.splitLines(t).filter(i=>i.indexOf(s)===0)},e.parseCandidate=function(t){let s;t.indexOf("a=candidate:")===0?s=t.substring(12).split(" "):s=t.substring(10).split(" ");const i={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let n=8;n<s.length;n+=2)switch(s[n]){case"raddr":i.relatedAddress=s[n+1];break;case"rport":i.relatedPort=parseInt(s[n+1],10);break;case"tcptype":i.tcpType=s[n+1];break;case"ufrag":i.ufrag=s[n+1],i.usernameFragment=s[n+1];break;default:i[s[n]]===void 0&&(i[s[n]]=s[n+1]);break}return i},e.writeCandidate=function(t){const s=[];s.push(t.foundation);const i=t.component;i==="rtp"?s.push(1):i==="rtcp"?s.push(2):s.push(i),s.push(t.protocol.toUpperCase()),s.push(t.priority),s.push(t.address||t.ip),s.push(t.port);const n=t.type;return s.push("typ"),s.push(n),n!=="host"&&t.relatedAddress&&t.relatedPort&&(s.push("raddr"),s.push(t.relatedAddress),s.push("rport"),s.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(s.push("ufrag"),s.push(t.usernameFragment||t.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let s=t.substring(9).split(" ");const i={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),i.name=s[0],i.clockRate=parseInt(s[1],10),i.channels=s.length===3?parseInt(s[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(t){let s=t.payloadType;t.preferredPayloadType!==void 0&&(s=t.preferredPayloadType);const i=t.channels||t.numChannels||1;return"a=rtpmap:"+s+" "+t.name+"/"+t.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(t){const s=t.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`},e.parseFmtp=function(t){const s={};let i;const n=t.substring(t.indexOf(" ")+1).split(";");for(let o=0;o<n.length;o++)i=n[o].trim().split("="),s[i[0].trim()]=i[1];return s},e.writeFmtp=function(t){let s="",i=t.payloadType;if(t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const n=[];Object.keys(t.parameters).forEach(o=>{t.parameters[o]!==void 0?n.push(o+"="+t.parameters[o]):n.push(o)}),s+="a=fmtp:"+i+" "+n.join(";")+`\r
`}return s},e.parseRtcpFb=function(t){const s=t.substring(t.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(t){let s="",i=t.payloadType;return t.preferredPayloadType!==void 0&&(i=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(n=>{s+="a=rtcp-fb:"+i+" "+n.type+(n.parameter&&n.parameter.length?" "+n.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(t){const s=t.indexOf(" "),i={ssrc:parseInt(t.substring(7,s),10)},n=t.indexOf(":",s);return n>-1?(i.attribute=t.substring(s+1,n),i.value=t.substring(n+1)):i.attribute=t.substring(s+1),i},e.parseSsrcGroup=function(t){const s=t.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(i=>parseInt(i,10))}},e.getMid=function(t){const s=e.matchPrefix(t,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(t){const s=t.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(t,s){return{role:"auto",fingerprints:e.matchPrefix(t+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,s){let i="a=setup:"+s+`\r
`;return t.fingerprints.forEach(n=>{i+="a=fingerprint:"+n.algorithm+" "+n.value+`\r
`}),i},e.parseCryptoLine=function(t){const s=t.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;const s=t.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,s){return e.matchPrefix(t+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,s){const i=e.matchPrefix(t+s,"a=ice-ufrag:")[0],n=e.matchPrefix(t+s,"a=ice-pwd:")[0];return i&&n?{usernameFragment:i.substring(12),password:n.substring(10)}:null},e.writeIceParameters=function(t){let s="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(t){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=e.splitLines(t)[0].split(" ");s.profile=n[2];for(let a=3;a<n.length;a++){const l=n[a],c=e.matchPrefix(t,"a=rtpmap:"+l+" ")[0];if(c){const u=e.parseRtpMap(c),h=e.matchPrefix(t,"a=fmtp:"+l+" ");switch(u.parameters=h.length?e.parseFmtp(h[0]):{},u.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),s.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(u.name.toUpperCase());break}}}e.matchPrefix(t,"a=extmap:").forEach(a=>{s.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),s},e.writeRtpDescription=function(t,s){let i="";i+="m="+t+" ",i+=s.codecs.length>0?"9":"0",i+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=s.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let n=0;return s.codecs.forEach(o=>{o.maxptime>n&&(n=o.maxptime)}),n>0&&(i+="a=maxptime:"+n+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(t){const s=[],i=e.parseRtpParameters(t),n=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(t,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const u=e.matchPrefix(t,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(p=>parseInt(p,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let f={ssrc:l,codecPayloadType:parseInt(d.parameters.apt,10)};l&&c&&(f.rtx={ssrc:c}),s.push(f),n&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},s.push(f))}}),s.length===0&&l&&s.push({ssrc:l});let h=e.matchPrefix(t,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-2e3*8:h=void 0,s.forEach(d=>{d.maxBitrate=h})),s},e.parseRtcpParameters=function(t){const s={},i=e.matchPrefix(t,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(s.cname=i.value,s.ssrc=i.ssrc);const n=e.matchPrefix(t,"a=rtcp-rsize");s.reducedSize=n.length>0,s.compound=n.length===0;const o=e.matchPrefix(t,"a=rtcp-mux");return s.mux=o.length>0,s},e.writeRtcpParameters=function(t){let s="";return t.reducedSize&&(s+=`a=rtcp-rsize\r
`),t.mux&&(s+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(s+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),s},e.parseMsid=function(t){let s;const i=e.matchPrefix(t,"a=msid:");if(i.length===1)return s=i[0].substring(7).split(" "),{stream:s[0],track:s[1]};const n=e.matchPrefix(t,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(n.length>0)return s=n[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(t){const s=e.parseMLine(t),i=e.matchPrefix(t,"a=max-message-size:");let n;i.length>0&&(n=parseInt(i[0].substring(19),10)),isNaN(n)&&(n=65536);const o=e.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:s.fmt,maxMessageSize:n};const a=e.matchPrefix(t,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:n}}},e.writeSctpDescription=function(t,s){let i=[];return t.protocol!=="DTLS/SCTP"?i=["m="+t.kind+" 9 "+t.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:i=["m="+t.kind+" 9 "+t.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&i.push("a=max-message-size:"+s.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,s,i){let n;const o=s!==void 0?s:2;return t?n=t:n=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+n+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(t,s){const i=e.splitLines(t);for(let n=0;n<i.length;n++)switch(i[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[n].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return t.split(" ",2)[1]==="0"},e.parseMLine=function(t){const i=e.splitLines(t)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(t){const i=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;const s=e.splitLines(t);for(let i=0;i<s.length;i++)if(s[i].length<2||s[i].charAt(1)!=="=")return!1;return!0},r.exports=e})(hc)),hc.exports}var o_=DA();const tn=Sd(o_),OA=r1({__proto__:null,default:tn},[o_]);function Ea(r){if(!r.RTCIceCandidate||r.RTCIceCandidate&&"foundation"in r.RTCIceCandidate.prototype)return;const e=r.RTCIceCandidate;r.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const i=new e(s),n=tn.parseCandidate(s.candidate);for(const o in n)o in i||Object.defineProperty(i,o,{value:n[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(s)},r.RTCIceCandidate.prototype=e.prototype,Ri(r,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new r.RTCIceCandidate(t.candidate),writable:"false"}),t))}function mh(r){!r.RTCIceCandidate||r.RTCIceCandidate&&"relayProtocol"in r.RTCIceCandidate.prototype||Ri(r,"icecandidate",e=>{if(e.candidate){const t=tn.parseCandidate(e.candidate.candidate);t.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function Ca(r,e){if(!r.RTCPeerConnection)return;"sctp"in r.RTCPeerConnection.prototype||Object.defineProperty(r.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const t=function(a){if(!a||!a.sdp)return!1;const l=tn.splitSections(a.sdp);return l.shift(),l.some(c=>{const u=tn.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},s=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},n=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const u=tn.matchPrefix(a.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(t(arguments[0])){const l=s(arguments[0]),c=i(l),u=n(arguments[0],l);let h;c===0&&u===0?h=Number.POSITIVE_INFINITY:c===0||u===0?h=Math.max(c,u):h=Math.min(c,u);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return h}}),this._sctp=d}return o.apply(this,arguments)}}function Pa(r){if(!(r.RTCPeerConnection&&"createDataChannel"in r.RTCPeerConnection.prototype))return;function e(s,i){const n=s.send;s.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(s.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return n.apply(s,arguments)}}const t=r.RTCPeerConnection.prototype.createDataChannel;r.RTCPeerConnection.prototype.createDataChannel=function(){const i=t.apply(this,arguments);return e(i,this),i},Ri(r,"datachannel",s=>(e(s.channel,s.target),s))}function gh(r){if(!r.RTCPeerConnection||"connectionState"in r.RTCPeerConnection.prototype)return;const e=r.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const s=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const n=i.target;if(n._lastConnectionState!==n.connectionState){n._lastConnectionState=n.connectionState;const o=new Event("connectionstatechange",i);n.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function yh(r,e){if(!r.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const t=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const n=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);r.RTCSessionDescription&&i instanceof r.RTCSessionDescription?arguments[0]=new r.RTCSessionDescription({type:i.type,sdp:n}):i.sdp=n}return t.apply(this,arguments)}}function Ra(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.addIceCandidate;!t||t.length===0||(r.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ia(r,e){if(!(r.RTCPeerConnection&&r.RTCPeerConnection.prototype))return;const t=r.RTCPeerConnection.prototype.setLocalDescription;!t||t.length===0||(r.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return t.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?t.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>t.apply(this,[o]))})}const BA=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:yh,shimAddIceCandidateNullOrEmpty:Ra,shimConnectionState:gh,shimMaxMessageSize:Ca,shimParameterlessSetLocalDescription:Ia,shimRTCIceCandidate:Ea,shimRTCIceCandidateRelayProtocol:mh,shimSendThrowTypeError:Pa},Symbol.toStringTag,{value:"Module"}));function FA({window:r}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const t=kv,s=LA(r),i={browserDetails:s,commonShim:BA,extractVersion:zn,disableLog:IA,disableWarnings:kA,sdp:OA};switch(s.browser){case"chrome":if(!sp||!fh||!e.shimChrome)return t("Chrome shim is not included in this adapter release."),i;if(s.version===null)return t("Chrome shim can not determine version, not shimming."),i;t("adapter.js shimming chrome."),i.browserShim=sp,Ra(r,s),Ia(r),Mv(r,s),Dv(r),fh(r,s),Ov(r),$v(r,s),Bv(r),Fv(r),Uv(r,s),Ea(r),mh(r),gh(r),Ca(r,s),Pa(r),yh(r,s);break;case"firefox":if(!ip||!ph||!e.shimFirefox)return t("Firefox shim is not included in this adapter release."),i;t("adapter.js shimming firefox."),i.browserShim=ip,Ra(r,s),Ia(r),jv(r,s),ph(r,s),zv(r),Vv(r),Hv(r),Gv(r),Wv(r),Xv(r),Yv(r),qv(r),Zv(r),Ea(r),gh(r),Ca(r,s),Pa(r);break;case"safari":if(!np||!e.shimSafari)return t("Safari shim is not included in this adapter release."),i;t("adapter.js shimming safari."),i.browserShim=np,Ra(r,s),Ia(r),r_(r),i_(r),Qv(r),Kv(r),Jv(r),s_(r),e_(r),n_(r),Ea(r),mh(r),Ca(r,s),Pa(r),yh(r,s);break;default:t("Unsupported browser!");break}return i}const ap=FA({window:typeof window>"u"?void 0:window});function Ii(r,e,t,s){Object.defineProperty(r,e,{get:t,set:s,enumerable:!0,configurable:!0})}class a_{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const t=[],s=e.byteLength,i=Math.ceil(s/this.chunkedMTU);let n=0,o=0;for(;o<s;){const a=Math.min(s,o+this.chunkedMTU),l=e.slice(o,a),c={__peerData:this._dataCount,n,data:l,total:i};t.push(c),o=a,n++}return this._dataCount++,t}}}function NA(r){let e=0;for(const i of r)e+=i.byteLength;const t=new Uint8Array(e);let s=0;for(const i of r)t.set(i,s),s+=i.byteLength;return t}const dc=ap.default||ap,Mn=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const r=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(r)?r==="chrome"?e>=this.minChromeVersion:r==="firefox"?e>=this.minFirefoxVersion:r==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return dc.browserDetails.browser}getVersion(){return dc.browserDetails.version||0}isUnifiedPlanSupported(){const r=this.getBrowser(),e=dc.browserDetails.version||0;if(r==="chrome"&&e<this.minChromeVersion)return!1;if(r==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let t,s=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),s=!0}catch{}finally{t&&t.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},$A=r=>!r||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(r),l_=()=>Math.random().toString(36).slice(2),lp={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class UA extends a_{noop(){}blobToArrayBuffer(e,t){const s=new FileReader;return s.onload=function(i){i.target&&t(i.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s)&255;return t.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=lp,this.browser=Mn.getBrowser(),this.browserVersion=Mn.getVersion(),this.pack=Pv,this.unpack=Cv,this.supports=(function(){const t={browser:Mn.isBrowserSupported(),webRTC:Mn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;let s;try{s=new RTCPeerConnection(lp),t.audioVideo=!0;let i;try{i=s.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!i.ordered;try{i.binaryType="blob",t.binaryBlob=!Mn.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{s&&s.close()}return t})(),this.validateId=$A,this.randomToken=l_}}const Ft=new UA,jA="PeerJS: ";class zA{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const s=[jA,...t];for(const i in s)s[i]instanceof Error&&(s[i]="("+s[i].name+") "+s[i].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var he=new zA,Wd={},HA=Object.prototype.hasOwnProperty,Ot="~";function co(){}Object.create&&(co.prototype=Object.create(null),new co().__proto__||(Ot=!1));function GA(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function c_(r,e,t,s,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var n=new GA(t,s||r,i),o=Ot?Ot+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],n]:r._events[o].push(n):(r._events[o]=n,r._eventsCount++),r}function ka(r,e){--r._eventsCount===0?r._events=new co:delete r._events[e]}function Pt(){this._events=new co,this._eventsCount=0}Pt.prototype.eventNames=function(){var e=[],t,s;if(this._eventsCount===0)return e;for(s in t=this._events)HA.call(t,s)&&e.push(Ot?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Pt.prototype.listeners=function(e){var t=Ot?Ot+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var i=0,n=s.length,o=new Array(n);i<n;i++)o[i]=s[i].fn;return o};Pt.prototype.listenerCount=function(e){var t=Ot?Ot+e:e,s=this._events[t];return s?s.fn?1:s.length:0};Pt.prototype.emit=function(e,t,s,i,n,o){var a=Ot?Ot+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,h;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,s),!0;case 4:return l.fn.call(l.context,t,s,i),!0;case 5:return l.fn.call(l.context,t,s,i,n),!0;case 6:return l.fn.call(l.context,t,s,i,n,o),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var d=l.length,f;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(e,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,t);break;case 3:l[h].fn.call(l[h].context,t,s);break;case 4:l[h].fn.call(l[h].context,t,s,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0};Pt.prototype.on=function(e,t,s){return c_(this,e,t,s,!1)};Pt.prototype.once=function(e,t,s){return c_(this,e,t,s,!0)};Pt.prototype.removeListener=function(e,t,s,i){var n=Ot?Ot+e:e;if(!this._events[n])return this;if(!t)return ka(this,n),this;var o=this._events[n];if(o.fn)o.fn===t&&(!i||o.once)&&(!s||o.context===s)&&ka(this,n);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==t||i&&!o[a].once||s&&o[a].context!==s)&&l.push(o[a]);l.length?this._events[n]=l.length===1?l[0]:l:ka(this,n)}return this};Pt.prototype.removeAllListeners=function(e){var t;return e?(t=Ot?Ot+e:e,this._events[t]&&ka(this,t)):(this._events=new co,this._eventsCount=0),this};Pt.prototype.off=Pt.prototype.removeListener;Pt.prototype.addListener=Pt.prototype.on;Pt.prefixed=Ot;Pt.EventEmitter=Pt;Wd=Pt;var ki={};Ii(ki,"ConnectionType",()=>Os);Ii(ki,"PeerErrorType",()=>lt);Ii(ki,"BaseConnectionErrorType",()=>vh);Ii(ki,"DataConnectionErrorType",()=>Xd);Ii(ki,"SerializationType",()=>Dl);Ii(ki,"SocketEventType",()=>Is);Ii(ki,"ServerMessageType",()=>Et);var Os=(function(r){return r.Data="data",r.Media="media",r})({}),lt=(function(r){return r.BrowserIncompatible="browser-incompatible",r.Disconnected="disconnected",r.InvalidID="invalid-id",r.InvalidKey="invalid-key",r.Network="network",r.PeerUnavailable="peer-unavailable",r.SslUnavailable="ssl-unavailable",r.ServerError="server-error",r.SocketError="socket-error",r.SocketClosed="socket-closed",r.UnavailableID="unavailable-id",r.WebRTC="webrtc",r})({}),vh=(function(r){return r.NegotiationFailed="negotiation-failed",r.ConnectionClosed="connection-closed",r})({}),Xd=(function(r){return r.NotOpenYet="not-open-yet",r.MessageToBig="message-too-big",r})({}),Dl=(function(r){return r.Binary="binary",r.BinaryUTF8="binary-utf8",r.JSON="json",r.None="raw",r})({}),Is=(function(r){return r.Message="message",r.Disconnected="disconnected",r.Error="error",r.Close="close",r})({}),Et=(function(r){return r.Heartbeat="HEARTBEAT",r.Candidate="CANDIDATE",r.Offer="OFFER",r.Answer="ANSWER",r.Open="OPEN",r.Error="ERROR",r.IdTaken="ID-TAKEN",r.InvalidKey="INVALID-KEY",r.Leave="LEAVE",r.Expire="EXPIRE",r})({});const u_="1.5.5";class VA extends Wd.EventEmitter{constructor(e,t,s,i,n,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+t+":"+s+i+"peerjs?key="+n}start(e,t){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${t}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+u_),this._disconnected=!1,this._socket.onmessage=i=>{let n;try{n=JSON.parse(i.data),he.log("Server message received:",n)}catch{he.log("Invalid server message",i.data);return}this.emit(Is.Message,n)},this._socket.onclose=i=>{this._disconnected||(he.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Is.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),he.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){he.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Et.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Is.Error,"Invalid message");return}if(!this._wsOpen())return;const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class h_{constructor(e){this.connection=e}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===Os.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){const s=this.connection,i={ordered:!!e.reliable},n=t.createDataChannel(s.label,i);s._initializeDataChannel(n),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){he.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const t=this.connection.peer,s=this.connection.connectionId,i=this.connection.type,n=this.connection.provider;he.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(he.log(`Received ICE candidates for ${t}:`,o.candidate),n.socket.send({type:Et.Candidate,payload:{candidate:o.candidate,type:i,connectionId:s},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":he.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(vh.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":he.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(vh.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":he.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},he.log("Listening for data channel"),e.ondatachannel=o=>{he.log("Received data channel");const a=o.channel;n.getConnection(t,s)._initializeDataChannel(a)},he.log("Listening for remote stream"),e.ontrack=o=>{he.log("Received remote stream");const a=o.streams[0],l=n.getConnection(t,s);if(l.type===Os.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){he.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const t=e.signalingState!=="closed";let s=!1;const i=this.connection.dataChannel;i&&(s=!!i.readyState&&i.readyState!=="closed"),(t||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);he.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),he.log("Set localDescription:",s,`for:${this.connection.peer}`);let i={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Os.Data){const n=this.connection;i={...i,label:n.label,reliable:n.reliable,serialization:n.serialization}}t.socket.send({type:Et.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError(lt.WebRTC,i),he.log("Failed to setLocalDescription, ",i))}}catch(s){t.emitError(lt.WebRTC,s),he.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,t=this.connection.provider;try{const s=await e.createAnswer();he.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),he.log("Set localDescription:",s,`for:${this.connection.peer}`),t.socket.send({type:Et.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){t.emitError(lt.WebRTC,i),he.log("Failed to setLocalDescription, ",i)}}catch(s){t.emitError(lt.WebRTC,s),he.log("Failed to create answer, ",s)}}async handleSDP(e,t){t=new RTCSessionDescription(t);const s=this.connection.peerConnection,i=this.connection.provider;he.log("Setting remote description",t);const n=this;try{await s.setRemoteDescription(t),he.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await n._makeAnswer()}catch(o){i.emitError(lt.WebRTC,o),he.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){he.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),he.log(`Added ICE candidate for:${this.connection.peer}`)}catch(t){this.connection.provider.emitError(lt.WebRTC,t),he.log("Failed to handleCandidate, ",t)}}_addTracksToConnection(e,t){if(he.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return he.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{t.addTrack(s,e)})}_addStreamToMediaConnection(e,t){he.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class d_ extends Wd.EventEmitter{emitError(e,t){he.error("Error:",t),this.emit("error",new WA(`${e}`,t))}}class WA extends Error{constructor(e,t){typeof t=="string"?super(t):(super(),Object.assign(this,t)),this.type=e}}class f_ extends d_{get open(){return this._open}constructor(e,t,s){super(),this.peer=e,this.provider=t,this.options=s,this._open=!1,this.metadata=s.metadata}}class Ja extends f_{static#e=this.ID_PREFIX="mc_";get type(){return Os.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,s){super(e,t,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ja.ID_PREFIX+Ft.randomToken(),this._negotiator=new h_(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{he.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{he.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){he.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,s=e.payload;switch(e.type){case Et.Answer:this._negotiator.handleSDP(t,s.sdp),this._open=!0;break;case Et.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:he.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){he.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const i of s)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class XA{constructor(e){this._options=e}_buildRequest(e){const t=this._options.secure?"https":"http",{host:s,port:i,path:n,key:o}=this._options,a=new URL(`${t}://${s}:${i}${n}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",u_),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){he.error("Error retrieving ID",e);let t="";throw this._options.path==="/"&&this._options.host!==Ft.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let t="";throw this._options.host===Ft.CLOUD_HOST?t="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":t="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+t)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw he.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class Qa extends f_{static#e=this.ID_PREFIX="dc_";static#s=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Os.Data}constructor(e,t,s){super(e,t,s),this.connectionId=this.options.connectionId||Qa.ID_PREFIX+l_(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new h_(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{he.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=t=>{he.log(`DC#${this.connectionId} dc onmessage:`,t.data)},this.dataChannel.onclose=()=>{he.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(Xd.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){const t=e.payload;switch(e.type){case Et.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case Et.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:he.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Yd extends Qa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",t=>this._handleDataMessage(t))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Qa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return he.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class fc extends Yd{close(e){super.close(e),this._chunkedData={}}constructor(e,t,s){super(e,t,s),this.chunker=new a_,this.serialization=Dl.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const t=Cv(e),s=t.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){const t=e.__peerData,s=this._chunkedData[t]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[t]=s,s.total===s.count){delete this._chunkedData[t];const i=NA(s.data);this._handleDataMessage({data:i})}}_send(e,t){const s=Pv(e);if(s instanceof Promise)return this._send_blob(s);if(!t&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){const t=this.chunker.chunk(e);he.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(const s of t)this.send(s,!0)}}class YA extends Yd{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Dl.None}}class qA extends Yd{_handleDataMessage({data:e}){const t=this.parse(this.decoder.decode(e)),s=t.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",t)}_send(e,t){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Ft.chunkedMTU){this.emitError(Xd.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Dl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class qd extends d_{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[t,s]of this._connections)e[t]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){super(),this._serializers={raw:YA,json:qA,binary:fc,"binary-utf8":fc,default:fc},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?t=e:e&&(s=e.toString()),t={debug:0,host:Ft.CLOUD_HOST,port:Ft.CLOUD_PORT,path:"/",key:qd.DEFAULT_KEY,token:Ft.randomToken(),config:Ft.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ft.CLOUD_HOST?this._options.secure=Ft.isSecure():this._options.host==Ft.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&he.setLogFunction(this._options.logFunction),he.logLevel=this._options.debug||0,this._api=new XA(t),this._socket=this._createServerConnection(),!Ft.supports.audioVideo&&!Ft.supports.data){this._delayedAbort(lt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Ft.validateId(s)){this._delayedAbort(lt.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(lt.ServerError,i))}_createServerConnection(){const e=new VA(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Is.Message,t=>{this._handleMessage(t)}),e.on(Is.Error,t=>{this._abort(lt.SocketError,t)}),e.on(Is.Disconnected,()=>{this.disconnected||(this.emitError(lt.Network,"Lost connection to server."),this.disconnect())}),e.on(Is.Close,()=>{this.disconnected||this._abort(lt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const t=e.type,s=e.payload,i=e.src;switch(t){case Et.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Et.Error:this._abort(lt.ServerError,s.msg);break;case Et.IdTaken:this._abort(lt.UnavailableID,`ID "${this.id}" is taken`);break;case Et.InvalidKey:this._abort(lt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Et.Leave:he.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case Et.Expire:this.emitError(lt.PeerUnavailable,`Could not connect to peer ${i}`);break;case Et.Offer:{const n=s.connectionId;let o=this.getConnection(i,n);if(o&&(o.close(),he.warn(`Offer received for existing Connection ID:${n}`)),s.type===Os.Media){const l=new Ja(i,this,{connectionId:n,_payload:s,metadata:s.metadata});o=l,this._addConnection(i,o),this.emit("call",l)}else if(s.type===Os.Data){const l=new this._serializers[s.serialization](i,this,{connectionId:n,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});o=l,this._addConnection(i,o),this.emit("connection",l)}else{he.warn(`Received malformed connection type:${s.type}`);return}const a=this._getMessages(n);for(const l of a)o.handleMessage(l);break}default:{if(!s){he.warn(`You received a malformed message from ${i} of type ${t}`);return}const n=s.connectionId,o=this.getConnection(i,n);o&&o.peerConnection?o.handleMessage(e):n?this._storeMessage(n,e):he.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){he.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(lt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,s),s}call(e,t,s={}){if(this.disconnected){he.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(lt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){he.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Ja(e,this,{...s,_stream:t});return this._addConnection(e,i),i}_addConnection(e,t){he.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const s=t.indexOf(e);s!==-1&&t.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const s=this._connections.get(e);if(!s)return null;for(const i of s)if(i.connectionId===t)return i;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){he.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(he.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(const s of t)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;he.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)he.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)he.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort(lt.ServerError,t))}}var cp=qd;const ZA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function KA(r){return typeof r=="string"&&ZA.test(r)}function JA(r){if(!KA(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var gt=[];for(var pc=0;pc<256;++pc)gt.push((pc+256).toString(16).slice(1));function QA(r,e=0){return(gt[r[e+0]]+gt[r[e+1]]+gt[r[e+2]]+gt[r[e+3]]+"-"+gt[r[e+4]]+gt[r[e+5]]+"-"+gt[r[e+6]]+gt[r[e+7]]+"-"+gt[r[e+8]]+gt[r[e+9]]+"-"+gt[r[e+10]]+gt[r[e+11]]+gt[r[e+12]]+gt[r[e+13]]+gt[r[e+14]]+gt[r[e+15]]).toLowerCase()}function eS(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var tS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",rS="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function sS(r,e,t){function s(i,n,o,a){var l;if(typeof i=="string"&&(i=eS(i)),typeof n=="string"&&(n=JA(n)),((l=n)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(n),c.set(i,n.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return QA(c)}try{s.name=r}catch{}return s.DNS=tS,s.URL=rS,s}function iS(r,e,t,s){switch(r){case 0:return e&t^~e&s;case 1:return e^t^s;case 2:return e&t^e&s^t&s;case 3:return e^t^s}}function mc(r,e){return r<<e|r>>>32-e}function nS(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var s=unescape(encodeURIComponent(r));r=[];for(var i=0;i<s.length;++i)r.push(s.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var n=r.length/4+2,o=Math.ceil(n/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=r[l*64+u*4]<<24|r[l*64+u*4+1]<<16|r[l*64+u*4+2]<<8|r[l*64+u*4+3];a[l]=c}a[o-1][14]=(r.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(r.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=a[h][f];for(var p=16;p<80;++p)d[p]=mc(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var m=t[0],g=t[1],y=t[2],v=t[3],_=t[4],T=0;T<80;++T){var b=Math.floor(T/20),L=mc(m,5)+iS(b,g,y,v)+_+e[b]+d[T]>>>0;_=v,v=y,y=mc(g,30)>>>0,g=m,m=L}t[0]=t[0]+m>>>0,t[1]=t[1]+g>>>0,t[2]=t[2]+y>>>0,t[3]=t[3]+v>>>0,t[4]=t[4]+_>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var up=sS("v5",80,nS);class hp{#e="";#s=1;#t=null;#r=new Map;#i={};constructor(e){const t=up(e,up.URL);this.init(t)}async init(e){this.#e=e,this.#t=new cp,this.#t.on("open",t=>{t!==this.#e&&this.#u(this.#e),this.#n()}),this.#t.on("connection",t=>{this.#o(t)}),this.#t.on("error",t=>{t.type==="peer-unavailable"?(this.#t?.destroy(),this.#t=new cp(this.#e),this.#t.on("open",()=>{this.#n()}),this.#t.on("connection",s=>{this.#o(s)})):console.error("PeerJS error:",t)}),window.addEventListener("beforeunload",()=>this.#a())}on(e,t){this.#i[e]||(this.#i[e]=[]),this.#i[e].push(t)}#c(e,t){this.#i[e]&&this.#i[e].forEach(s=>{s({detail:t})})}#n(){this.#c("OnelineUpdate",{count:this.#s})}#l(){this.#r.forEach(e=>e.send({type:"count",count:this.#s}))}#o(e){e.on("open",()=>{this.#r.set(e.peer,e),this.#s=this.#r.size+1,this.#n(),this.#l(),e.on("data",t=>{t.type==="count"&&(this.#s=Math.max(t.count,this.#s),this.#n())}),e.on("close",()=>{this.#r.delete(e.peer),this.#s=this.#r.size+1,this.#n(),this.#l()})})}#u(e){if(!this.#r.has(e)){const t=this.#t?.connect(e);t&&this.#o(t)}}#a(){this.#r.forEach(e=>e.close()),this.#r.clear(),this.#t?.destroy(),this.#t=null,window.removeEventListener("beforeunload",this.#a.bind(this))}destroy(){this.#a()}}function oS(){const r=$d(),e=$x();return K(()=>{const t=r.value.addons["valaxy-addon-vercount"].options;return{placeholder:"-",baseUrl:e.value.origin,...t}})}function aS(){const r=oS(),{placeholder:e,api:t,baseUrl:s}=r.value,i=Ee({pv:e,uv:e,online:e}),n=Ee({pv:e,uv:e,online:e});let o,a;if(!Tl)return{page:i,site:n};const l=xl(),h=t==="cn"?"https://cn.vercount.one/api/v2/log?jsonpCallback=VisitorCountCallback":t||"https://events.vercount.one/api/v2/log?jsonpCallback=VisitorCountCallback",d=g=>{fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:g})}).then(y=>{if(!y.ok)throw new Error("Network response was not ok.");return y.json()}).then(y=>{const v=y.data;i.value.pv=v.page_pv,i.value.uv=v.page_uv,n.value.pv=v.site_pv,n.value.uv=v.site_uv}).catch(y=>{console.error("Error fetching visitor count:",y)})},f=g=>{o=new hp(g),o.on("OnelineUpdate",y=>{i.value.online=y.detail.count}),a=new hp(s),a.on("OnelineUpdate",y=>{n.value.online=y.detail.count})},p=()=>{o?.destroy(),a?.destroy()},m=g=>{d(g),f(g)};return l.beforeEach(g=>{const y=s+g.fullPath;m(y)}),Zt(()=>{const g=window.location.href;m(g)}),Tn(()=>{p()}),{page:i,site:n}}const lS={},cS={class:"yun-cloud"};function uS(r,e){return z(),Y("div",cS,[...e[0]||(e[0]=[xx('<svg class="waves" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" fill="var(--yun-c-cloud)"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg>',1)])])}const hS=Vr(lS,[["render",uS]]);function Xs(){const r=Co();return K(()=>r.value.themeConfig)}function dS(r,e){const t=Ee(!1);function s(i){i.key.toLowerCase()===r.toLowerCase()&&(i.metaKey||i.ctrlKey)&&(i.preventDefault(),e())}return Aa("keydown",s),{isHotKeyActive:t}}function bt(r,e){fS(r)&&(r="100%");const t=pS(r);return r=e===360?r:Math.min(e,Math.max(0,parseFloat(r))),t&&(r=parseInt(String(r*e),10)/100),Math.abs(r-e)<1e-6?1:(e===360?r=(r<0?r%e+e:r%e)/parseFloat(String(e)):r=r%e/parseFloat(String(e)),r)}function Uo(r){return Math.min(1,Math.max(0,r))}function fS(r){return typeof r=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1}function pS(r){return typeof r=="string"&&r.indexOf("%")!==-1}function p_(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function jo(r){return Number(r)<=1?`${Number(r)*100}%`:r}function mi(r){return r.length===1?"0"+r:String(r)}function mS(r,e,t){return{r:bt(r,255)*255,g:bt(e,255)*255,b:bt(t,255)*255}}function dp(r,e,t){r=bt(r,255),e=bt(e,255),t=bt(t,255);const s=Math.max(r,e,t),i=Math.min(r,e,t);let n=0,o=0;const a=(s+i)/2;if(s===i)o=0,n=0;else{const l=s-i;switch(o=a>.5?l/(2-s-i):l/(s+i),s){case r:n=(e-t)/l+(e<t?6:0);break;case e:n=(t-r)/l+2;break;case t:n=(r-e)/l+4;break}n/=6}return{h:n,s:o,l:a}}function gc(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*(6*t):t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function gS(r,e,t){let s,i,n;if(r=bt(r,360),e=bt(e,100),t=bt(t,100),e===0)i=t,n=t,s=t;else{const o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;s=gc(a,o,r+1/3),i=gc(a,o,r),n=gc(a,o,r-1/3)}return{r:s*255,g:i*255,b:n*255}}function fp(r,e,t){r=bt(r,255),e=bt(e,255),t=bt(t,255);const s=Math.max(r,e,t),i=Math.min(r,e,t);let n=0;const o=s,a=s-i,l=s===0?0:a/s;if(s===i)n=0;else{switch(s){case r:n=(e-t)/a+(e<t?6:0);break;case e:n=(t-r)/a+2;break;case t:n=(r-e)/a+4;break}n/=6}return{h:n,s:l,v:o}}function yS(r,e,t){r=bt(r,360)*6,e=bt(e,100),t=bt(t,100);const s=Math.floor(r),i=r-s,n=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=s%6,c=[t,o,n,n,a,t][l],u=[a,t,t,o,n,n][l],h=[n,n,a,t,t,o][l];return{r:c*255,g:u*255,b:h*255}}function pp(r,e,t,s){const i=[mi(Math.round(r).toString(16)),mi(Math.round(e).toString(16)),mi(Math.round(t).toString(16))];return s&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vS(r,e,t,s,i){const n=[mi(Math.round(r).toString(16)),mi(Math.round(e).toString(16)),mi(Math.round(t).toString(16)),mi(bS(s))];return i&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))&&n[3].startsWith(n[3].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function _S(r,e,t,s){const i=r/100,n=e/100,o=t/100,a=s/100,l=255*(1-i)*(1-a),c=255*(1-n)*(1-a),u=255*(1-o)*(1-a);return{r:l,g:c,b:u}}function mp(r,e,t){let s=1-r/255,i=1-e/255,n=1-t/255,o=Math.min(s,i,n);return o===1?(s=0,i=0,n=0):(s=(s-o)/(1-o)*100,i=(i-o)/(1-o)*100,n=(n-o)/(1-o)*100),o*=100,{c:Math.round(s),m:Math.round(i),y:Math.round(n),k:Math.round(o)}}function bS(r){return Math.round(parseFloat(r)*255).toString(16)}function gp(r){return Gt(r)/255}function Gt(r){return parseInt(r,16)}function xS(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}const _h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function TS(r){let e={r:0,g:0,b:0},t=1,s=null,i=null,n=null,o=!1,a=!1;return typeof r=="string"&&(r=SS(r)),typeof r=="object"&&(zt(r.r)&&zt(r.g)&&zt(r.b)?(e=mS(r.r,r.g,r.b),o=!0,a=String(r.r).substr(-1)==="%"?"prgb":"rgb"):zt(r.h)&&zt(r.s)&&zt(r.v)?(s=jo(r.s),i=jo(r.v),e=yS(r.h,s,i),o=!0,a="hsv"):zt(r.h)&&zt(r.s)&&zt(r.l)?(s=jo(r.s),n=jo(r.l),e=gS(r.h,s,n),o=!0,a="hsl"):zt(r.c)&&zt(r.m)&&zt(r.y)&&zt(r.k)&&(e=_S(r.c,r.m,r.y,r.k),o=!0,a="cmyk"),Object.prototype.hasOwnProperty.call(r,"a")&&(t=r.a)),t=p_(t),{ok:o,format:r.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}const wS="[-\\+]?\\d+%?",AS="[-\\+]?\\d*\\.\\d+%?",ks="(?:"+AS+")|(?:"+wS+")",yc="[\\s|\\(]+("+ks+")[,|\\s]+("+ks+")[,|\\s]+("+ks+")\\s*\\)?",zo="[\\s|\\(]+("+ks+")[,|\\s]+("+ks+")[,|\\s]+("+ks+")[,|\\s]+("+ks+")\\s*\\)?",Jt={CSS_UNIT:new RegExp(ks),rgb:new RegExp("rgb"+yc),rgba:new RegExp("rgba"+zo),hsl:new RegExp("hsl"+yc),hsla:new RegExp("hsla"+zo),hsv:new RegExp("hsv"+yc),hsva:new RegExp("hsva"+zo),cmyk:new RegExp("cmyk"+zo),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function SS(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;let e=!1;if(_h[r])r=_h[r],e=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};let t=Jt.rgb.exec(r);return t?{r:t[1],g:t[2],b:t[3]}:(t=Jt.rgba.exec(r),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Jt.hsl.exec(r),t?{h:t[1],s:t[2],l:t[3]}:(t=Jt.hsla.exec(r),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Jt.hsv.exec(r),t?{h:t[1],s:t[2],v:t[3]}:(t=Jt.hsva.exec(r),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Jt.cmyk.exec(r),t?{c:t[1],m:t[2],y:t[3],k:t[4]}:(t=Jt.hex8.exec(r),t?{r:Gt(t[1]),g:Gt(t[2]),b:Gt(t[3]),a:gp(t[4]),format:e?"name":"hex8"}:(t=Jt.hex6.exec(r),t?{r:Gt(t[1]),g:Gt(t[2]),b:Gt(t[3]),format:e?"name":"hex"}:(t=Jt.hex4.exec(r),t?{r:Gt(t[1]+t[1]),g:Gt(t[2]+t[2]),b:Gt(t[3]+t[3]),a:gp(t[4]+t[4]),format:e?"name":"hex8"}:(t=Jt.hex3.exec(r),t?{r:Gt(t[1]+t[1]),g:Gt(t[2]+t[2]),b:Gt(t[3]+t[3]),format:e?"name":"hex"}:!1))))))))))}function zt(r){return typeof r=="number"?!Number.isNaN(r):Jt.CSS_UNIT.test(r)}class st{constructor(e="",t={}){if(e instanceof st)return e;typeof e=="number"&&(e=xS(e)),this.originalInput=e;const s=TS(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=t.format??s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3}getLuminance(){const e=this.toRgb();let t,s,i;const n=e.r/255,o=e.g/255,a=e.b/255;return n<=.03928?t=n/12.92:t=Math.pow((n+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*s+.0722*i}getAlpha(){return this.a}setAlpha(e){return this.a=p_(e),this.roundA=Math.round(100*this.a)/100,this}isMonochrome(){const{s:e}=this.toHsl();return e===0}toHsv(){const e=fp(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}}toHsvString(){const e=fp(this.r,this.g,this.b),t=Math.round(e.h*360),s=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?`hsv(${t}, ${s}%, ${i}%)`:`hsva(${t}, ${s}%, ${i}%, ${this.roundA})`}toHsl(){const e=dp(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}}toHslString(){const e=dp(this.r,this.g,this.b),t=Math.round(e.h*360),s=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?`hsl(${t}, ${s}%, ${i}%)`:`hsla(${t}, ${s}%, ${i}%, ${this.roundA})`}toHex(e=!1){return pp(this.r,this.g,this.b,e)}toHexString(e=!1){return"#"+this.toHex(e)}toHex8(e=!1){return vS(this.r,this.g,this.b,this.a,e)}toHex8String(e=!1){return"#"+this.toHex8(e)}toHexShortString(e=!1){return this.a===1?this.toHexString(e):this.toHex8String(e)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const e=Math.round(this.r),t=Math.round(this.g),s=Math.round(this.b);return this.a===1?`rgb(${e}, ${t}, ${s})`:`rgba(${e}, ${t}, ${s}, ${this.roundA})`}toPercentageRgb(){const e=t=>`${Math.round(bt(t,255)*100)}%`;return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}toPercentageRgbString(){const e=t=>Math.round(bt(t,255)*100);return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`}toCmyk(){return{...mp(this.r,this.g,this.b)}}toCmykString(){const{c:e,m:t,y:s,k:i}=mp(this.r,this.g,this.b);return`cmyk(${e}, ${t}, ${s}, ${i})`}toName(){if(this.a===0)return"transparent";if(this.a<1)return!1;const e="#"+pp(this.r,this.g,this.b,!1);for(const[t,s]of Object.entries(_h))if(e===s)return t;return!1}toString(e){const t=!!e;e=e??this.format;let s=!1;const i=this.a<1&&this.a>=0;return!t&&i&&(e.startsWith("hex")||e==="name")?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),e==="cmyk"&&(s=this.toCmykString()),s||this.toHexString())}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new st(this.toString())}lighten(e=10){const t=this.toHsl();return t.l+=e/100,t.l=Uo(t.l),new st(t)}brighten(e=10){const t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new st(t)}darken(e=10){const t=this.toHsl();return t.l-=e/100,t.l=Uo(t.l),new st(t)}tint(e=10){return this.mix("white",e)}shade(e=10){return this.mix("black",e)}desaturate(e=10){const t=this.toHsl();return t.s-=e/100,t.s=Uo(t.s),new st(t)}saturate(e=10){const t=this.toHsl();return t.s+=e/100,t.s=Uo(t.s),new st(t)}greyscale(){return this.desaturate(100)}spin(e){const t=this.toHsl(),s=(t.h+e)%360;return t.h=s<0?360+s:s,new st(t)}mix(e,t=50){const s=this.toRgb(),i=new st(e).toRgb(),n=t/100,o={r:(i.r-s.r)*n+s.r,g:(i.g-s.g)*n+s.g,b:(i.b-s.b)*n+s.b,a:(i.a-s.a)*n+s.a};return new st(o)}analogous(e=6,t=30){const s=this.toHsl(),i=360/t,n=[this];for(s.h=(s.h-(i*e>>1)+720)%360;--e;)s.h=(s.h+i)%360,n.push(new st(s));return n}complement(){const e=this.toHsl();return e.h=(e.h+180)%360,new st(e)}monochromatic(e=6){const t=this.toHsv(),{h:s}=t,{s:i}=t;let{v:n}=t;const o=[],a=1/e;for(;e--;)o.push(new st({h:s,s:i,v:n})),n=(n+a)%1;return o}splitcomplement(){const e=this.toHsl(),{h:t}=e;return[this,new st({h:(t+72)%360,s:e.s,l:e.l}),new st({h:(t+216)%360,s:e.s,l:e.l})]}onBackground(e){const t=this.toRgb(),s=new st(e).toRgb(),i=t.a+s.a*(1-t.a);return new st({r:(t.r*t.a+s.r*s.a*(1-t.a))/i,g:(t.g*t.a+s.g*s.a*(1-t.a))/i,b:(t.b*t.a+s.b*s.a*(1-t.a))/i,a:i})}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(e){const t=this.toHsl(),{h:s}=t,i=[this],n=360/e;for(let o=1;o<e;o++)i.push(new st({h:(s+o*n)%360,s:t.s,l:t.l}));return i}equals(e){const t=new st(e);return this.format==="cmyk"||t.format==="cmyk"?this.toCmykString()===t.toCmykString():this.toRgbString()===t.toRgbString()}}const ES={flex:"~ col",class:"relative yun-footer va-footer px-4 py-4 pt-0 text-$va-c-text-light w-full mt-14",bg:"white dark:$va-c-bg-soft",text:"center sm"},CS={key:1,class:"beian",m:"y-2"},PS={href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener"},RS={class:"copyright flex justify-center items-center gap-2",p:"1"},IS=["href","title"],kS={key:2,class:"powered",m:"2"},LS=["innerHTML"],MS=["href","title"],DS={class:"ml-1 op-60"},OS=ge({__name:"YunFooter",setup(r){const{isDark:e}=zd(),t=K(()=>e.value?{"--gradient-from":"0 0 0","--gradient-to":"0 0 0"}:{"--gradient-from":"161 196 253","--gradient-to":"194 233 251"}),{t:s}=Rt(),{$t:i}=Wr(),n=Co(),o=Tt(),a=Xs(),l=new Date().getFullYear(),c=K(()=>l===a.value.footer.since),u=K(()=>s("footer.powered",[`<a href="${jn.repository.url}" target="_blank" rel="noopener">Valaxy</a> <span class="op-60">v${jn.version}</span>`])),h=K(()=>a.value.footer.icon||{url:jn.repository.url,name:"i-ri-cloud-line",title:jn.name});return(d,f)=>{const p=hS;return z(),Y("footer",ES,[j(a).footer.cloud?.enable?(z(),Te(p,{key:0,class:"absolute top--10 left-0 right-0"})):de("v-if",!0),j(a).footer.beian?.enable&&j(a).footer.beian.icp?(z(),Y("div",CS,[X("a",PS,Ie(j(a).footer.beian.icp),1)])):de("v-if",!0),X("div",RS,[X("span",null,[f[0]||(f[0]=Kn(" © ",-1)),c.value?de("v-if",!0):(z(),Y(et,{key:0},[Kn(Ie(j(a).footer.since)+" - ",1)],64)),Kn(" "+Ie(j(l)),1)]),j(a).footer.icon?.enable?(z(),Y("a",{key:0,class:He(["inline-flex",j(a).footer.icon.animated?"animate-pulse":""]),href:h.value.url,target:"_blank",title:h.value.title},[X("div",{class:He(h.value.name)},null,2)],10,IS)):de("v-if",!0),X("span",null,Ie(j(i)(j(o).author.name)),1)]),j(a).footer.powered?(z(),Y("div",kS,[X("span",{innerHTML:u.value},null,8,LS),f[2]||(f[2]=X("span",{"mx-1":""},"|",-1)),X("span",null,[X("span",null,Ie(j(s)("footer.theme")),1),f[1]||(f[1]=X("span",{"mx-1":""},"-",-1)),X("a",{href:j(a).pkg.repository.url,title:j(a).pkg.name,target:"_blank"},Ie(Tx(j(n).theme)),9,MS),X("span",DS,"v"+Ie(j(a).pkg.version),1)])])):de("v-if",!0),Mt(d.$slots,"default"),X("div",{class:"yun-footer-gradient",style:as(t.value)},null,4)])}}}),BS=ge({__name:"YunFooter",setup(r){const{site:e}=aS();return(t,s)=>(z(),Te(OS,null,{default:Ge(()=>[X("span",null,"本站总访问量 "+Ie(j(e).pv),1),X("span",null,"本站总访客数 "+Ie(j(e).uv),1)]),_:1}))}}),Kt=wl("yun-app",()=>{const r=Xs(),e=K(()=>r.value.type==="strato"),t=K(()=>r.value.type==="nimbo"),[s,i]=oc(),[n,o]=oc(),[a,l]=oc();return{size:yw(),leftSidebar:{isOpen:s,toggle:i},rightSidebar:{isOpen:n,toggle:o},fullscreenMenu:{isOpen:a,toggle:l},scrollY:Tl?Ux(window).y:0,isStrato:e,isNimbo:t}}),FS=ge({__name:"YunLayoutWrapper",setup(r){const e=Kt(),t=K(()=>e.isNimbo?"mt-12 md:mt-24":"mt-12");return(s,i)=>(z(),Y("div",{flex:"~",class:He(["w-full m-auto justify-center items-start gap-4",t.value])},[Mt(s.$slots,"default")],2))}}),NS=["lang"],$S=["href"],US=ge({__name:"YunOutlineItem",props:{headers:{},onClick:{type:Function},root:{type:Boolean}},setup(r){const{locale:e}=Rt();return(t,s)=>{const i=Ut("YunOutlineItem",!0);return z(),Y("ul",{class:He(r.root?"root":"nested")},[(z(!0),Y(et,null,Vs(r.headers,({children:n,link:o,title:a,lang:l})=>(z(),Y("li",{key:o,class:"va-toc-item",lang:l||j(e)},[X("a",{class:"outline-link",href:o,onClick:s[0]||(s[0]=(...c)=>r.onClick&&r.onClick(...c))},Ie(a),9,$S),n?.length?(z(),Te(i,{key:0,headers:n,"on-click":r.onClick},null,8,["headers","on-click"])):de("v-if",!0)],8,NS))),128))],2)}}}),jS=Vr(US,[["__scopeId","data-v-699db71a"]]),zS={class:"content"},HS={class:"outline-title"},GS={"aria-labelledby":"doc-outline-aria-label"},VS=ge({__name:"YunOutline",setup(r){const{t:e}=Rt(),t=Ee(),s=Ee(),{headers:i,handleClick:n}=kw();return Iw(t,s),(o,a)=>{const l=jS;return Ao((z(),Y("div",{ref_key:"containerRef",ref:t},[X("div",zS,[X("div",HS,Ie(j(e)("theme.outlineTitle")),1),X("div",{ref_key:"marker",ref:s,class:"outline-marker"},null,512),X("nav",GS,[a[0]||(a[0]=X("span",{id:"doc-outline-aria-label",class:"visually-hidden"}," Table of Contents for current page ",-1)),ce(l,{class:"va-toc relative z-1 css-i18n-toc",headers:j(i),"on-click":j(n),root:""},null,8,["headers","on-click"])])])],512)),[[wd,j(i).length]])}}}),WS=Vr(VS,[["__scopeId","data-v-6dc67c73"]]),XS={class:"w-full",flex:"~ col","pb-2":""},YS={m:"t-6 b-2",font:"serif black"},qS={key:1,class:"custom-container"},ZS=ge({__name:"YunAside",setup(r){const e=ms(),{t}=Rt(),s=Kt(),i=Ee(!1),n=K(()=>e.value.toc!==!1),o=Ee(!1);return Ze(()=>[s.rightSidebar.isOpen,s.size.isXl],async()=>{await wo(),o.value=!s.size.isXl,i.value=(s.rightSidebar.isOpen||!o.value)&&e.value.aside!==!1},{immediate:!0}),(a,l)=>{const c=WS;return z(),Y("aside",{flex:"~ col",class:He(["va-card yun-aside sticky top-0 lg:top-$yun-margin-top min-h-sm",{float:o.value,show:i.value,open:j(s).rightSidebar.isOpen}]),text:"center",overflow:"auto"},[ce(Pi,{name:"fade",delay:100,persisted:""},{default:Ge(()=>[Ao(X("div",XS,[n.value?(z(),Y(et,{key:0},[X("h2",YS,Ie(j(t)("sidebar.toc")),1),ce(c)],64)):de("v-if",!0),l[0]||(l[0]=X("div",{class:"flex-grow"},null,-1)),a.$slots.default?(z(),Y("div",qS,[Mt(a.$slots,"default")])):de("v-if",!0)],512),[[wd,i.value]])]),_:3})],2)}}}),KS={key:0,class:"yun-overlay z-$yun-z-overlay"},m_=ge({__name:"YunOverlay",props:{show:{type:Boolean,default:!1}},setup(r){return(e,t)=>(z(),Te(Pi,{name:"fade"},{default:Ge(()=>[r.show?(z(),Y("div",KS)):de("v-if",!0)]),_:1}))}}),JS=ge({__name:"YunLayoutRight",setup(r){const e=ms(),t=Kt();return(s,i)=>{const n=m_,o=ZS;return z(),Y(et,null,[j(e).aside!==!1?(z(),Y("button",{key:0,class:"xl:hidden toc-btn shadow-md fixed yun-icon-btn z-20 bg-$va-c-bg-soft",opacity:"75",right:"4",bottom:"19",onClick:i[0]||(i[0]=a=>j(t).rightSidebar.toggle())},[...i[2]||(i[2]=[X("div",{"i-ri-file-list-line":""},null,-1)])])):de("v-if",!0),ce(n,{show:j(t).rightSidebar.isOpen,onClick:i[1]||(i[1]=a=>j(t).rightSidebar.toggle())},null,8,["show"]),j(e).aside!==!1?(z(),Te(o,{key:1})):de("v-if",!0)],64)}}}),QS={};function eE(r,e){return z(),Y(et,null,[de(" eslint-disable-next-line vue/no-lone-template empty "),X("template")],2112)}const tE=Vr(QS,[["render",eE]]),rE={class:"yun-card flex-center rounded-2",flex:"col","min-h":"100px",bg:"$va-c-bg-light"},sE=["src"],iE={key:1,class:"yun-card-header"},nE={key:2,class:"yun-card-content",w:"full"},oE=ge({__name:"YunCard",props:{cover:{}},setup(r){return(e,t)=>(z(),Y("div",rE,[r.cover?(z(),Y("img",{key:0,width:"640",height:"360",class:"object-cover select-none",h:"64 md:sm",w:"full",src:r.cover,loading:"lazy"},null,8,sE)):de("v-if",!0),e.$slots.header?(z(),Y("div",iE,[X("header",null,[Mt(e.$slots,"header")])])):de("v-if",!0),Mt(e.$slots,"default"),e.$slots.content?(z(),Y("div",nE,[Mt(e.$slots,"content")])):de("v-if",!0)]))}}),aE=["href","target"],lE={key:0,class:"icon-link inline-block","i-ri-arrow-right-up-line":""},Io=ge({__name:"AppLink",props:{showExternalIcon:{type:Boolean},to:{},href:{},target:{}},setup(r){const e=r,t=K(()=>e.href||e.to||"#"),s=K(()=>t.value&&_w.test(t.value)||e.target==="_blank");return(i,n)=>s.value?(z(),Y("a",pn({key:0,class:"va-link"},i.$attrs,{href:t.value,target:r.target??(s.value?"_blank":void 0)}),[Mt(i.$slots,"default"),r.showExternalIcon?(z(),Y("div",lE)):de("v-if",!0)],16,aE)):(z(),Te(j(Ox),pn({key:1,class:"va-link"},i.$attrs,{to:t.value}),{default:Ge(()=>[Mt(i.$slots,"default")]),_:3},16,["to"]))}}),cE={class:"links flex-center"},Zd=ge({__name:"YunSidebarLinks",setup(r){const e=Xs(),{$t:t}=Wr();return(s,i)=>{const n=Io;return z(),Y("div",cE,[(z(!0),Y(et,null,Vs(j(e).pages,(o,a)=>(z(),Te(n,{key:a,class:"link-item yun-icon-btn","inline-flex":"",to:o.url,title:j(t)(o.name),style:as(`color:${o.color}`)},{default:Ge(()=>[X("div",{class:He([o.icon,"icon size-6"])},null,2)]),_:2},1032,["to","title","style"]))),128))])}}}),uE=["href","title"],hE=ge({__name:"YunSocialLinkItem",props:{social:{}},setup(r){const e=r,{$t:t}=Wr(),s=hs(),i=K(()=>s.isDark&&e.social.color==="black"?"white":e.social.color);return(n,o)=>(z(),Y("a",{class:"links-of-author-item yun-icon-btn",rel:"noopener",href:r.social.link,title:j(t)(r.social.name),target:"_blank",style:as(`color:${i.value}`)},[X("div",{class:He(["icon",r.social.icon])},null,2)],12,uE))}}),dE={class:"links-of-author"},Kd=ge({__name:"YunSocialLinks",setup(r){const e=Tt();return(t,s)=>{const i=hE;return z(),Y("div",dE,[(z(!0),Y(et,null,Vs(j(e).social,(n,o)=>(z(),Te(i,{key:o,social:n},null,8,["social"]))),128))])}}}),fE={flex:"~ col",class:"text-$va-c-text inline-flex-center gap-1"},pE={class:"text-xs"},mE={class:"count text-base text-black/80 dark:text-white/80"},gE=ge({__name:"YunPostClassifyNavItem",props:{activeIcon:{},icon:{},title:{},total:{},to:{}},setup(r){const e=r,t=Tr(),s=K(()=>t.path===e.to),i=K(()=>s.value&&e.activeIcon?e.activeIcon:e.icon);return(n,o)=>{const a=Ut("RouterLink");return z(),Te(a,{flex:"~ col center",class:"post-classify-nav-item gap-1 w-20 p-2 rounded transition op-80",to:r.to,title:r.title,hover:"bg-$va-c-bg-soft op-100"},{default:Ge(()=>[X("div",fE,[X("div",{class:He(["text-2xl",i.value])},null,2),X("span",pE,Ie(r.title),1)]),X("span",mE,Ie(r.total),1)]),_:1},8,["to","title"])}}}),yE={class:"site-nav","text-xl":"","mt-2":""},g_=ge({__name:"YunPostsInfo",setup(r){const{t:e}=Rt(),t=kl(),s=lv(),i=Ev();return(n,o)=>{const a=gE;return z(),Y("nav",yE,[ce(a,{to:"/archives/",icon:"i-ri-archive-line","active-icon":"i-ri-archive-fill",title:j(e)("menu.archives"),total:j(t).postList.length},null,8,["title","total"]),ce(a,{to:"/categories/",icon:"i-ri-folder-2-line","active-icon":"i-ri-folder-2-fill",title:j(e)("menu.categories"),total:Array.from(j(s).children).length},null,8,["title","total"]),ce(a,{to:"/tags/",icon:"i-ri-price-tag-3-line","active-icon":"i-ri-price-tag-3-fill",title:j(e)("menu.tags"),total:Array.from(j(i)).length},null,8,["title","total"])])}}}),vE={},_E={class:"yun-gradient-line"};function bE(r,e){return z(),Y("div",_E)}const y_=Vr(vE,[["render",bE]]),xE=ge({__name:"YunSiteTitle",setup(r){const e=xl(),t=Tt(),s=Xs(),{$t:i}=Wr();return(n,o)=>{const a=Ut("RouterLink");return j(e).hasRoute("/about/site")?(z(),Te(a,{key:0,to:"/about/site",class:He(["site-name text-lg leading-loose",j(s).banner.siteNameClass])},{default:Ge(()=>[Kn(Ie(j(i)(j(t).title)),1)]),_:1},8,["class"])):(z(),Y("span",{key:1,class:He(["site-name text-lg leading-loose",j(s).banner.siteNameClass])},Ie(j(i)(j(t).title)),3))}}}),TE=ge({__name:"YunAuthorName",setup(r){const e=Tt(),{$t:t}=Wr();return(s,i)=>{const n=Ut("RouterLink");return z(),Te(n,{class:"site-author-name font-black font-serif text-$va-c-text op-80 hover:op-100 flex-center",to:"/about"},{default:Ge(()=>[Kn(Ie(j(t)(j(e).author.name)),1)]),_:1})}}}),wE={class:"relative yun-author-avatar"},AE=["src"],SE=["title"],EE=ge({__name:"YunAuthorAvatar",setup(r){const e=Tt();return(t,s)=>(z(),Y("div",wE,[s[0]||(s[0]=X("div",{class:"absolute size-full avatar-bg bg-image-$yun-home-hero-image-background-image filter-blur-2xl op-30"},null,-1)),X("img",{class:"rounded-full size-full bg-white dark:bg-white/20 p-1 m-0 absolute",src:j(e).author.avatar,alt:"avatar"},null,8,AE),j(e).author.status.emoji?(z(),Y("span",{key:0,class:"site-author-status absolute",title:j(e).author.status.message||void 0},Ie(j(e).author.status.emoji),9,SE)):de("v-if",!0)]))}}),CE={class:"site-info gap-1 items-center",flex:"~ col",p:"t-8"},PE={key:0,class:"site-subtitle block",text:"xs"},RE={key:1,class:"site-description"},Jd=ge({__name:"YunSiteInfo",setup(r){const{$t:e}=Wr(),t=Tt();return(s,i)=>{const n=EE,o=Ut("RouterLink"),a=TE,l=xE;return z(),Y("div",CE,[ce(o,{class:"site-author-avatar inline-flex-center",to:"/about"},{default:Ge(()=>[ce(n)]),_:1}),ce(a),ce(l),j(e)(j(t).subtitle)?(z(),Y("h4",PE,Ie(j(e)(j(t).subtitle)),1)):de("v-if",!0),j(t).description?(z(),Y("div",RE,Ie(j(e)(j(t).description)),1)):de("v-if",!0)])}}}),IE=ge({__name:"YunSidebarCard",setup(r){return(e,t)=>{const s=Jd,i=y_,n=g_,o=Kd,a=Zd,l=oE;return z(),Te(l,{class:"p-4 min-h-sm",flex:"~ col gap-1"},{default:Ge(()=>[ce(s,{class:"text-center"}),ce(i,{class:"my-2 op-20"}),ce(n),ce(i,{class:"my-2 op-20"}),ce(o),ce(i,{class:"my-2 op-20"}),ce(a)]),_:1})}}}),kE={key:0,flex:"~ col",class:"gap-4 sticky top-$yun-margin-top w-80"},LE=ge({__name:"YunLayoutLeft",setup(r){const e=Kt(),t=ms(),s=K(()=>typeof t.value.sidebar<"u"?t.value.sidebar:e.size.isLg);return(i,n)=>{const o=IE,a=tE;return s.value?(z(),Y("div",kE,[Mt(i.$slots,"default",{},()=>[ce(o),ce(a)])])):de("v-if",!0)}}}),ME=ge({__name:"default",setup(r){return(e,t)=>{const s=LE,i=Ut("RouterView"),n=JS,o=FS,a=BS;return z(),Y(et,null,[ce(o,null,{default:Ge(()=>[ce(s),ce(i),ce(n)]),_:1}),ce(a)],64)}}}),yp={404:()=>nt(()=>import("./404.IhRBxp3o.js"),__vite__mapDeps([1,2,3,4,5,6,7,8,9,10,11])),default:SA,empty:()=>nt(()=>import("./empty.BY0axmWq.js"),__vite__mapDeps([12,2,3])),post:()=>nt(()=>import("./post.wTVkNMzF.js"),__vite__mapDeps([13,2,3])),404:()=>nt(()=>import("./404.pA0zMRpY.js"),__vite__mapDeps([14,2,3,4,5,6,7,8,9,15,11])),albums:()=>nt(()=>import("./albums.CkPZCf3k.js"),__vite__mapDeps([16,2,3,17,6,18,19,7,5,8,9,20,11])),archives:()=>nt(()=>import("./archives.BysoaBei.js"),__vite__mapDeps([21,22,2,3,6,7,23,19,5,8,9,11])),categories:()=>nt(()=>import("./categories.CUIx8oJ-.js"),__vite__mapDeps([24,22,2,3,6,7,23,5,25,26,19,8,9,11])),collection:()=>nt(()=>import("./collection.CheazOtT.js"),__vite__mapDeps([27,28,2,3,7,29,30,6,31,5,17,18,32,33,34,8,9,35,11])),collections:()=>nt(()=>import("./collections.BCVsbdQN.js"),__vite__mapDeps([36,2,3,19,34,5,7,6,8,9,11])),default:ME,gallery:()=>nt(()=>import("./gallery.owFA_kHi.js").then(r=>r.g),__vite__mapDeps([37,3,2,6,19,5,7,38])),home:()=>nt(()=>import("./home.31muPf_z.js"),__vite__mapDeps([39,2,3,6,7,18,5,8,9,40,11])),post:()=>nt(()=>import("./post.BoWWGQm4.js"),__vite__mapDeps([41,28,2,3,7,29,30,6,31,5,17,18,32,33,8,9,11])),posts:()=>nt(()=>import("./posts.ChmFU_Tk.js"),__vite__mapDeps([42,43,2,3,6,5,31,7,17,18,32,44,45,8,9,11])),projects:()=>nt(()=>import("./projects.CiEANI6p.js"),__vite__mapDeps([46,47,2,3,6,5,7,48,29,30,26,19,8,9,49,11])),tags:()=>nt(()=>import("./tags.CdD7ajrk.js"),__vite__mapDeps([50,22,2,3,6,7,23,25,26,19,5,8,9,11]))};function DE(r){function e(t,s=!0){return t.map(i=>{if(i.children?.length>0&&(i.children=e(i.children,!1)),s){if(!i.component&&i.children?.find(o=>(o.path===""||o.path==="/")&&o.meta?.isLayout))return i;if(i.meta?.layout!==!1)return{path:i.path,component:yp[i.meta?.layout||"default"],children:i.path==="/"?[i]:[{...i,path:""}],meta:{isLayout:!0}}}return i.meta?.layout?{path:i.path,component:yp[i.meta?.layout],children:[{...i,path:""}],meta:{isLayout:!0}}:i})}return e(r)}async function v_(r,e={}){const t=e.document||r.resolvedOptions.document;if(!t||!r.dirty)return;const s={shouldRender:!0,tags:[]};if(await r.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return r._domUpdatePromise||(r._domUpdatePromise=new Promise(async i=>{const n=new Map,o=new Promise(f=>{r.resolveTags().then(p=>{f(p.map(m=>{const g=n.get(m._d)||0,y={tag:m,id:(g?`${m._d}:${g}`:m._d)||jf(m),shouldRender:!0};return m._d&&By(m._d)&&n.set(m._d,g+1),y}))})});let a=r._dom;if(!a){a={title:t.title,elMap:new Map().set("htmlAttrs",t.documentElement).set("bodyAttrs",t.body)};for(const f of["body","head"]){const p=t[f]?.children;for(const m of p){const g=m.tagName.toLowerCase();if(!Bf.has(g))continue;const y=Fy({tag:g,props:{}},{innerHTML:m.innerHTML,...m.getAttributeNames().reduce((v,_)=>(v[_]=m.getAttribute(_),v),{})||{}});if(y.key=m.getAttribute("data-hid")||void 0,y._d=eh(y)||jf(y),a.elMap.has(y._d)){let v=1,_=y._d;for(;a.elMap.has(_);)_=`${y._d}:${v++}`;a.elMap.set(_,m)}else a.elMap.set(y._d,m)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(f,p,m){const g=`${f}:${p}`;a.sideEffects[g]=m,delete a.pendingSideEffects[g]}function c({id:f,$el:p,tag:m}){const g=m.tag.endsWith("Attrs");a.elMap.set(f,p),g||(m.textContent&&m.textContent!==p.textContent&&(p.textContent=m.textContent),m.innerHTML&&m.innerHTML!==p.innerHTML&&(p.innerHTML=m.innerHTML),l(f,"el",()=>{p?.remove(),a.elMap.delete(f)}));for(const y in m.props){if(!Object.prototype.hasOwnProperty.call(m.props,y))continue;const v=m.props[y];if(y.startsWith("on")&&typeof v=="function"){const T=p?.dataset;if(T&&T[`${y}fired`]){const b=y.slice(0,-5);v.call(p,new Event(b.substring(2)))}p.getAttribute(`data-${y}`)!==""&&((m.tag==="bodyAttrs"?t.defaultView:p).addEventListener(y.substring(2),v.bind(p)),p.setAttribute(`data-${y}`,""));continue}const _=`attr:${y}`;if(y==="class"){if(!v)continue;for(const T of v)g&&l(f,`${_}:${T}`,()=>p.classList.remove(T)),!p.classList.contains(T)&&p.classList.add(T)}else if(y==="style"){if(!v)continue;for(const[T,b]of v)l(f,`${_}:${T}`,()=>{p.style.removeProperty(T)}),p.style.setProperty(T,b)}else v!==!1&&v!==null&&(p.getAttribute(y)!==v&&p.setAttribute(y,v===!0?"":String(v)),g&&l(f,_,()=>p.removeAttribute(y)))}}const u=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await o;for(const f of d){const{tag:p,shouldRender:m,id:g}=f;if(m){if(p.tag==="title"){t.title=p.textContent,l("title","",()=>t.title=a.title);continue}f.$el=f.$el||a.elMap.get(g),f.$el?c(f):Bf.has(p.tag)&&u.push(f)}}for(const f of u){const p=f.tag.tagPosition||"head";f.$el=t.createElement(f.tag.tag),c(f),h[p]=h[p]||t.createDocumentFragment(),h[p].appendChild(f.$el)}for(const f of d)await r.hooks.callHook("dom:renderTag",f,t,l);h.head&&t.head.appendChild(h.head),h.bodyOpen&&t.body.insertBefore(h.bodyOpen,t.body.firstChild),h.bodyClose&&t.body.appendChild(h.bodyClose);for(const f in a.pendingSideEffects)a.pendingSideEffects[f]();r._dom=a,await r.hooks.callHook("dom:rendered",{renders:d}),i()}).finally(()=>{r._domUpdatePromise=void 0,r.dirty=!1})),r._domUpdatePromise}function OE(r={}){const e=r.domOptions?.render||v_;r.document=r.document||(typeof window<"u"?document:void 0);const t=r.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ST({...r,plugins:[...r.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[t?JSON.parse(t):!1,...r.init||[]]})}function BE(r,e){let t=0;return()=>{const s=++t;e(()=>{t===s&&r()})}}function FE(r={}){const e=OE({domOptions:{render:BE(()=>v_(e),t=>setTimeout(t,0))},...r});return e.install=CT(e),e}function NE(r){return document.readyState==="loading"?new Promise(e=>{document.addEventListener("DOMContentLoaded",()=>e(r))}):Promise.resolve(r)}const $E=ge({setup(r,{slots:e}){const t=Ee(!1);return Zt(()=>t.value=!0),()=>t.value?e.default&&e.default({}):e.placeholder&&e.placeholder({})}});function UE(r){try{return JSON.parse(r||"{}")}catch(e){return console.error("[SSG] On state deserialization -",e,r),{}}}function jE(r,e,t,s){const{transformState:i,registerComponents:n=!0,useHead:o=!0,rootContainer:a="#app"}={};async function l(c){const u=Cy(r);let h;o&&u.use(h=FE());const d=Bx({history:Fx(e.base),...e}),{routes:f}=e;n&&u.component("ClientOnly",$E);const p=[],y={app:u,head:h,isClient:!0,router:d,routes:f,onSSRAppRendered:()=>{},triggerOnSSRAppRendered:()=>Promise.all(p.map(b=>b())),initialState:{},transformState:i,routePath:c};await NE(),y.initialState=i?.(window.__INITIAL_STATE__||{})||UE(window.__INITIAL_STATE__),await t?.(y),u.use(d);let v,_=!0;d.beforeEach((b,L,x)=>{(_||v&&v===b.path)&&(_=!1,v=b.path,b.meta.state=y.initialState),x()});const T=y.initialState;return{...y,initialState:T}}return(async()=>{const{app:c,router:u}=await l();await u.isReady(),c.mount(a,!0)})(),l}function Qd(r,e){r&&Object.entries(e).forEach(([t,s])=>{r[t]&&s()})}function zE(){const r=document.querySelector(".aplayer.aplayer-fixed .aplayer-body"),e=document.querySelector(".aplayer-body .aplayer-miniswitcher .aplayer-icon");let t=!0;function s(){t=!t}function i(){t&&(r.style.left="-66px")}function n(){r.style.left="0"}Aa(r,"mouseenter",n),Aa(r,"mouseleave",i),Aa(e,"click",s)}function __(r,e){const t=document.querySelector(".aplayer.aplayer-fixed.aplayer-narrow .aplayer-body");t&&(r===bh.metingLoadBefore?t.style.display="initial":r===bh.metingLoad&&(t.style.left=e))}function b_(r){__(r,"0")}function HE(r){__(r,"-66px")}var bh=(r=>(r.metingInit="metingInit",r.metingLoadBefore="metingLoadBefore",r.metingLoad="metingLoad",r))(bh||{});function GE({options:r}){Qd(r,{animationIn:()=>Zt(()=>nt(()=>Promise.resolve({}),__vite__mapDeps([51])))})}function VE({options:r}){Qd(r,{animationIn:()=>b_("metingLoadBefore")})}function WE({options:r}){Qd(r,{lyricHidden:()=>XE(),animationIn:()=>{b_("metingLoad")},autoHidden:()=>{zE(),HE("metingLoad")}})}function XE(){const r=new MutationObserver(e=>{const t=document.querySelector(".aplayer-lrc .aplayer-lrc-contents .aplayer-lrc-current"),s=document.querySelector(".aplayer-icon-lrc");function i(){t&&(t.style.display="none",t.textContent!=="Loading"&&(s.click(),t.style.display="",r?.disconnect()))}e.forEach(n=>{i()})});r.observe(document.body,{childList:!0,subtree:!0})}function YE(r){let e=!1,t;Zt(()=>{t=new MutationObserver(s=>{function i(){if(e)return;document.querySelector(".aplayer.aplayer-fixed.aplayer-narrow .aplayer-body")&&(e=!0,setTimeout(()=>{VE(r),requestAnimationFrame(()=>{WE(r),t?.disconnect(),t=null})},0))}s.forEach(n=>{i()})}),t.observe(document.body,{childList:!0,subtree:!0})}),Tn(()=>{t?.disconnect(),t=null})}function x_(){const r=$d();return K(()=>r.value.addons["valaxy-addon-meting"])}function qE(){const r=Tt(),e=x_(),t=K(()=>r.value.cdn.prefix);Eo({link:[{rel:"stylesheet",href:`${t.value}aplayer/dist/APlayer.min.css`}]}),Of(`${t.value}aplayer/dist/APlayer.min.js`,()=>{Of(`${t.value}meting@2/dist/Meting.min.js`)}),GE(e.value),YE(e.value)}function ZE(){const r=Tr(),e=x_(),t=ms(),s=Ee(!0);return Ze(()=>r.path,()=>{s.value=t.value?.aplayer??e.value?.global??!0},{immediate:!0}),s}const KE=ge({__name:"App",props:{id:{default:"308168565"},server:{default:"netease"},type:{default:"playlist"}},setup(r){const e=r;qE();const t=ZE();return(s,i)=>(z(),Y(et,null,[de(" eslint-disable-next-line vue/component-name-in-template-casing "),Ao(X("meting-js",pn(e,{fixed:!0}),null,16),[[wd,j(t)]])],2112))}});class JE{live2dTips;messageArray=[];messageTimer=null;currentPriority=0;constructor(e){this.live2dTips=e}init(){this.setupEvents(),this.setupSeasonalTips(this.live2dTips.seasons),this.welcomeMessage(),this.activityBasedMessages(),this.setupAdditionalEvents(),this.showMessage(this.generateReferrerMessage(),7e3,1)}setupEvents(){this.setupEventHandlers(this.live2dTips.mouseover,"mouseover"),this.setupEventHandlers(this.live2dTips.click,"click")}setupEventHandlers(e,t){e.forEach(s=>{window.addEventListener(t,i=>{const n=i.target;if(n.matches(s.selector)){const o=this.randomSelection(s.text).replace("{text}",n.textContent||"");this.showMessage(o,4e3,8)}})})}setupSeasonalTips(e){const t=new Date;e.forEach(s=>{const[i,n]=s.date.split("-"),[o,a]=i.split("/").map(Number),[l,c]=n?n.split("/").map(Number):[o,a],u=t.getMonth()+1,h=t.getDate();if(o<=u&&u<=l&&a<=h&&h<=c){let d=this.randomSelection(s.text);d=d.replace("{year}",String(t.getFullYear())),this.showMessage(d,7e3,100),this.messageArray.push(d)}})}randomSelection(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}welcomeMessage(){const e=new Date().getHours();let t;const s=this.live2dTips.time;for(let i=0;i<s.length;i++){const n=s[i].hour.split("-"),o=Number.parseInt(n[0]),a=Number.parseInt(n[1]);if(e>=o&&e<=a){const l=s[i].text;Array.isArray(l)?t=this.randomSelection(l):t=l;break}}setTimeout(()=>{this.showMessage(t,7e3,8)},3e3)}generateReferrerMessage(){if(document.referrer!==""){const e=new URL(document.referrer),t=e.hostname.split(".")[1];if(location.hostname===e.hostname)return`欢迎阅读<span>「${document.title.split(" - ")[0]}」</span>`;{const s=e.search.split("&");return t==="baidu"?`Hello！来自 百度搜索 的朋友<br>你是搜索 <span>${s.find(i=>i.startsWith("wd="))?.split("=")[1]}</span> 找到的我吗？`:t==="so"?`Hello！来自 360搜索 的朋友<br>你是搜索 <span>${s.find(i=>i.startsWith("q="))?.split("=")[1]}</span> 找到的我吗？`:t==="google"?`Hello！来自 谷歌搜索 的朋友<br>欢迎阅读<span>「${document.title.split(" - ")[0]}」</span>`:`Hello！来自 <span>${e.hostname}</span> 的朋友`}}else return`欢迎阅读<span>「${document.title.split(" - ")[0]}」</span>`}activityBasedMessages(){let e=!1,t=null;const s=this.live2dTips.message.default;window.addEventListener("mousemove",()=>e=!0),window.addEventListener("keydown",()=>e=!0),setInterval(()=>{e?(e=!1,t!==null&&(clearInterval(t),t=null)):t||(t=setInterval(()=>{this.showMessage(this.randomSelection(s),6e3,9)},2e4))},1e3)}setupAdditionalEvents(){window.addEventListener("copy",()=>{this.showMessage(this.live2dTips.message.copy,6e3,9)}),window.addEventListener("visibilitychange",()=>{document.hidden||this.showMessage(this.live2dTips.message.visibilitychange,6e3,9)})}showMessage=(e,t=3e3,s=1)=>{const i=document.getElementById("live2d-tips");if(!e){i.classList.remove("live2d-tips-active");return}s<this.currentPriority||(this.messageTimer&&(clearTimeout(this.messageTimer),this.messageTimer=null),this.currentPriority=s,i.innerHTML=typeof e=="string"?e:this.randomSelection(e),i.classList.add("live2d-tips-active"),this.messageTimer=window.setTimeout(()=>{this.currentPriority=0,i.classList.remove("live2d-tips-active")},t))}}function QE(r=200){const e=document.querySelectorAll(".live2d-tool:not(.hide-live2d)");let t=null;function s(i){t||(t=i);const n=i-t,o=Math.min(n/r,1);e.forEach(a=>{a.style.padding=`${5*o}px 0`,a.style.maxHeight=`${70*o}px`}),o<1?requestAnimationFrame(s):e.forEach(a=>{a.style.transform=""})}requestAnimationFrame(s)}function eC(r=200){const e=document.querySelectorAll(".live2d-tool:not(.hide-live2d)");let t=null;function s(i){t===null&&(t=i);const n=i-t,o=Math.min(n/r,1);e.forEach(a=>{o<1?(a.style.padding="5px 0",a.style.maxHeight="70px",a.style.transform=`translateX(${-40*o}px)`):(a.style.padding="0",a.style.maxHeight="0")}),o<1||n<r*2?requestAnimationFrame(s):t=null}requestAnimationFrame(s)}function vp(r,e,t){let s="";if(t){const i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3),s=`; expires=${i.toUTCString()}`}document.cookie=`${encodeURIComponent(r)}=${encodeURIComponent(e)}${s}; path=/`}function tC(r){const e=`${encodeURIComponent(r)}=`,t=document.cookie.split(";");for(let s of t)if(s=s.trim(),s.startsWith(e))return decodeURIComponent(s.substring(e.length));return null}async function rC(r){const e=await fetch(r);if(!e.ok)throw new Error(`请求失败，状态码: ${e.status}`);return await e.json()}function T_(r){const e=/https:\/\/cdn\.jsdelivr\.net\/gh\/([\w-]+)\/([\w-]+)\/([\w\-/]+)\/index\.json/,t=r.match(e);if(t){const s=t[1],i=t[2],n=t[3];return`https://api.github.com/repos/${s}/${i}/contents/${n}/textures`}else throw new Error("URL格式不正确")}async function w_(r){const e=`live2d-cache-${r}`,t=`live2d-cacheTime-${r}`,s=1440*60*1e3,i=localStorage.getItem(e),n=localStorage.getItem(t);if(i&&n&&Date.now()-Number.parseInt(n)<s)return JSON.parse(i);try{const o=await fetch(r);if(!o.ok)throw new Error(`Network request failed, status code: ${o.status}`);const a=await o.json();if(!Array.isArray(a))throw new TypeError("目录内容获取失败");const l=a.map(c=>c.name);return localStorage.setItem(e,JSON.stringify(l)),localStorage.setItem(t,Date.now().toString()),l}catch(o){throw console.error("获取文件名失败:",o),o}}const A_="modelKey",S_="skinKey";async function Ho(r){const e=localStorage.getItem(A_),t=localStorage.getItem(S_),s=e||Object.keys(r)[0];let i=Number.parseInt(t||"0",10),n=r[s];if(!n){const a=Object.keys(r)[0];n=r[a],Ji(Object.keys(r)[0],0),console.warn(`缓存中的人物Key值"${s}"不存在，已初始化为默认值`)}i>=n.models.length&&(i=0,console.warn("皮肤索引越界，已初始化皮肤索引。如果这是由于您删除了某些人物 models 导致的，请放心忽略此消息"));const o=typeof n.models=="string"?await La(n.models,i):n.models[i];return{currentCharacterKey:s,currentSkinIndex:i,availableModels:n,selectedModel:o}}function Ji(r,e){r!==null&&localStorage.setItem(A_,r.toString()),e!==null&&localStorage.setItem(S_,e.toString())}async function La(r,e){let t;const s=await rC(r),i={...s,url:r};if(r.startsWith("https://cdn.jsdelivr.net/gh")){const n=T_(r);t=(await w_(n)).map(a=>`textures/${a}`)}else t=s.textures;return e>=0&&e<t.length&&(i.textures[0]=t[e],Ji(null,e)),i}const sC={XiaoYun:{message:"来自云游君的小云 ~",models:["https://cdn.jsdelivr.net/npm/@yunyoujun/live2d@latest/小云.model3.json"]},Tia:{message:"来自 Potion Maker 的 Tia 酱 ~",models:"https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/model/Potion-Maker/Tia/index.json",textures:"https://api.github.com/repos/fghrsh/live2d_api/contents/model/Potion-Maker/Tia/textures"},Pio:{message:"来自 Potion Maker 的 Pio 酱 ~",models:"https://cdn.jsdelivr.net/gh/fghrsh/live2d_api/model/Potion-Maker/Pio/index.json",textures:"https://api.github.com/repos/fghrsh/live2d_api/contents/model/Potion-Maker/Pio/textures"},ShizukuTalk:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/ShizukuTalk/shizuku-48/index.json","https://registry.npmmirror.com/weblive2d/latest/files/model/ShizukuTalk/shizuku-pajama/index.json"]},BiliBili22:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/22/index.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.cba-normal.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.newyear.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.school.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.summer.normal.2.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.high.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.tomo-bukatsu.low.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.valley.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2017.vdays.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.lover.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.2018.spring.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.default.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.1.model.json","https://summerscar.me/live2dDemo/assets/22.2017.cba-normal/22.xmas.2.model.json"]},BiliBili33:{models:["https://registry.npmmirror.com/weblive2d/latest/files/model/bilibili-live/33/index.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2016.xmas.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.cba-normal.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.newyear.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.school.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.1.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.summer.normal.2.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.high.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.tomo-bukatsu.low.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.valley.json","https://summerscar.me/live2dDemo/assets/33.default/model.2017.vdays.json","https://summerscar.me/live2dDemo/assets/33.default/model.2018.lover.json","https://summerscar.me/live2dDemo/assets/33.defaultmodel.2018.spring.json"]}},iC={mouseover:[{selector:"#live2d-canvas",text:["干嘛呢你，快把手拿开～～","鼠…鼠标放错地方了！","你要干嘛呀？","喵喵喵？","怕怕(ノ≧∇≦)ノ","非礼呀！救命！","这样的话，只能使用武力了！","我要生气了哦","不要动手动脚的！","真…真的是不知羞耻！","Hentai！"]},{selector:"#live2d-tool-hitokoto",text:["猜猜我要说些什么？","我从青蛙王子那里听到了不少人生经验。"]},{selector:"#live2d-tool-asteroids",text:["要不要来玩飞机大战？","这个按钮上写着「不要点击」。","怎么，你想来和我玩个游戏？","听说这样可以蹦迪！"]},{selector:"#live2d-tool-switch-model",text:["你是不是不爱人家了呀，呜呜呜～","要见见我的姐姐嘛？","想要看我妹妹嘛？","要切换看板娘吗？"]},{selector:"#live2d-tool-switch-texture",text:["喜欢换装 PLAY 吗？","这次要扮演什么呢？","变装！","让我们看看接下来会发生什么！"]},{selector:"#live2d-tool-photo",text:["你要给我拍照呀？一二三～茄子～","要不，我们来合影吧！","保持微笑就好了～"]},{selector:"#live2d-tool-info",text:["想要知道更多关于我的事么？","这里记录着我搬家的历史呢。","你想深入了解我什么呢？"]},{selector:"#live2d-tool-quit",text:["到了要说再见的时候了吗？","呜呜 QAQ 后会有期……","不要抛弃我呀……","我们，还能再见面吗……","哼，你会后悔的！"]},{selector:".menu-item-home a",text:["点击前往首页，想回到上一页可以使用浏览器的后退功能哦。","点它就可以回到首页啦！","回首页看看吧。"]},{selector:".menu-item-about a",text:["你想知道我家主人是谁吗？","这里有一些关于我家主人的秘密哦，要不要看看呢？","发现主人出没地点！"]},{selector:".menu-item-tags a",text:["点击就可以看文章的标签啦！","点击来查看所有标签哦。"]},{selector:".menu-item-categories a",text:["文章都分类好啦～","点击来查看文章分类哦。"]},{selector:".menu-item-archives a",text:["翻页比较麻烦吗，那就来看看文章归档吧。","文章目录都整理在这里啦！"]},{selector:".menu-item-friends a",text:["这是我的朋友们哦ヾ(◍°∇°◍)ﾉﾞ","要去大佬们的家看看吗？","要去拜访一下我的朋友们吗？"]},{selector:".menu-item-search a",text:["找不到想看的内容？搜索看看吧！","在找什么东西呢，需要帮忙吗？"]},{selector:".menu-item a",text:["快看看这里都有什么呢？"]},{selector:".site-author",text:["我家主人好看吗？","这是我家主人(*´∇｀*)"]},{selector:".site-state",text:["这是文章的统计信息～","要不要点进去看看？"]},{selector:".feed-link a",text:["这里可以使用 RSS 订阅呢！","利用 feed 订阅器，就能快速知道博客有没有更新了呢。"]},{selector:".cc-opacity, .post-copyright-author",text:["要记得规范转载哦。","所有文章均采用 CC BY-NC-SA 4.0 许可协议～","转载前要先注意下文章的版权协议呢。"]},{selector:".links-of-author",text:["这里是主人的常驻地址哦。","这里有主人的联系方式！"]},{selector:".followme",text:["手机扫一下就能继续看，很方便呢～","扫一扫，打开新世界的大门！"]},{selector:".fancybox img, img.medium-zoom-image",text:["点击图片可以放大呢！"]},{selector:".copy-btn",text:["代码可以直接点击复制哟。"]},{selector:".highlight .table-container, .gist",text:["GitHub！我是新手！","PHP 是最好的语言！"]},{selector:"a[href^='mailto']",text:["邮件我会及时回复的！","点击就可以发送邮件啦～"]},{selector:"a[href^='/tags/']",text:["要去看看 <span>{text}</span> 标签么？","点它可以查看此标签下的所有文章哟！"]},{selector:"a[href^='/categories/']",text:["要去看看 <span>{text}</span> 分类么？","点它可以查看此分类下的所有文章哟！"]},{selector:".post-title-link",text:["要看看 <span>{text}</span> 这篇文章吗？"]},{selector:"a[rel='contents']",text:["点击来阅读全文哦。"]},{selector:"a[itemprop='discussionUrl']",text:["要去看看评论吗？"]},{selector:".beian a",text:["我也是有户口的人哦。","我的主人可是遵纪守法的好主人。"]},{selector:".container a[href^='http'], .nav-link .nav-text",text:["要去看看 <span>{text}</span> 么？","去 <span>{text}</span> 逛逛吧。","到 <span>{text}</span> 看看吧。"]},{selector:".back-to-top",text:["点它就可以回到顶部啦！","又回到最初的起点～","要回到开始的地方么？"]},{selector:".reward-container",text:["我是不是棒棒哒～快给我点赞吧！","要打赏我嘛？好期待啊～","主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"]},{selector:"#wechat",text:["这是我的微信二维码～"]},{selector:"#alipay",text:["这是我的支付宝哦！"]},{selector:"#bitcoin",text:["这是我的比特币账号！"]},{selector:"#needsharebutton-postbottom .btn",text:["好东西要让更多人知道才行哦。","觉得文章有帮助的话，可以分享给更多需要的朋友呢。"]},{selector:".need-share-button_weibo",text:["微博？来分享一波喵！"]},{selector:".need-share-button_wechat",text:["分享到微信吧！"]},{selector:".need-share-button_douban",text:["分享到豆瓣好像也不错！"]},{selector:".need-share-button_qqzone",text:["QQ 空间，一键转发，耶～"]},{selector:".need-share-button_twitter",text:["Twitter？好像是不存在的东西？"]},{selector:".need-share-button_facebook",text:["emmm…FB 好像也是不存在的东西？"]},{selector:".post-nav-item a[rel='next']",text:["来看看下一篇文章吧。","点它可以看下一篇文章哦！","要翻到下一篇文章吗？"]},{selector:".post-nav-item a[rel='prev']",text:["来看看上一篇文章吧。","点它可以看上一篇文章哦！","要翻到上一篇文章吗？"]},{selector:".extend.next",text:["去下一页看看吧。","点它可以前进哦！","要翻到下一页吗？"]},{selector:".extend.prev",text:["去上一页看看吧。","点它可以后退哦！","要翻到上一页吗？"]},{selector:"input.vnick",text:["该怎么称呼你呢？","留下你的尊姓大名！"]},{selector:".vmail",text:["留下你的邮箱，不然就是无头像人士了！","记得设置好 Gravatar 头像哦！","为了方便通知你最新消息，一定要留下邮箱！"]},{selector:".vlink",text:["快快告诉我你的家在哪里，好让我去参观参观！"]},{selector:".veditor",text:["想要去评论些什么吗？","要说点什么吗？","觉得博客不错？快来留言和主人交流吧！"]},{selector:".vcontrol a",text:["你会不会熟练使用 Markdown 呀？","使用 Markdown 让评论更美观吧～"]},{selector:".vemoji-btn",text:["要插入一个萌萌哒的表情吗？","要来一发表情吗？"]},{selector:".vpreview-btn",text:["要预览一下你的发言吗？","快看看你的评论有多少负熵！"]},{selector:".vsubmit",text:["评论没有审核，要对自己的发言负责哦～","要提交了吗，请耐心等待回复哦～"]},{selector:".vcontent",text:["哇，快看看这个精彩评论！","如果有疑问，请尽快留言哦～"]}],click:[{selector:"#live2d",text:["是…是不小心碰到了吧…","萝莉控是什么呀？","你看到我的小熊了吗？","再摸的话我可要报警了！⌇●﹏●⌇","110 吗，这里有个变态一直在摸我(ó﹏ò｡)","不要摸我了，我会告诉老婆来打你的！","干嘛动我呀！小心我咬你！","别摸我，有什么好摸的！"]},{selector:".veditor",text:["要吐槽些什么呢？","一定要认真填写喵～","有什么想说的吗？"]},{selector:".vsubmit",text:["输入验证码就可以提交评论啦～"]}],seasons:[{date:"01/01",text:"<span>元旦</span>了呢，新的一年又开始了，今年是{year}年～"},{date:"02/14",text:"又是一年<span>情人节</span>，{year}年找到对象了嘛～"},{date:"03/08",text:"今天是<span>国际妇女节</span>！"},{date:"03/12",text:"今天是<span>植树节</span>，要保护环境呀！"},{date:"04/01",text:"悄悄告诉你一个秘密～<span>今天是愚人节，不要被骗了哦～</span>"},{date:"05/01",text:"今天是<span>五一劳动节</span>，计划好假期去哪里了吗～"},{date:"06/01",text:"<span>儿童节</span>了呢，快活的时光总是短暂，要是永远长不大该多好啊…"},{date:"09/03",text:"<span>中国人民抗日战争胜利纪念日</span>，铭记历史、缅怀先烈、珍爱和平、开创未来。"},{date:"09/10",text:"<span>教师节</span>，在学校要给老师问声好呀～"},{date:"10/01",text:"<span>国庆节</span>到了，为祖国母亲庆生！"},{date:"11/05-11/12",text:"今年的<span>双十一</span>是和谁一起过的呢～"},{date:"12/20-12/31",text:"这几天是<span>圣诞节</span>，主人肯定又去剁手买买买了～"}],time:[{hour:"6-7",text:"早上好！一日之计在于晨，美好的一天就要开始了～"},{hour:"8-11",text:"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！"},{hour:"12-13",text:"中午了，工作了一个上午，现在是午餐时间！"},{hour:"14-17",text:"午后很容易犯困呢，今天的运动目标完成了吗？"},{hour:"18-19",text:"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红～"},{hour:"20-21",text:"晚上好，今天过得怎么样？"},{hour:"22-23",text:["已经这么晚了呀，早点休息吧，晚安～","深夜时要爱护眼睛呀！"]},{hour:"0-5",text:"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？"}],message:{default:["好久不见，日子过得好快呢……","大坏蛋！你都多久没理人家了呀，嘤嘤嘤～","嗨～快来逗我玩吧！","拿小拳拳锤你胸口！","记得把小家加入收藏夹哦！"],console:"哈哈，你打开了控制台，是想要看看我的小秘密吗？",copy:"你都复制了些什么呀，转载要记得加上出处哦！",visibilitychange:"哇，你终于回来了～",clothes:["我还没有其他衣服呢！"]},tool:{camera:["照好了嘛，是不是很可爱呢？"],display:["愿你有一天能与重要的人重逢"]}},Ma=Ee();async function nC(){try{const{default:r}=await nt(async()=>{const{default:t}=await import("https://fastly.jsdelivr.net/gh/stevenjoezhang/asteroids/asteroids.js");return{default:t}},[]),e=new r;window.ASTEROIDSPLAYERS=window.ASTEROIDSPLAYERS||[],window.ASTEROIDSPLAYERS.push(e)}catch(r){console.error("Failed to load Asteroids:",r)}}async function oC(){const r=Ol(),{showMessage:e}=r.live2dTipsHandler,t=r.live2dOptions.value.live2dTips.tool.camera;e(t,6e3,9);const s=document.getElementById("live2d-canvas");if(!s)return;await new Promise(a=>requestAnimationFrame(a));const i=await new Promise(a=>{s.toBlob(a,"image/png",1)});if(!i)return;const n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download="live2d-photo.png",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)}async function aC(){const r=Ol(),{showMessage:e}=r.live2dTipsHandler;if(!Ma.value){e('请先安装 <a href="https://github.com/valaxyjs/valaxy-addon-hitokoto" target="_blank">valaxy-addon-hitokoto</a> 才能使用一言哦~',5e3,10),console.warn("Please install valaxy-addon-hitokoto");return}const{creator:t,hitokoto:s}=jx(Ma.value.hitokoto);await Ma.value.fetchHitokoto(),e(`${s} - ${t}投稿`,6e3,10)}const lC={widthLimit:250,safetyMargin:50,randomCharacter:!1,randomSkin:!1,skipHello:!1,hideOnScreenSizes:640,debugger:!1,defaultVisibility:!0,cookieExpires:7,tools:{quit:{id:"live2d-tool-quit",action:"toggleVisibility",visible:!0,normal:{label:"Hide",bgColor:"#9c27b0"},hidden:{label:"Show",bgColor:"#4caf50"}},"switch-model":{id:"live2d-tool-switch-model",action:"switchCharacter",visible:!0,normal:{label:"Char",bgColor:"#673ab7"}},"switch-texture":{id:"live2d-tool-switch-texture",action:"switchSkin",visible:!0,normal:{label:"Skin",bgColor:"#009688"}},photo:{id:"live2d-tool-photo",action:oC,visible:!0,normal:{label:"Cap",bgColor:"#ff9800"}},hitokoto:{id:"live2d-hitokoto",action:"showHitokoto",visible:!1,normal:{label:"Hitokoto",bgColor:"#4caf50"}},asteroids:{id:"live2d-asteroids",action:nC,visible:!1,normal:{label:"Asteroids",bgColor:"#9c27b0"}},info:{id:"info",action:()=>{open("https://github.com/valaxyjs/valaxy-addon-live2d")},visible:!0,normal:{label:"Info",bgColor:"#2196f3"}}}};function cC(r,e){const t={...r};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]?Array.isArray(t[s])&&Array.isArray(e[s])?t[s]=[...t[s],...e[s]]:t[s]=[t[s],e[s]]:t[s]=e[s]);return t}function uC(r,e){return Array.isArray(r)?r.reduce((t,s)=>(s in e&&(t[s]=e[s]),t),{}):{}}function E_(){const r=$d();return K(()=>{const{options:e}=r.value.addons["valaxy-addon-live2d"],t=e?.enableLive2D??"all",s={...sC,...e?.live2DCollection},i=t==="all"?s:uC(t,s),n=cC(iC,e?.live2dTips||{});return{...Py(e,lC),live2DCollection:i,enableLive2D:t,live2dTips:n}})}const Ol=zx(()=>{const r=E_(),{randomCharacter:e,randomSkin:t,live2DCollection:s,live2dTips:i,hideOnScreenSizes:n,defaultVisibility:o,cookieExpires:a}=r.value,{width:l}=Hx(),c=Ee(),u=Ee(!1),h=new JE(i);async function d(){if(await nt(()=>import("./index.Da8oqOFy.js"),__vite__mapDeps([52,3,5,2,6,7,8,9,11])),c.value=(await nt(async()=>{const{Live2DApp:M}=await import("./Live2DApp.BT8YPmOd.js");return{Live2DApp:M}},__vite__mapDeps([53,3,5,2,6,7,8,9,11]))).Live2DApp,n!==!1){const M=typeof n=="string"?Number.parseInt(n):n;Ze(l,P=>{P<=M?L():x()},{immediate:!0})}const k=tC("live2d");({Show:x,Hide:L,default:o?x:L})[k||"default"](),h.init(),c.value.init(r.value,h),c.value.loadModel((await Ho(s)).selectedModel)}async function f(k=e){c.value?.switchModel(k?await m():await g())}async function p(k=t){c.value?.switchModel(k?await y():await v()),h.showMessage("我的新衣服好看嘛？",4e3,10)}function m(){const k=Object.keys(s),O=k[Math.floor(Math.random()*k.length)];return Ji(O,0),h.showMessage(s[O].message,4e3,10),s[O].models[0]}async function g(){const{currentCharacterKey:k}=await Ho(s),O=Object.keys(s),M=O[(O.indexOf(k)+1)%O.length],P=s[M].models;return Ji(M,0),h.showMessage(s[M].message,4e3,10),typeof P=="string"?await La(P,0):P[0]}async function y(){const{currentCharacterKey:k}=await Ho(s),O=s[k],M=Math.floor(Math.random()*O.models.length);return Ji(null,M),O.models.length===0&&h.showMessage(i.message.clothes,4e3,10),typeof O.models=="string"?await La(O.models,M):O.models[M]}async function v(){const{currentCharacterKey:k,currentSkinIndex:O}=await Ho(s),M=s[k],P=B=>(O+1)%B;if(typeof M.models=="string"){const B=await w_(T_(M.models)),R=P(B.length);return La(M.models,R)}else{if(M.models.length===0)return h.showMessage(i.message.clothes,4e3,10),M.models[0];const B=P(M.models.length);return Ji(null,B),M.models[B]}}function _(){c.value?.captureFrame()}const{start:T,stop:b}=Gx(()=>c.value?.hideModel(),2e3,{immediate:!1});function L(){u.value=!0,eC();const k=document.getElementById("live2d");h.showMessage(i.tool.display,2e3,11),k.style.bottom="-100%",b(),T(),setTimeout(()=>{vp("live2d","Hide",a)},0)}function x(){u.value=!1,QE();const k=document.getElementById("live2d");k.style.bottom="0px",b(),c.value?.showModel(),setTimeout(()=>{k.style.display="",vp("live2d","Show",a)},0)}const I=()=>u.value?x():L();return Tn(()=>{c.value&&(c.value.destroyModel(),c.value=void 0)}),Tl&&d(),{live2DApp:c,live2dOptions:r,switchCharacter:f,switchSkin:p,getRandomCharacter:m,getSequentialCharacter:g,getRandomSkin:y,getSequentialSkin:v,captureFrame:_,hideLive2D:L,showLive2D:x,toggleLive2DVisibility:I,isLive2DHide:u,live2dTipsHandler:h}}),hC=["id","onClick"],dC=ge({__name:"Live2DToolbar",setup(r){const e=E_(),{switchCharacter:t,switchSkin:s,captureFrame:i,toggleLive2DVisibility:n,isLive2DHide:o}=Ol();function a(c){if(typeof c=="function"){c();return}switch(c){case"switchCharacter":t();break;case"switchSkin":s();break;case"captureFrame":i();break;case"toggleVisibility":n();break;case"showHitokoto":aC();break}}function l(c){return c.action==="toggleVisibility"?o.value?{...c.normal,...c.hidden}:c.normal:c.normal||{}}return(c,u)=>(z(),Y("div",{id:"live2d-tools",class:He(j(o)?"hide":"show")},[(z(!0),Y(et,null,Vs(Object.values(j(e).tools).filter(h=>h.visible!==!1),(h,d)=>(z(),Y("span",{id:h.id,key:d,class:He(["live2d-tool",{"hide-live2d":h.action==="toggleVisibility"}]),style:as(`--live2d-tool-bg: ${l(h)?.bgColor||"#666"}`),onClick:f=>a(h.action)},Ie(l(h)?.label),15,hC))),128))],2))}}),fC=Vr(dC,[["__scopeId","data-v-6ef018f6"]]),pC={},mC={id:"live2d"};function gC(r,e){return z(),Y("div",mC,[...e[0]||(e[0]=[X("div",{id:"live2d-tips"},null,-1),X("canvas",{id:"live2d-canvas"},null,-1)])])}const yC=Vr(pC,[["render",gC],["__scopeId","data-v-35ff1fd6"]]);var Li=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(Li||{}),C_=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(C_||{}),xh=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(xh||{}),_e=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(_e||{}),Or=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(Or||{}),q=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(q||{}),rn=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(rn||{}),ye=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(ye||{}),oe=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(oe||{}),rs=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(rs||{}),Bs=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(Bs||{}),Hr=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(Hr||{}),$t=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))($t||{}),Mr=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(Mr||{}),ef=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(ef||{}),tr=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(tr||{}),dt=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(dt||{}),ct=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(ct||{}),Nr=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(Nr||{});const vC={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},ae={ADAPTER:vC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var vc=/iPhone/i,_p=/iPod/i,bp=/iPad/i,xp=/\biOS-universal(?:.+)Mac\b/i,_c=/\bAndroid(?:.+)Mobile\b/i,Tp=/Android/i,$i=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Go=/Silk/i,Zr=/Windows Phone/i,wp=/\bWindows(?:.+)ARM\b/i,Ap=/BlackBerry/i,Sp=/BB10/i,Ep=/Opera Mini/i,Cp=/\b(CriOS|Chrome)(?:.+)Mobile/i,Pp=/Mobile(?:.+)Firefox\b/i,Rp=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function _C(r){return function(e){return e.test(r)}}function Ip(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,s=t.split("[FBAN");typeof s[1]<"u"&&(t=s[0]),s=t.split("Twitter"),typeof s[1]<"u"&&(t=s[0]);var i=_C(t),n={apple:{phone:i(vc)&&!i(Zr),ipod:i(_p),tablet:!i(vc)&&(i(bp)||Rp(e))&&!i(Zr),universal:i(xp),device:(i(vc)||i(_p)||i(bp)||i(xp)||Rp(e))&&!i(Zr)},amazon:{phone:i($i),tablet:!i($i)&&i(Go),device:i($i)||i(Go)},android:{phone:!i(Zr)&&i($i)||!i(Zr)&&i(_c),tablet:!i(Zr)&&!i($i)&&!i(_c)&&(i(Go)||i(Tp)),device:!i(Zr)&&(i($i)||i(Go)||i(_c)||i(Tp))||i(/\bokhttp\b/i)},windows:{phone:i(Zr),tablet:i(wp),device:i(Zr)||i(wp)},other:{blackberry:i(Ap),blackberry10:i(Sp),opera:i(Ep),firefox:i(Pp),chrome:i(Cp),device:i(Ap)||i(Sp)||i(Ep)||i(Pp)||i(Cp)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}const bC=Ip.default??Ip,ss=bC(globalThis.navigator);ae.RETINA_PREFIX=/@([0-9\.]+)x/;ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var bc={exports:{}},kp;function xC(){return kp||(kp=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function n(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||l,d),p=t?t+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,p){var m=t?t+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,v,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,d),!0;case 5:return g.fn.call(g.context,u,h,d,f),!0;case 6:return g.fn.call(g.context,u,h,d,f,p),!0}for(_=1,v=new Array(y-1);_<y;_++)v[_-1]=arguments[_];g.fn.apply(g.context,v)}else{var T=g.length,b;for(_=0;_<T;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),y){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,h);break;case 4:g[_].fn.call(g[_].context,u,h,d);break;default:if(!v)for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];g[_].fn.apply(g[_].context,v)}}return!0},a.prototype.on=function(c,u,h){return n(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return n(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],y=p.length;m<y;m++)(p[m].fn!==u||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(bc)),bc.exports}var TC=xC();const ko=Sd(TC);var Vo={exports:{}},Lp;function wC(){if(Lp)return Vo.exports;Lp=1,Vo.exports=r,Vo.exports.default=r;function r(A,S,w){w=w||2;var C=S&&S.length,E=C?S[0]*w:A.length,D=e(A,0,E,w,!0),$=[];if(!D||D.next===D.prev)return $;var N,H,V,Z,te,ie,re;if(C&&(D=l(A,S,D,w)),A.length>80*w){N=V=A[0],H=Z=A[1];for(var W=w;W<E;W+=w)te=A[W],ie=A[W+1],te<N&&(N=te),ie<H&&(H=ie),te>V&&(V=te),ie>Z&&(Z=ie);re=Math.max(V-N,Z-H),re=re!==0?32767/re:0}return s(D,$,w,N,H,re,0),$}function e(A,S,w,C,E){var D,$;if(E===G(A,S,w,C)>0)for(D=S;D<w;D+=C)$=P(D,A[D],A[D+1],$);else for(D=w-C;D>=S;D-=C)$=P(D,A[D],A[D+1],$);return $&&T($,$.next)&&(B($),$=$.next),$}function t(A,S){if(!A)return A;S||(S=A);var w=A,C;do if(C=!1,!w.steiner&&(T(w,w.next)||_(w.prev,w,w.next)===0)){if(B(w),w=S=w.prev,w===w.next)break;C=!0}else w=w.next;while(C||w!==S);return S}function s(A,S,w,C,E,D,$){if(A){!$&&D&&f(A,C,E,D);for(var N=A,H,V;A.prev!==A.next;){if(H=A.prev,V=A.next,D?n(A,C,E,D):i(A)){S.push(H.i/w|0),S.push(A.i/w|0),S.push(V.i/w|0),B(A),A=V.next,N=V.next;continue}if(A=V,A===N){$?$===1?(A=o(t(A),S,w),s(A,S,w,C,E,D,2)):$===2&&a(A,S,w,C,E,D):s(t(A),S,w,C,E,D,1);break}}}}function i(A){var S=A.prev,w=A,C=A.next;if(_(S,w,C)>=0)return!1;for(var E=S.x,D=w.x,$=C.x,N=S.y,H=w.y,V=C.y,Z=E<D?E<$?E:$:D<$?D:$,te=N<H?N<V?N:V:H<V?H:V,ie=E>D?E>$?E:$:D>$?D:$,re=N>H?N>V?N:V:H>V?H:V,W=C.next;W!==S;){if(W.x>=Z&&W.x<=ie&&W.y>=te&&W.y<=re&&y(E,N,D,H,$,V,W.x,W.y)&&_(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function n(A,S,w,C){var E=A.prev,D=A,$=A.next;if(_(E,D,$)>=0)return!1;for(var N=E.x,H=D.x,V=$.x,Z=E.y,te=D.y,ie=$.y,re=N<H?N<V?N:V:H<V?H:V,W=Z<te?Z<ie?Z:ie:te<ie?te:ie,se=N>H?N>V?N:V:H>V?H:V,ne=Z>te?Z>ie?Z:ie:te>ie?te:ie,le=m(re,W,S,w,C),ve=m(se,ne,S,w,C),Q=A.prevZ,J=A.nextZ;Q&&Q.z>=le&&J&&J.z<=ve;){if(Q.x>=re&&Q.x<=se&&Q.y>=W&&Q.y<=ne&&Q!==E&&Q!==$&&y(N,Z,H,te,V,ie,Q.x,Q.y)&&_(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,J.x>=re&&J.x<=se&&J.y>=W&&J.y<=ne&&J!==E&&J!==$&&y(N,Z,H,te,V,ie,J.x,J.y)&&_(J.prev,J,J.next)>=0))return!1;J=J.nextZ}for(;Q&&Q.z>=le;){if(Q.x>=re&&Q.x<=se&&Q.y>=W&&Q.y<=ne&&Q!==E&&Q!==$&&y(N,Z,H,te,V,ie,Q.x,Q.y)&&_(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;J&&J.z<=ve;){if(J.x>=re&&J.x<=se&&J.y>=W&&J.y<=ne&&J!==E&&J!==$&&y(N,Z,H,te,V,ie,J.x,J.y)&&_(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function o(A,S,w){var C=A;do{var E=C.prev,D=C.next.next;!T(E,D)&&b(E,C,C.next,D)&&k(E,D)&&k(D,E)&&(S.push(E.i/w|0),S.push(C.i/w|0),S.push(D.i/w|0),B(C),B(C.next),C=A=D),C=C.next}while(C!==A);return t(C)}function a(A,S,w,C,E,D){var $=A;do{for(var N=$.next.next;N!==$.prev;){if($.i!==N.i&&v($,N)){var H=M($,N);$=t($,$.next),H=t(H,H.next),s($,S,w,C,E,D,0),s(H,S,w,C,E,D,0);return}N=N.next}$=$.next}while($!==A)}function l(A,S,w,C){var E=[],D,$,N,H,V;for(D=0,$=S.length;D<$;D++)N=S[D]*C,H=D<$-1?S[D+1]*C:A.length,V=e(A,N,H,C,!1),V===V.next&&(V.steiner=!0),E.push(g(V));for(E.sort(c),D=0;D<E.length;D++)w=u(E[D],w);return w}function c(A,S){return A.x-S.x}function u(A,S){var w=h(A,S);if(!w)return S;var C=M(w,A);return t(C,C.next),t(w,w.next)}function h(A,S){var w=S,C=A.x,E=A.y,D=-1/0,$;do{if(E<=w.y&&E>=w.next.y&&w.next.y!==w.y){var N=w.x+(E-w.y)*(w.next.x-w.x)/(w.next.y-w.y);if(N<=C&&N>D&&(D=N,$=w.x<w.next.x?w:w.next,N===C))return $}w=w.next}while(w!==S);if(!$)return null;var H=$,V=$.x,Z=$.y,te=1/0,ie;w=$;do C>=w.x&&w.x>=V&&C!==w.x&&y(E<Z?C:D,E,V,Z,E<Z?D:C,E,w.x,w.y)&&(ie=Math.abs(E-w.y)/(C-w.x),k(w,A)&&(ie<te||ie===te&&(w.x>$.x||w.x===$.x&&d($,w)))&&($=w,te=ie)),w=w.next;while(w!==H);return $}function d(A,S){return _(A.prev,A,S.prev)<0&&_(S.next,A,A.next)<0}function f(A,S,w,C){var E=A;do E.z===0&&(E.z=m(E.x,E.y,S,w,C)),E.prevZ=E.prev,E.nextZ=E.next,E=E.next;while(E!==A);E.prevZ.nextZ=null,E.prevZ=null,p(E)}function p(A){var S,w,C,E,D,$,N,H,V=1;do{for(w=A,A=null,D=null,$=0;w;){for($++,C=w,N=0,S=0;S<V&&(N++,C=C.nextZ,!!C);S++);for(H=V;N>0||H>0&&C;)N!==0&&(H===0||!C||w.z<=C.z)?(E=w,w=w.nextZ,N--):(E=C,C=C.nextZ,H--),D?D.nextZ=E:A=E,E.prevZ=D,D=E;w=C}D.nextZ=null,V*=2}while($>1);return A}function m(A,S,w,C,E){return A=(A-w)*E|0,S=(S-C)*E|0,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,A|S<<1}function g(A){var S=A,w=A;do(S.x<w.x||S.x===w.x&&S.y<w.y)&&(w=S),S=S.next;while(S!==A);return w}function y(A,S,w,C,E,D,$,N){return(E-$)*(S-N)>=(A-$)*(D-N)&&(A-$)*(C-N)>=(w-$)*(S-N)&&(w-$)*(D-N)>=(E-$)*(C-N)}function v(A,S){return A.next.i!==S.i&&A.prev.i!==S.i&&!I(A,S)&&(k(A,S)&&k(S,A)&&O(A,S)&&(_(A.prev,A,S.prev)||_(A,S.prev,S))||T(A,S)&&_(A.prev,A,A.next)>0&&_(S.prev,S,S.next)>0)}function _(A,S,w){return(S.y-A.y)*(w.x-S.x)-(S.x-A.x)*(w.y-S.y)}function T(A,S){return A.x===S.x&&A.y===S.y}function b(A,S,w,C){var E=x(_(A,S,w)),D=x(_(A,S,C)),$=x(_(w,C,A)),N=x(_(w,C,S));return!!(E!==D&&$!==N||E===0&&L(A,w,S)||D===0&&L(A,C,S)||$===0&&L(w,A,C)||N===0&&L(w,S,C))}function L(A,S,w){return S.x<=Math.max(A.x,w.x)&&S.x>=Math.min(A.x,w.x)&&S.y<=Math.max(A.y,w.y)&&S.y>=Math.min(A.y,w.y)}function x(A){return A>0?1:A<0?-1:0}function I(A,S){var w=A;do{if(w.i!==A.i&&w.next.i!==A.i&&w.i!==S.i&&w.next.i!==S.i&&b(w,w.next,A,S))return!0;w=w.next}while(w!==A);return!1}function k(A,S){return _(A.prev,A,A.next)<0?_(A,S,A.next)>=0&&_(A,A.prev,S)>=0:_(A,S,A.prev)<0||_(A,A.next,S)<0}function O(A,S){var w=A,C=!1,E=(A.x+S.x)/2,D=(A.y+S.y)/2;do w.y>D!=w.next.y>D&&w.next.y!==w.y&&E<(w.next.x-w.x)*(D-w.y)/(w.next.y-w.y)+w.x&&(C=!C),w=w.next;while(w!==A);return C}function M(A,S){var w=new R(A.i,A.x,A.y),C=new R(S.i,S.x,S.y),E=A.next,D=S.prev;return A.next=S,S.prev=A,w.next=E,E.prev=w,C.next=w,w.prev=C,D.next=C,C.prev=D,C}function P(A,S,w,C){var E=new R(A,S,w);return C?(E.next=C.next,E.prev=C,C.next.prev=E,C.next=E):(E.prev=E,E.next=E),E}function B(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function R(A,S,w){this.i=A,this.x=S,this.y=w,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(A,S,w,C){var E=S&&S.length,D=E?S[0]*w:A.length,$=Math.abs(G(A,0,D,w));if(E)for(var N=0,H=S.length;N<H;N++){var V=S[N]*w,Z=N<H-1?S[N+1]*w:A.length;$-=Math.abs(G(A,V,Z,w))}var te=0;for(N=0;N<C.length;N+=3){var ie=C[N]*w,re=C[N+1]*w,W=C[N+2]*w;te+=Math.abs((A[ie]-A[W])*(A[re+1]-A[ie+1])-(A[ie]-A[re])*(A[W+1]-A[ie+1]))}return $===0&&te===0?0:Math.abs((te-$)/$)};function G(A,S,w,C){for(var E=0,D=S,$=w-C;D<w;D+=C)E+=(A[$]-A[D])*(A[D+1]+A[$+1]),$=D;return E}return r.flatten=function(A){for(var S=A[0][0].length,w={vertices:[],holes:[],dimensions:S},C=0,E=0;E<A.length;E++){for(var D=0;D<A[E].length;D++)for(var $=0;$<S;$++)w.vertices.push(A[E][D][$]);E>0&&(C+=A[E-1].length,w.holes.push(C))}return w},Vo.exports}var AC=wC();const SC=Sd(AC);var ei={},Hn={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var EC=Hn.exports,Mp;function CC(){return Mp||(Mp=1,(function(r,e){(function(t){var s=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,n=typeof Xa=="object"&&Xa;(n.global===n||n.window===n||n.self===n)&&(t=n);var o,a=2147483647,l=36,c=1,u=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-c,b=Math.floor,L=String.fromCharCode,x;function I(E){throw new RangeError(_[E])}function k(E,D){for(var $=E.length,N=[];$--;)N[$]=D(E[$]);return N}function O(E,D){var $=E.split("@"),N="";$.length>1&&(N=$[0]+"@",E=$[1]),E=E.replace(v,".");var H=E.split("."),V=k(H,D).join(".");return N+V}function M(E){for(var D=[],$=0,N=E.length,H,V;$<N;)H=E.charCodeAt($++),H>=55296&&H<=56319&&$<N?(V=E.charCodeAt($++),(V&64512)==56320?D.push(((H&1023)<<10)+(V&1023)+65536):(D.push(H),$--)):D.push(H);return D}function P(E){return k(E,function(D){var $="";return D>65535&&(D-=65536,$+=L(D>>>10&1023|55296),D=56320|D&1023),$+=L(D),$}).join("")}function B(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:l}function R(E,D){return E+22+75*(E<26)-((D!=0)<<5)}function G(E,D,$){var N=0;for(E=$?b(E/d):E>>1,E+=b(E/D);E>T*u>>1;N+=l)E=b(E/T);return b(N+(T+1)*E/(E+h))}function A(E){var D=[],$=E.length,N,H=0,V=p,Z=f,te,ie,re,W,se,ne,le,ve,Q;for(te=E.lastIndexOf(m),te<0&&(te=0),ie=0;ie<te;++ie)E.charCodeAt(ie)>=128&&I("not-basic"),D.push(E.charCodeAt(ie));for(re=te>0?te+1:0;re<$;){for(W=H,se=1,ne=l;re>=$&&I("invalid-input"),le=B(E.charCodeAt(re++)),(le>=l||le>b((a-H)/se))&&I("overflow"),H+=le*se,ve=ne<=Z?c:ne>=Z+u?u:ne-Z,!(le<ve);ne+=l)Q=l-ve,se>b(a/Q)&&I("overflow"),se*=Q;N=D.length+1,Z=G(H-W,N,W==0),b(H/N)>a-V&&I("overflow"),V+=b(H/N),H%=N,D.splice(H++,0,V)}return P(D)}function S(E){var D,$,N,H,V,Z,te,ie,re,W,se,ne=[],le,ve,Q,J;for(E=M(E),le=E.length,D=p,$=0,V=f,Z=0;Z<le;++Z)se=E[Z],se<128&&ne.push(L(se));for(N=H=ne.length,H&&ne.push(m);N<le;){for(te=a,Z=0;Z<le;++Z)se=E[Z],se>=D&&se<te&&(te=se);for(ve=N+1,te-D>b((a-$)/ve)&&I("overflow"),$+=(te-D)*ve,D=te,Z=0;Z<le;++Z)if(se=E[Z],se<D&&++$>a&&I("overflow"),se==D){for(ie=$,re=l;W=re<=V?c:re>=V+u?u:re-V,!(ie<W);re+=l)J=ie-W,Q=l-W,ne.push(L(R(W+J%Q,0))),ie=b(J/Q);ne.push(L(R(ie,0))),V=G($,ve,N==H),$=0,++N}++$,++D}return ne.join("")}function w(E){return O(E,function(D){return g.test(D)?A(D.slice(4).toLowerCase()):D})}function C(E){return O(E,function(D){return y.test(D)?"xn--"+S(D):D})}if(o={version:"1.4.1",ucs2:{decode:M,encode:P},decode:A,encode:S,toASCII:C,toUnicode:w},s&&i)if(r.exports==s)i.exports=o;else for(x in o)o.hasOwnProperty(x)&&(s[x]=o[x]);else t.punycode=o})(EC)})(Hn,Hn.exports)),Hn.exports}var xc,Dp;function En(){return Dp||(Dp=1,xc=TypeError),xc}const PC={},RC=Object.freeze(Object.defineProperty({__proto__:null,default:PC},Symbol.toStringTag,{value:"Module"})),IC=Kx(RC);var Tc,Op;function Bl(){if(Op)return Tc;Op=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,s=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&n&&typeof n.get=="function"?n.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,h=u?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,f=d?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,_=String.prototype.replace,T=String.prototype.toUpperCase,b=String.prototype.toLowerCase,L=RegExp.prototype.test,x=Array.prototype.concat,I=Array.prototype.join,k=Array.prototype.slice,O=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,R=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||!0)?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,S=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(F){return F.__proto__}:null);function w(F,U){if(F===1/0||F===-1/0||F!==F||F&&F>-1e3&&F<1e3||L.call(/e/,U))return U;var Oe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof F=="number"){var ze=F<0?-O(-F):O(F);if(ze!==F){var Ve=String(ze),Pe=v.call(U,Ve.length+1);return _.call(Ve,Oe,"$&_")+"."+_.call(_.call(Pe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(U,Oe,"$&_")}var C=IC,E=C.custom,D=ve(E)?E:null,$={__proto__:null,double:'"',single:"'"},N={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Tc=function F(U,Oe,ze,Ve){var Pe=Oe||{};if($e(Pe,"quoteStyle")&&!$e($,Pe.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($e(Pe,"maxStringLength")&&(typeof Pe.maxStringLength=="number"?Pe.maxStringLength<0&&Pe.maxStringLength!==1/0:Pe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var vs=$e(Pe,"customInspect")?Pe.customInspect:!0;if(typeof vs!="boolean"&&vs!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($e(Pe,"indent")&&Pe.indent!==null&&Pe.indent!=="	"&&!(parseInt(Pe.indent,10)===Pe.indent&&Pe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($e(Pe,"numericSeparator")&&typeof Pe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Js=Pe.numericSeparator;if(typeof U>"u")return"undefined";if(U===null)return"null";if(typeof U=="boolean")return U?"true":"false";if(typeof U=="string")return ys(U,Pe);if(typeof U=="number"){if(U===0)return 1/0/U>0?"0":"-0";var jt=String(U);return Js?w(U,jt):jt}if(typeof U=="bigint"){var _s=String(U)+"n";return Js?w(U,_s):_s}var Ql=typeof Pe.depth>"u"?5:Pe.depth;if(typeof ze>"u"&&(ze=0),ze>=Ql&&Ql>0&&typeof U=="object")return te(U)?"[Array]":"[Object]";var Fi=In(Pe,ze);if(typeof Ve>"u")Ve=[];else if(qe(Ve,U)>=0)return"[Circular]";function nr(Ni,Oo,hx){if(Oo&&(Ve=k.call(Ve),Ve.push(Oo)),hx){var Df={depth:Pe.depth};return $e(Pe,"quoteStyle")&&(Df.quoteStyle=Pe.quoteStyle),F(Ni,Df,ze+1,Ve)}return F(Ni,Pe,ze+1,Ve)}if(typeof U=="function"&&!re(U)){var Cf=wt(U),Pf=qr(U,nr);return"[Function"+(Cf?": "+Cf:" (anonymous)")+"]"+(Pf.length>0?" { "+I.call(Pf,", ")+" }":"")}if(ve(U)){var Rf=R?_.call(String(U),/^(Symbol\(.*\))_[^)]*$/,"$1"):B.call(U);return typeof U=="object"&&!R?Zs(Rf):Rf}if(gs(U)){for(var kn="<"+b.call(String(U.nodeName)),ec=U.attributes||[],Do=0;Do<ec.length;Do++)kn+=" "+ec[Do].name+"="+H(V(ec[Do].value),"double",Pe);return kn+=">",U.childNodes&&U.childNodes.length&&(kn+="..."),kn+="</"+b.call(String(U.nodeName))+">",kn}if(te(U)){if(U.length===0)return"[]";var tc=qr(U,nr);return Fi&&!Bt(tc)?"["+Bi(tc,Fi)+"]":"[ "+I.call(tc,", ")+" ]"}if(W(U)){var rc=qr(U,nr);return!("cause"in Error.prototype)&&"cause"in U&&!A.call(U,"cause")?"{ ["+String(U)+"] "+I.call(x.call("[cause]: "+nr(U.cause),rc),", ")+" }":rc.length===0?"["+String(U)+"]":"{ ["+String(U)+"] "+I.call(rc,", ")+" }"}if(typeof U=="object"&&vs){if(D&&typeof U[D]=="function"&&C)return C(U,{depth:Ql-ze});if(vs!=="symbol"&&typeof U.inspect=="function")return U.inspect()}if(at(U)){var If=[];return s&&s.call(U,function(Ni,Oo){If.push(nr(Oo,U,!0)+" => "+nr(Ni,U))}),Oi("Map",t.call(U),If,Fi)}if(ht(U)){var kf=[];return a&&a.call(U,function(Ni){kf.push(nr(Ni,U))}),Oi("Set",o.call(U),kf,Fi)}if(je(U))return Ks("WeakMap");if(Yr(U))return Ks("WeakSet");if(ut(U))return Ks("WeakRef");if(ne(U))return Zs(nr(Number(U)));if(Q(U))return Zs(nr(M.call(U)));if(le(U))return Zs(p.call(U));if(se(U))return Zs(nr(String(U)));if(typeof window<"u"&&U===window)return"{ [object Window] }";if(typeof globalThis<"u"&&U===globalThis||typeof Xa<"u"&&U===Xa)return"{ [object globalThis] }";if(!ie(U)&&!re(U)){var sc=qr(U,nr),Lf=S?S(U)===Object.prototype:U instanceof Object||U.constructor===Object,ic=U instanceof Object?"":"null prototype",Mf=!Lf&&G&&Object(U)===U&&G in U?v.call(Ue(U),8,-1):ic?"Object":"",ux=Lf||typeof U.constructor!="function"?"":U.constructor.name?U.constructor.name+" ":"",nc=ux+(Mf||ic?"["+I.call(x.call([],Mf||[],ic||[]),": ")+"] ":"");return sc.length===0?nc+"{}":Fi?nc+"{"+Bi(sc,Fi)+"}":nc+"{ "+I.call(sc,", ")+" }"}return String(U)};function H(F,U,Oe){var ze=Oe.quoteStyle||U,Ve=$[ze];return Ve+F+Ve}function V(F){return _.call(String(F),/"/g,"&quot;")}function Z(F){return!G||!(typeof F=="object"&&(G in F||typeof F[G]<"u"))}function te(F){return Ue(F)==="[object Array]"&&Z(F)}function ie(F){return Ue(F)==="[object Date]"&&Z(F)}function re(F){return Ue(F)==="[object RegExp]"&&Z(F)}function W(F){return Ue(F)==="[object Error]"&&Z(F)}function se(F){return Ue(F)==="[object String]"&&Z(F)}function ne(F){return Ue(F)==="[object Number]"&&Z(F)}function le(F){return Ue(F)==="[object Boolean]"&&Z(F)}function ve(F){if(R)return F&&typeof F=="object"&&F instanceof Symbol;if(typeof F=="symbol")return!0;if(!F||typeof F!="object"||!B)return!1;try{return B.call(F),!0}catch{}return!1}function Q(F){if(!F||typeof F!="object"||!M)return!1;try{return M.call(F),!0}catch{}return!1}var J=Object.prototype.hasOwnProperty||function(F){return F in this};function $e(F,U){return J.call(F,U)}function Ue(F){return m.call(F)}function wt(F){if(F.name)return F.name;var U=y.call(g.call(F),/^function\s*([\w$]+)/);return U?U[1]:null}function qe(F,U){if(F.indexOf)return F.indexOf(U);for(var Oe=0,ze=F.length;Oe<ze;Oe++)if(F[Oe]===U)return Oe;return-1}function at(F){if(!t||!F||typeof F!="object")return!1;try{t.call(F);try{o.call(F)}catch{return!0}return F instanceof Map}catch{}return!1}function je(F){if(!c||!F||typeof F!="object")return!1;try{c.call(F,c);try{h.call(F,h)}catch{return!0}return F instanceof WeakMap}catch{}return!1}function ut(F){if(!f||!F||typeof F!="object")return!1;try{return f.call(F),!0}catch{}return!1}function ht(F){if(!o||!F||typeof F!="object")return!1;try{o.call(F);try{t.call(F)}catch{return!0}return F instanceof Set}catch{}return!1}function Yr(F){if(!h||!F||typeof F!="object")return!1;try{h.call(F,h);try{c.call(F,c)}catch{return!0}return F instanceof WeakSet}catch{}return!1}function gs(F){return!F||typeof F!="object"?!1:typeof HTMLElement<"u"&&F instanceof HTMLElement?!0:typeof F.nodeName=="string"&&typeof F.getAttribute=="function"}function ys(F,U){if(F.length>U.maxStringLength){var Oe=F.length-U.maxStringLength,ze="... "+Oe+" more character"+(Oe>1?"s":"");return ys(v.call(F,0,U.maxStringLength),U)+ze}var Ve=N[U.quoteStyle||"single"];Ve.lastIndex=0;var Pe=_.call(_.call(F,Ve,"\\$1"),/[\x00-\x1f]/g,ir);return H(Pe,"single",U)}function ir(F){var U=F.charCodeAt(0),Oe={8:"b",9:"t",10:"n",12:"f",13:"r"}[U];return Oe?"\\"+Oe:"\\x"+(U<16?"0":"")+T.call(U.toString(16))}function Zs(F){return"Object("+F+")"}function Ks(F){return F+" { ? }"}function Oi(F,U,Oe,ze){var Ve=ze?Bi(Oe,ze):I.call(Oe,", ");return F+" ("+U+") {"+Ve+"}"}function Bt(F){for(var U=0;U<F.length;U++)if(qe(F[U],`
`)>=0)return!1;return!0}function In(F,U){var Oe;if(F.indent==="	")Oe="	";else if(typeof F.indent=="number"&&F.indent>0)Oe=I.call(Array(F.indent+1)," ");else return null;return{base:Oe,prev:I.call(Array(U+1),Oe)}}function Bi(F,U){if(F.length===0)return"";var Oe=`
`+U.prev+U.base;return Oe+I.call(F,","+Oe)+`
`+U.prev}function qr(F,U){var Oe=te(F),ze=[];if(Oe){ze.length=F.length;for(var Ve=0;Ve<F.length;Ve++)ze[Ve]=$e(F,Ve)?U(F[Ve],F):""}var Pe=typeof P=="function"?P(F):[],vs;if(R){vs={};for(var Js=0;Js<Pe.length;Js++)vs["$"+Pe[Js]]=Pe[Js]}for(var jt in F)$e(F,jt)&&(Oe&&String(Number(jt))===jt&&jt<F.length||R&&vs["$"+jt]instanceof Symbol||(L.call(/[^\w$]/,jt)?ze.push(U(jt,F)+": "+U(F[jt],F)):ze.push(jt+": "+U(F[jt],F))));if(typeof P=="function")for(var _s=0;_s<Pe.length;_s++)A.call(F,Pe[_s])&&ze.push("["+U(Pe[_s])+"]: "+U(F[Pe[_s]],F));return ze}return Tc}var wc,Bp;function kC(){if(Bp)return wc;Bp=1;var r=Bl(),e=En(),t=function(a,l,c){for(var u=a,h;(h=u.next)!=null;u=h)if(h.key===l)return u.next=h.next,c||(h.next=a.next,a.next=h),h},s=function(a,l){if(a){var c=t(a,l);return c&&c.value}},i=function(a,l,c){var u=t(a,l);u?u.value=c:a.next={key:l,next:a.next,value:c}},n=function(a,l){return a?!!t(a,l):!1},o=function(a,l){if(a)return t(a,l,!0)};return wc=function(){var l,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+r(u))},delete:function(u){var h=l&&l.next,d=o(l,u);return d&&h&&h===d&&(l=void 0),!!d},get:function(u){return s(l,u)},has:function(u){return n(l,u)},set:function(u,h){l||(l={next:void 0}),i(l,u,h)}};return c},wc}var Ac,Fp;function P_(){return Fp||(Fp=1,Ac=Object),Ac}var Sc,Np;function LC(){return Np||(Np=1,Sc=Error),Sc}var Ec,$p;function MC(){return $p||($p=1,Ec=EvalError),Ec}var Cc,Up;function DC(){return Up||(Up=1,Cc=RangeError),Cc}var Pc,jp;function OC(){return jp||(jp=1,Pc=ReferenceError),Pc}var Rc,zp;function BC(){return zp||(zp=1,Rc=SyntaxError),Rc}var Ic,Hp;function FC(){return Hp||(Hp=1,Ic=URIError),Ic}var kc,Gp;function NC(){return Gp||(Gp=1,kc=Math.abs),kc}var Lc,Vp;function $C(){return Vp||(Vp=1,Lc=Math.floor),Lc}var Mc,Wp;function UC(){return Wp||(Wp=1,Mc=Math.max),Mc}var Dc,Xp;function jC(){return Xp||(Xp=1,Dc=Math.min),Dc}var Oc,Yp;function zC(){return Yp||(Yp=1,Oc=Math.pow),Oc}var Bc,qp;function HC(){return qp||(qp=1,Bc=Math.round),Bc}var Fc,Zp;function GC(){return Zp||(Zp=1,Fc=Number.isNaN||function(e){return e!==e}),Fc}var Nc,Kp;function VC(){if(Kp)return Nc;Kp=1;var r=GC();return Nc=function(t){return r(t)||t===0?t:t<0?-1:1},Nc}var $c,Jp;function WC(){return Jp||(Jp=1,$c=Object.getOwnPropertyDescriptor),$c}var Uc,Qp;function R_(){if(Qp)return Uc;Qp=1;var r=WC();if(r)try{r([],"length")}catch{r=null}return Uc=r,Uc}var jc,em;function XC(){if(em)return jc;em=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return jc=r,jc}var zc,tm;function YC(){return tm||(tm=1,zc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),s=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),zc}var Hc,rm;function qC(){if(rm)return Hc;rm=1;var r=typeof Symbol<"u"&&Symbol,e=YC();return Hc=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Hc}var Gc,sm;function I_(){return sm||(sm=1,Gc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Gc}var Vc,im;function k_(){if(im)return Vc;im=1;var r=P_();return Vc=r.getPrototypeOf||null,Vc}var Wc,nm;function ZC(){if(nm)return Wc;nm=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,s="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var d=0;d<c.length;d+=1)u[d+l.length]=c[d];return u},n=function(l,c){for(var u=[],h=c,d=0;h<l.length;h+=1,d+=1)u[d]=l[h];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return Wc=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==s)throw new TypeError(r+c);for(var u=n(arguments,1),h,d=function(){if(this instanceof h){var y=c.apply(this,i(u,arguments));return Object(y)===y?y:this}return c.apply(l,i(u,arguments))},f=t(0,c.length-u.length),p=[],m=0;m<f;m++)p[m]="$"+m;if(h=Function("binder","return function ("+o(p,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var g=function(){};g.prototype=c.prototype,h.prototype=new g,g.prototype=null}return h},Wc}var Xc,om;function Fl(){if(om)return Xc;om=1;var r=ZC();return Xc=Function.prototype.bind||r,Xc}var Yc,am;function tf(){return am||(am=1,Yc=Function.prototype.call),Yc}var qc,lm;function L_(){return lm||(lm=1,qc=Function.prototype.apply),qc}var Zc,cm;function KC(){return cm||(cm=1,Zc=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zc}var Kc,um;function JC(){if(um)return Kc;um=1;var r=Fl(),e=L_(),t=tf(),s=KC();return Kc=s||r.call(t,e),Kc}var Jc,hm;function M_(){if(hm)return Jc;hm=1;var r=Fl(),e=En(),t=tf(),s=JC();return Jc=function(n){if(n.length<1||typeof n[0]!="function")throw new e("a function is required");return s(r,t,n)},Jc}var Qc,dm;function QC(){if(dm)return Qc;dm=1;var r=M_(),e=R_(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var s=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,n=i.getPrototypeOf;return Qc=s&&typeof s.get=="function"?r([s.get]):typeof n=="function"?function(a){return n(a==null?a:i(a))}:!1,Qc}var eu,fm;function e2(){if(fm)return eu;fm=1;var r=I_(),e=k_(),t=QC();return eu=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,eu}var tu,pm;function t2(){if(pm)return tu;pm=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Fl();return tu=t.call(r,e),tu}var ru,mm;function rf(){if(mm)return ru;mm=1;var r,e=P_(),t=LC(),s=MC(),i=DC(),n=OC(),o=BC(),a=En(),l=FC(),c=NC(),u=$C(),h=UC(),d=jC(),f=zC(),p=HC(),m=VC(),g=Function,y=function(re){try{return g('"use strict"; return ('+re+").constructor;")()}catch{}},v=R_(),_=XC(),T=function(){throw new a},b=v?(function(){try{return arguments.callee,T}catch{try{return v(arguments,"callee").get}catch{return T}}})():T,L=qC()(),x=e2(),I=k_(),k=I_(),O=L_(),M=tf(),P={},B=typeof Uint8Array>"u"||!x?r:x(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":L&&x?x([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":s,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&x?x(x([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!x?r:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":n,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!x?r:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&x?x(""[Symbol.iterator]()):r,"%Symbol%":L?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":b,"%TypedArray%":B,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":O,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":I,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":d,"%Math.pow%":f,"%Math.round%":p,"%Math.sign%":m,"%Reflect.getPrototypeOf%":k};if(x)try{null.error}catch(re){var G=x(x(re));R["%Error.prototype%"]=G}var A=function re(W){var se;if(W==="%AsyncFunction%")se=y("async function () {}");else if(W==="%GeneratorFunction%")se=y("function* () {}");else if(W==="%AsyncGeneratorFunction%")se=y("async function* () {}");else if(W==="%AsyncGenerator%"){var ne=re("%AsyncGeneratorFunction%");ne&&(se=ne.prototype)}else if(W==="%AsyncIteratorPrototype%"){var le=re("%AsyncGenerator%");le&&x&&(se=x(le.prototype))}return R[W]=se,se},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=Fl(),C=t2(),E=w.call(M,Array.prototype.concat),D=w.call(O,Array.prototype.splice),$=w.call(M,String.prototype.replace),N=w.call(M,String.prototype.slice),H=w.call(M,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,te=function(W){var se=N(W,0,1),ne=N(W,-1);if(se==="%"&&ne!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&se!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var le=[];return $(W,V,function(ve,Q,J,$e){le[le.length]=J?$($e,Z,"$1"):Q||ve}),le},ie=function(W,se){var ne=W,le;if(C(S,ne)&&(le=S[ne],ne="%"+le[0]+"%"),C(R,ne)){var ve=R[ne];if(ve===P&&(ve=A(ne)),typeof ve>"u"&&!se)throw new a("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:le,name:ne,value:ve}}throw new o("intrinsic "+W+" does not exist!")};return ru=function(W,se){if(typeof W!="string"||W.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof se!="boolean")throw new a('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,W)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=te(W),le=ne.length>0?ne[0]:"",ve=ie("%"+le+"%",se),Q=ve.name,J=ve.value,$e=!1,Ue=ve.alias;Ue&&(le=Ue[0],D(ne,E([0,1],Ue)));for(var wt=1,qe=!0;wt<ne.length;wt+=1){var at=ne[wt],je=N(at,0,1),ut=N(at,-1);if((je==='"'||je==="'"||je==="`"||ut==='"'||ut==="'"||ut==="`")&&je!==ut)throw new o("property names with quotes must have matching quotes");if((at==="constructor"||!qe)&&($e=!0),le+="."+at,Q="%"+le+"%",C(R,Q))J=R[Q];else if(J!=null){if(!(at in J)){if(!se)throw new a("base intrinsic for "+W+" exists, but the property is not available.");return}if(v&&wt+1>=ne.length){var ht=v(J,at);qe=!!ht,qe&&"get"in ht&&!("originalValue"in ht.get)?J=ht.get:J=J[at]}else qe=C(J,at),J=J[at];qe&&!$e&&(R[Q]=J)}}return J},ru}var su,gm;function D_(){if(gm)return su;gm=1;var r=rf(),e=M_(),t=e([r("%String.prototype.indexOf%")]);return su=function(i,n){var o=r(i,!!n);return typeof o=="function"&&t(i,".prototype.")>-1?e([o]):o},su}var iu,ym;function O_(){if(ym)return iu;ym=1;var r=rf(),e=D_(),t=Bl(),s=En(),i=r("%Map%",!0),n=e("Map.prototype.get",!0),o=e("Map.prototype.set",!0),a=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),c=e("Map.prototype.size",!0);return iu=!!i&&function(){var h,d={assert:function(f){if(!d.has(f))throw new s("Side channel does not contain "+t(f))},delete:function(f){if(h){var p=l(h,f);return c(h)===0&&(h=void 0),p}return!1},get:function(f){if(h)return n(h,f)},has:function(f){return h?a(h,f):!1},set:function(f,p){h||(h=new i),o(h,f,p)}};return d},iu}var nu,vm;function r2(){if(vm)return nu;vm=1;var r=rf(),e=D_(),t=Bl(),s=O_(),i=En(),n=r("%WeakMap%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),c=e("WeakMap.prototype.delete",!0);return nu=n?function(){var h,d,f={assert:function(p){if(!f.has(p))throw new i("Side channel does not contain "+t(p))},delete:function(p){if(n&&p&&(typeof p=="object"||typeof p=="function")){if(h)return c(h,p)}else if(s&&d)return d.delete(p);return!1},get:function(p){return n&&p&&(typeof p=="object"||typeof p=="function")&&h?o(h,p):d&&d.get(p)},has:function(p){return n&&p&&(typeof p=="object"||typeof p=="function")&&h?l(h,p):!!d&&d.has(p)},set:function(p,m){n&&p&&(typeof p=="object"||typeof p=="function")?(h||(h=new n),a(h,p,m)):s&&(d||(d=s()),d.set(p,m))}};return f}:s,nu}var ou,_m;function s2(){if(_m)return ou;_m=1;var r=En(),e=Bl(),t=kC(),s=O_(),i=r2(),n=i||s||t;return ou=function(){var a,l={assert:function(c){if(!l.has(c))throw new r("Side channel does not contain "+e(c))},delete:function(c){return!!a&&a.delete(c)},get:function(c){return a&&a.get(c)},has:function(c){return!!a&&a.has(c)},set:function(c,u){a||(a=n()),a.set(c,u)}};return l},ou}var au,bm;function sf(){if(bm)return au;bm=1;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return au={default:t.RFC3986,formatters:{RFC1738:function(s){return r.call(s,e,"+")},RFC3986:function(s){return String(s)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},au}var lu,xm;function B_(){if(xm)return lu;xm=1;var r=sf(),e=Object.prototype.hasOwnProperty,t=Array.isArray,s=(function(){for(var g=[],y=0;y<256;++y)g.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return g})(),i=function(y){for(;y.length>1;){var v=y.pop(),_=v.obj[v.prop];if(t(_)){for(var T=[],b=0;b<_.length;++b)typeof _[b]<"u"&&T.push(_[b]);v.obj[v.prop]=T}}},n=function(y,v){for(var _=v&&v.plainObjects?{__proto__:null}:{},T=0;T<y.length;++T)typeof y[T]<"u"&&(_[T]=y[T]);return _},o=function g(y,v,_){if(!v)return y;if(typeof v!="object"&&typeof v!="function"){if(t(y))y.push(v);else if(y&&typeof y=="object")(_&&(_.plainObjects||_.allowPrototypes)||!e.call(Object.prototype,v))&&(y[v]=!0);else return[y,v];return y}if(!y||typeof y!="object")return[y].concat(v);var T=y;return t(y)&&!t(v)&&(T=n(y,_)),t(y)&&t(v)?(v.forEach(function(b,L){if(e.call(y,L)){var x=y[L];x&&typeof x=="object"&&b&&typeof b=="object"?y[L]=g(x,b,_):y.push(b)}else y[L]=b}),y):Object.keys(v).reduce(function(b,L){var x=v[L];return e.call(b,L)?b[L]=g(b[L],x,_):b[L]=x,b},T)},a=function(y,v){return Object.keys(v).reduce(function(_,T){return _[T]=v[T],_},y)},l=function(g,y,v){var _=g.replace(/\+/g," ");if(v==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},c=1024,u=function(y,v,_,T,b){if(y.length===0)return y;var L=y;if(typeof y=="symbol"?L=Symbol.prototype.toString.call(y):typeof y!="string"&&(L=String(y)),_==="iso-8859-1")return escape(L).replace(/%u[0-9a-f]{4}/gi,function(B){return"%26%23"+parseInt(B.slice(2),16)+"%3B"});for(var x="",I=0;I<L.length;I+=c){for(var k=L.length>=c?L.slice(I,I+c):L,O=[],M=0;M<k.length;++M){var P=k.charCodeAt(M);if(P===45||P===46||P===95||P===126||P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122||b===r.RFC1738&&(P===40||P===41)){O[O.length]=k.charAt(M);continue}if(P<128){O[O.length]=s[P];continue}if(P<2048){O[O.length]=s[192|P>>6]+s[128|P&63];continue}if(P<55296||P>=57344){O[O.length]=s[224|P>>12]+s[128|P>>6&63]+s[128|P&63];continue}M+=1,P=65536+((P&1023)<<10|k.charCodeAt(M)&1023),O[O.length]=s[240|P>>18]+s[128|P>>12&63]+s[128|P>>6&63]+s[128|P&63]}x+=O.join("")}return x},h=function(y){for(var v=[{obj:{o:y},prop:"o"}],_=[],T=0;T<v.length;++T)for(var b=v[T],L=b.obj[b.prop],x=Object.keys(L),I=0;I<x.length;++I){var k=x[I],O=L[k];typeof O=="object"&&O!==null&&_.indexOf(O)===-1&&(v.push({obj:L,prop:k}),_.push(O))}return i(v),y},d=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},f=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},p=function(y,v){return[].concat(y,v)},m=function(y,v){if(t(y)){for(var _=[],T=0;T<y.length;T+=1)_.push(v(y[T]));return _}return v(y)};return lu={arrayToObject:n,assign:a,combine:p,compact:h,decode:l,encode:u,isBuffer:f,isRegExp:d,maybeMap:m,merge:o},lu}var cu,Tm;function i2(){if(Tm)return cu;Tm=1;var r=s2(),e=B_(),t=sf(),s=Object.prototype.hasOwnProperty,i={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,y){return g+"["+y+"]"},repeat:function(g){return g}},n=Array.isArray,o=Array.prototype.push,a=function(m,g){o.apply(m,n(g)?g:[g])},l=Date.prototype.toISOString,c=t.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(g){return l.call(g)},skipNulls:!1,strictNullHandling:!1},h=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},d={},f=function m(g,y,v,_,T,b,L,x,I,k,O,M,P,B,R,G,A,S){for(var w=g,C=S,E=0,D=!1;(C=C.get(d))!==void 0&&!D;){var $=C.get(g);if(E+=1,typeof $<"u"){if($===E)throw new RangeError("Cyclic object value");D=!0}typeof C.get(d)>"u"&&(E=0)}if(typeof k=="function"?w=k(y,w):w instanceof Date?w=P(w):v==="comma"&&n(w)&&(w=e.maybeMap(w,function(Q){return Q instanceof Date?P(Q):Q})),w===null){if(b)return I&&!G?I(y,u.encoder,A,"key",B):y;w=""}if(h(w)||e.isBuffer(w)){if(I){var N=G?y:I(y,u.encoder,A,"key",B);return[R(N)+"="+R(I(w,u.encoder,A,"value",B))]}return[R(y)+"="+R(String(w))]}var H=[];if(typeof w>"u")return H;var V;if(v==="comma"&&n(w))G&&I&&(w=e.maybeMap(w,I)),V=[{value:w.length>0?w.join(",")||null:void 0}];else if(n(k))V=k;else{var Z=Object.keys(w);V=O?Z.sort(O):Z}var te=x?String(y).replace(/\./g,"%2E"):String(y),ie=_&&n(w)&&w.length===1?te+"[]":te;if(T&&n(w)&&w.length===0)return ie+"[]";for(var re=0;re<V.length;++re){var W=V[re],se=typeof W=="object"&&W&&typeof W.value<"u"?W.value:w[W];if(!(L&&se===null)){var ne=M&&x?String(W).replace(/\./g,"%2E"):String(W),le=n(w)?typeof v=="function"?v(ie,ne):ie:ie+(M?"."+ne:"["+ne+"]");S.set(g,E);var ve=r();ve.set(d,S),a(H,m(se,le,v,_,T,b,L,x,v==="comma"&&G&&n(w)?null:I,k,O,M,P,B,R,G,A,ve))}}return H},p=function(g){if(!g)return u;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=g.charset||u.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var v=t.default;if(typeof g.format<"u"){if(!s.call(t.formatters,g.format))throw new TypeError("Unknown format option provided.");v=g.format}var _=t.formatters[v],T=u.filter;(typeof g.filter=="function"||n(g.filter))&&(T=g.filter);var b;if(g.arrayFormat in i?b=g.arrayFormat:"indices"in g?b=g.indices?"indices":"repeat":b=u.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var L=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:u.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:u.addQueryPrefix,allowDots:L,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:b,charset:y,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?u.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:u.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:u.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:u.encodeValuesOnly,filter:T,format:v,formatter:_,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:u.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:u.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:u.strictNullHandling}};return cu=function(m,g){var y=m,v=p(g),_,T;typeof v.filter=="function"?(T=v.filter,y=T("",y)):n(v.filter)&&(T=v.filter,_=T);var b=[];if(typeof y!="object"||y===null)return"";var L=i[v.arrayFormat],x=L==="comma"&&v.commaRoundTrip;_||(_=Object.keys(y)),v.sort&&_.sort(v.sort);for(var I=r(),k=0;k<_.length;++k){var O=_[k],M=y[O];v.skipNulls&&M===null||a(b,f(M,O,L,x,v.allowEmptyArrays,v.strictNullHandling,v.skipNulls,v.encodeDotInKeys,v.encode?v.encoder:null,v.filter,v.sort,v.allowDots,v.serializeDate,v.format,v.formatter,v.encodeValuesOnly,v.charset,I))}var P=b.join(v.delimiter),B=v.addQueryPrefix===!0?"?":"";return v.charsetSentinel&&(v.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),P.length>0?B+P:""},cu}var uu,wm;function n2(){if(wm)return uu;wm=1;var r=B_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(d){return d.replace(/&#(\d+);/g,function(f,p){return String.fromCharCode(parseInt(p,10))})},n=function(d,f,p){if(d&&typeof d=="string"&&f.comma&&d.indexOf(",")>-1)return d.split(",");if(f.throwOnLimitExceeded&&p>=f.arrayLimit)throw new RangeError("Array limit exceeded. Only "+f.arrayLimit+" element"+(f.arrayLimit===1?"":"s")+" allowed in an array.");return d},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(f,p){var m={__proto__:null},g=p.ignoreQueryPrefix?f.replace(/^\?/,""):f;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=p.parameterLimit===1/0?void 0:p.parameterLimit,v=g.split(p.delimiter,p.throwOnLimitExceeded?y+1:y);if(p.throwOnLimitExceeded&&v.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var _=-1,T,b=p.charset;if(p.charsetSentinel)for(T=0;T<v.length;++T)v[T].indexOf("utf8=")===0&&(v[T]===a?b="utf-8":v[T]===o&&(b="iso-8859-1"),_=T,T=v.length);for(T=0;T<v.length;++T)if(T!==_){var L=v[T],x=L.indexOf("]="),I=x===-1?L.indexOf("="):x+1,k,O;I===-1?(k=p.decoder(L,s.decoder,b,"key"),O=p.strictNullHandling?null:""):(k=p.decoder(L.slice(0,I),s.decoder,b,"key"),O=r.maybeMap(n(L.slice(I+1),p,t(m[k])?m[k].length:0),function(P){return p.decoder(P,s.decoder,b,"value")})),O&&p.interpretNumericEntities&&b==="iso-8859-1"&&(O=i(String(O))),L.indexOf("[]=")>-1&&(O=t(O)?[O]:O);var M=e.call(m,k);M&&p.duplicates==="combine"?m[k]=r.combine(m[k],O):(!M||p.duplicates==="last")&&(m[k]=O)}return m},c=function(d,f,p,m){var g=0;if(d.length>0&&d[d.length-1]==="[]"){var y=d.slice(0,-1).join("");g=Array.isArray(f)&&f[y]?f[y].length:0}for(var v=m?f:n(f,p,g),_=d.length-1;_>=0;--_){var T,b=d[_];if(b==="[]"&&p.parseArrays)T=p.allowEmptyArrays&&(v===""||p.strictNullHandling&&v===null)?[]:r.combine([],v);else{T=p.plainObjects?{__proto__:null}:{};var L=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,x=p.decodeDotInKeys?L.replace(/%2E/g,"."):L,I=parseInt(x,10);!p.parseArrays&&x===""?T={0:v}:!isNaN(I)&&b!==x&&String(I)===x&&I>=0&&p.parseArrays&&I<=p.arrayLimit?(T=[],T[I]=v):x!=="__proto__"&&(T[x]=v)}v=T}return v},u=function(f,p,m,g){if(f){var y=m.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,v=/(\[[^[\]]*])/,_=/(\[[^[\]]*])/g,T=m.depth>0&&v.exec(y),b=T?y.slice(0,T.index):y,L=[];if(b){if(!m.plainObjects&&e.call(Object.prototype,b)&&!m.allowPrototypes)return;L.push(b)}for(var x=0;m.depth>0&&(T=_.exec(y))!==null&&x<m.depth;){if(x+=1,!m.plainObjects&&e.call(Object.prototype,T[1].slice(1,-1))&&!m.allowPrototypes)return;L.push(T[1])}if(T){if(m.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+m.depth+" and strictDepth is true");L.push("["+y.slice(T.index)+"]")}return c(L,p,m,g)}},h=function(f){if(!f)return s;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof f.throwOnLimitExceeded<"u"&&typeof f.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var p=typeof f.charset>"u"?s.charset:f.charset,m=typeof f.duplicates>"u"?s.duplicates:f.duplicates;if(m!=="combine"&&m!=="first"&&m!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:s.allowDots:!!f.allowDots;return{allowDots:g,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:s.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:s.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:s.arrayLimit,charset:p,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:s.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:s.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:s.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:s.decoder,delimiter:typeof f.delimiter=="string"||r.isRegExp(f.delimiter)?f.delimiter:s.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:s.depth,duplicates:m,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:s.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:s.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:s.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:typeof f.throwOnLimitExceeded=="boolean"?f.throwOnLimitExceeded:!1}};return uu=function(d,f){var p=h(f);if(d===""||d===null||typeof d>"u")return p.plainObjects?{__proto__:null}:{};for(var m=typeof d=="string"?l(d,p):d,g=p.plainObjects?{__proto__:null}:{},y=Object.keys(m),v=0;v<y.length;++v){var _=y[v],T=u(_,m[_],p,typeof d=="string");g=r.merge(g,T,p)}return p.allowSparse===!0?g:r.compact(g)},uu}var hu,Am;function o2(){if(Am)return hu;Am=1;var r=i2(),e=n2(),t=sf();return hu={formats:t,parse:e,stringify:r},hu}var Sm;function a2(){if(Sm)return ei;Sm=1;var r=CC();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(n),a=["'"].concat(o),l=["%","/","?",";","#"].concat(a),c=["/","?","#"],u=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=o2();function y(b,L,x){if(b&&typeof b=="object"&&b instanceof e)return b;var I=new e;return I.parse(b,L,x),I}e.prototype.parse=function(b,L,x){if(typeof b!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var I=b.indexOf("?"),k=I!==-1&&I<b.indexOf("#")?"?":"#",O=b.split(k),M=/\\/g;O[0]=O[0].replace(M,"/"),b=O.join(k);var P=b;if(P=P.trim(),!x&&b.split("#").length===1){var B=i.exec(P);if(B)return this.path=P,this.href=P,this.pathname=B[1],B[2]?(this.search=B[2],L?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):L&&(this.search="",this.query={}),this}var R=t.exec(P);if(R){R=R[0];var G=R.toLowerCase();this.protocol=G,P=P.substr(R.length)}if(x||R||P.match(/^\/\/[^@/]+@[^@/]+/)){var A=P.substr(0,2)==="//";A&&!(R&&p[R])&&(P=P.substr(2),this.slashes=!0)}if(!p[R]&&(A||R&&!m[R])){for(var S=-1,w=0;w<c.length;w++){var C=P.indexOf(c[w]);C!==-1&&(S===-1||C<S)&&(S=C)}var E,D;S===-1?D=P.lastIndexOf("@"):D=P.lastIndexOf("@",S),D!==-1&&(E=P.slice(0,D),P=P.slice(D+1),this.auth=decodeURIComponent(E)),S=-1;for(var w=0;w<l.length;w++){var C=P.indexOf(l[w]);C!==-1&&(S===-1||C<S)&&(S=C)}S===-1&&(S=P.length),this.host=P.slice(0,S),P=P.slice(S),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var N=this.hostname.split(/\./),w=0,H=N.length;w<H;w++){var V=N[w];if(V&&!V.match(h)){for(var Z="",te=0,ie=V.length;te<ie;te++)V.charCodeAt(te)>127?Z+="x":Z+=V[te];if(!Z.match(h)){var re=N.slice(0,w),W=N.slice(w+1),se=V.match(d);se&&(re.push(se[1]),W.unshift(se[2])),W.length&&(P="/"+W.join(".")+P),this.hostname=re.join(".");break}}}this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=r.toASCII(this.hostname));var ne=this.port?":"+this.port:"",le=this.hostname||"";this.host=le+ne,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),P[0]!=="/"&&(P="/"+P))}if(!f[G])for(var w=0,H=a.length;w<H;w++){var ve=a[w];if(P.indexOf(ve)!==-1){var Q=encodeURIComponent(ve);Q===ve&&(Q=escape(ve)),P=P.split(ve).join(Q)}}var J=P.indexOf("#");J!==-1&&(this.hash=P.substr(J),P=P.slice(0,J));var $e=P.indexOf("?");if($e!==-1?(this.search=P.substr($e),this.query=P.substr($e+1),L&&(this.query=g.parse(this.query)),P=P.slice(0,$e)):L&&(this.search="",this.query={}),P&&(this.pathname=P),m[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ne=this.pathname||"",Ue=this.search||"";this.path=ne+Ue}return this.href=this.format(),this};function v(b){return typeof b=="string"&&(b=y(b)),b instanceof e?b.format():e.prototype.format.call(b)}e.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var L=this.protocol||"",x=this.pathname||"",I=this.hash||"",k=!1,O="";this.host?k=b+this.host:this.hostname&&(k=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(O=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var M=this.search||O&&"?"+O||"";return L&&L.substr(-1)!==":"&&(L+=":"),this.slashes||(!L||m[L])&&k!==!1?(k="//"+(k||""),x&&x.charAt(0)!=="/"&&(x="/"+x)):k||(k=""),I&&I.charAt(0)!=="#"&&(I="#"+I),M&&M.charAt(0)!=="?"&&(M="?"+M),x=x.replace(/[?#]/g,function(P){return encodeURIComponent(P)}),M=M.replace("#","%23"),L+k+x+M+I};function _(b,L){return y(b,!1,!0).resolve(L)}e.prototype.resolve=function(b){return this.resolveObject(y(b,!1,!0)).format()};function T(b,L){return b?y(b,!1,!0).resolveObject(L):L}return e.prototype.resolveObject=function(b){if(typeof b=="string"){var L=new e;L.parse(b,!1,!0),b=L}for(var x=new e,I=Object.keys(this),k=0;k<I.length;k++){var O=I[k];x[O]=this[O]}if(x.hash=b.hash,b.href==="")return x.href=x.format(),x;if(b.slashes&&!b.protocol){for(var M=Object.keys(b),P=0;P<M.length;P++){var B=M[P];B!=="protocol"&&(x[B]=b[B])}return m[x.protocol]&&x.hostname&&!x.pathname&&(x.pathname="/",x.path=x.pathname),x.href=x.format(),x}if(b.protocol&&b.protocol!==x.protocol){if(!m[b.protocol]){for(var R=Object.keys(b),G=0;G<R.length;G++){var A=R[G];x[A]=b[A]}return x.href=x.format(),x}if(x.protocol=b.protocol,!b.host&&!p[b.protocol]){for(var H=(b.pathname||"").split("/");H.length&&!(b.host=H.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),H[0]!==""&&H.unshift(""),H.length<2&&H.unshift(""),x.pathname=H.join("/")}else x.pathname=b.pathname;if(x.search=b.search,x.query=b.query,x.host=b.host||"",x.auth=b.auth,x.hostname=b.hostname||b.host,x.port=b.port,x.pathname||x.search){var S=x.pathname||"",w=x.search||"";x.path=S+w}return x.slashes=x.slashes||b.slashes,x.href=x.format(),x}var C=x.pathname&&x.pathname.charAt(0)==="/",E=b.host||b.pathname&&b.pathname.charAt(0)==="/",D=E||C||x.host&&b.pathname,$=D,N=x.pathname&&x.pathname.split("/")||[],H=b.pathname&&b.pathname.split("/")||[],V=x.protocol&&!m[x.protocol];if(V&&(x.hostname="",x.port=null,x.host&&(N[0]===""?N[0]=x.host:N.unshift(x.host)),x.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(H[0]===""?H[0]=b.host:H.unshift(b.host)),b.host=null),D=D&&(H[0]===""||N[0]==="")),E)x.host=b.host||b.host===""?b.host:x.host,x.hostname=b.hostname||b.hostname===""?b.hostname:x.hostname,x.search=b.search,x.query=b.query,N=H;else if(H.length)N||(N=[]),N.pop(),N=N.concat(H),x.search=b.search,x.query=b.query;else if(b.search!=null){if(V){x.host=N.shift(),x.hostname=x.host;var Z=x.host&&x.host.indexOf("@")>0?x.host.split("@"):!1;Z&&(x.auth=Z.shift(),x.hostname=Z.shift(),x.host=x.hostname)}return x.search=b.search,x.query=b.query,(x.pathname!==null||x.search!==null)&&(x.path=(x.pathname?x.pathname:"")+(x.search?x.search:"")),x.href=x.format(),x}if(!N.length)return x.pathname=null,x.search?x.path="/"+x.search:x.path=null,x.href=x.format(),x;for(var te=N.slice(-1)[0],ie=(x.host||b.host||N.length>1)&&(te==="."||te==="..")||te==="",re=0,W=N.length;W>=0;W--)te=N[W],te==="."?N.splice(W,1):te===".."?(N.splice(W,1),re++):re&&(N.splice(W,1),re--);if(!D&&!$)for(;re--;re)N.unshift("..");D&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),ie&&N.join("/").substr(-1)!=="/"&&N.push("");var se=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(V){x.hostname=se?"":N.length?N.shift():"",x.host=x.hostname;var Z=x.host&&x.host.indexOf("@")>0?x.host.split("@"):!1;Z&&(x.auth=Z.shift(),x.hostname=Z.shift(),x.host=x.hostname)}return D=D||x.host&&N.length,D&&!se&&N.unshift(""),N.length>0?x.pathname=N.join("/"):(x.pathname=null,x.path=null),(x.pathname!==null||x.search!==null)&&(x.path=(x.pathname?x.pathname:"")+(x.search?x.search:"")),x.auth=b.auth||x.auth,x.slashes=x.slashes||b.slashes,x.href=x.format(),x},e.prototype.parseHost=function(){var b=this.host,L=s.exec(b);L&&(L=L[0],L!==":"&&(this.port=L.substr(1)),b=b.substr(0,b.length-L.length)),b&&(this.hostname=b)},ei.parse=y,ei.resolve=_,ei.resolveObject=T,ei.format=v,ei.Url=e,ei}var OO=a2();const Em={};function Re(r,e,t=3){if(Em[e])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(s=s.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(s))),Em[e]=!0}function or(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function Dn(r){return r.split("?")[0].split("#")[0]}function l2(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c2(r,e,t){return r.replace(new RegExp(l2(e),"g"),t)}function u2(r,e){let t="",s=0,i=-1,n=0,o=-1;for(let a=0;a<=r.length;++a){if(a<r.length)o=r.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||n===1))if(i!==a-1&&n===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",s=0):(t=t.slice(0,l),s=t.length-1-t.lastIndexOf("/")),i=a,n=0;continue}}else if(t.length===2||t.length===1){t="",s=0,i=a,n=0;continue}}}else t.length>0?t+=`/${r.slice(i+1,a)}`:t=r.slice(i+1,a),s=a-i-1;i=a,n=0}else o===46&&n!==-1?++n:n=-1}return t}const mt={toPosix(r){return c2(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){or(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if(or(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const s=Dn(this.toPosix(e??ae.ADAPTER.getBaseUrl())),i=Dn(this.toPosix(t??this.rootname(s)));return r=this.toPosix(r),r.startsWith("/")?mt.join(i,r.slice(1)):this.isAbsolute(r)?r:this.join(s,r)},normalize(r){if(or(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const s=r.endsWith("/");return r=u2(r),r.length>0&&s&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return or(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const s=r[t];if(or(s),s.length>0)if(e===void 0)e=s;else{const i=r[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(or(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let s=-1,i=!0;const n=this.getProtocol(r),o=r;r=r.slice(n.length);for(let a=r.length-1;a>=1;--a)if(e=r.charCodeAt(a),e===47){if(!i){s=a;break}}else i=!1;return s===-1?t?"/":this.isUrl(o)?n+r:n:t&&s===1?"//":n+r.slice(0,s)},rootname(r){or(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){or(r),e&&or(e),r=Dn(this.toPosix(r));let t=0,s=-1,i=!0,n;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let o=e.length-1,a=-1;for(n=r.length-1;n>=0;--n){const l=r.charCodeAt(n);if(l===47){if(!i){t=n+1;break}}else a===-1&&(i=!1,a=n+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(s=n):(o=-1,s=a))}return t===s?s=a:s===-1&&(s=r.length),r.slice(t,s)}for(n=r.length-1;n>=0;--n)if(r.charCodeAt(n)===47){if(!i){t=n+1;break}}else s===-1&&(i=!1,s=n+1);return s===-1?"":r.slice(t,s)},extname(r){or(r),r=Dn(this.toPosix(r));let e=-1,t=0,s=-1,i=!0,n=0;for(let o=r.length-1;o>=0;--o){const a=r.charCodeAt(o);if(a===47){if(!i){t=o+1;break}continue}s===-1&&(i=!1,s=o+1),a===46?e===-1?e=o:n!==1&&(n=1):e!==-1&&(n=-1)}return e===-1||s===-1||n===0||n===1&&e===s-1&&e===t+1?"":r.slice(e,s)},parse(r){or(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=Dn(this.toPosix(r));let t=r.charCodeAt(0);const s=this.isAbsolute(r);let i;e.root=this.rootname(r),s||this.hasProtocol(r)?i=1:i=0;let n=-1,o=0,a=-1,l=!0,c=r.length-1,u=0;for(;c>=i;--c){if(t=r.charCodeAt(c),t===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),t===46?n===-1?n=c:u!==1&&(u=1):n!==-1&&(u=-1)}return n===-1||a===-1||u===0||u===1&&n===a-1&&n===o+1?a!==-1&&(o===0&&s?e.base=e.name=r.slice(1,a):e.base=e.name=r.slice(o,a)):(o===0&&s?(e.name=r.slice(1,n),e.base=r.slice(1,a)):(e.name=r.slice(o,n),e.base=r.slice(o,a)),e.ext=r.slice(n,a)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let du;async function h2(){return du??(du=(async()=>{const r=document.createElement("canvas").getContext("webgl");if(!r)return $t.UNPACK;const e=await new Promise(n=>{const o=document.createElement("video");o.onloadeddata=()=>n(o),o.onerror=()=>n(null),o.autoplay=!1,o.crossOrigin="anonymous",o.preload="auto",o.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",o.load()});if(!e)return $t.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.deleteFramebuffer(s),r.deleteTexture(t),r.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?$t.PMA:$t.UNPACK})()),du}let fu;function d2(){return typeof fu>"u"&&(fu=(function(){const r={stencil:!0,failIfMajorPerformanceCaveat:ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ae.ADAPTER.getWebGLRenderingContext())return!1;const e=ae.ADAPTER.createCanvas();let t=e.getContext("webgl",r)||e.getContext("experimental-webgl",r);const s=!!t?.getContextAttributes()?.stencil;if(t){const i=t.getExtension("WEBGL_lose_context");i&&i.loseContext()}return t=null,s}catch{return!1}})()),fu}var f2={grad:.9,turn:360,rad:360/(2*Math.PI)},Kr=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},ft=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},rr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},F_=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Cm=function(r){return{r:rr(r.r,0,255),g:rr(r.g,0,255),b:rr(r.b,0,255),a:rr(r.a)}},pu=function(r){return{r:ft(r.r),g:ft(r.g),b:ft(r.b),a:ft(r.a,3)}},p2=/^#([0-9a-f]{3,8})$/i,Wo=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},N_=function(r){var e=r.r,t=r.g,s=r.b,i=r.a,n=Math.max(e,t,s),o=n-Math.min(e,t,s),a=o?n===e?(t-s)/o:n===t?2+(s-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:n?o/n*100:0,v:n/255*100,a:i}},$_=function(r){var e=r.h,t=r.s,s=r.v,i=r.a;e=e/360*6,t/=100,s/=100;var n=Math.floor(e),o=s*(1-t),a=s*(1-(e-n)*t),l=s*(1-(1-e+n)*t),c=n%6;return{r:255*[s,a,o,o,l,s][c],g:255*[l,s,s,a,o,o][c],b:255*[o,o,l,s,s,a][c],a:i}},Pm=function(r){return{h:F_(r.h),s:rr(r.s,0,100),l:rr(r.l,0,100),a:rr(r.a)}},Rm=function(r){return{h:ft(r.h),s:ft(r.s),l:ft(r.l),a:ft(r.a,3)}},Im=function(r){return $_((t=(e=r).s,{h:e.h,s:(t*=((s=e.l)<50?s:100-s)/100)>0?2*t/(s+t)*100:0,v:s+t,a:e.a}));var e,t,s},eo=function(r){return{h:(e=N_(r)).h,s:(i=(200-(t=e.s))*(s=e.v)/100)>0&&i<200?t*s/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,s,i},m2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Th={string:[[function(r){var e=p2.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?ft(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?ft(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=y2.exec(r)||v2.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:Cm({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=m2.exec(r)||g2.exec(r);if(!e)return null;var t,s,i=Pm({h:(t=e[1],s=e[2],s===void 0&&(s="deg"),Number(t)*(f2[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Im(i)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,s=r.b,i=r.a,n=i===void 0?1:i;return Kr(e)&&Kr(t)&&Kr(s)?Cm({r:Number(e),g:Number(t),b:Number(s),a:Number(n)}):null},"rgb"],[function(r){var e=r.h,t=r.s,s=r.l,i=r.a,n=i===void 0?1:i;if(!Kr(e)||!Kr(t)||!Kr(s))return null;var o=Pm({h:Number(e),s:Number(t),l:Number(s),a:Number(n)});return Im(o)},"hsl"],[function(r){var e=r.h,t=r.s,s=r.v,i=r.a,n=i===void 0?1:i;if(!Kr(e)||!Kr(t)||!Kr(s))return null;var o=(function(a){return{h:F_(a.h),s:rr(a.s,0,100),v:rr(a.v,0,100),a:rr(a.a)}})({h:Number(e),s:Number(t),v:Number(s),a:Number(n)});return $_(o)},"hsv"]]},km=function(r,e){for(var t=0;t<e.length;t++){var s=e[t][0](r);if(s)return[s,e[t][1]]}return[null,void 0]},_2=function(r){return typeof r=="string"?km(r.trim(),Th.string):typeof r=="object"&&r!==null?km(r,Th.object):[null,void 0]},mu=function(r,e){var t=eo(r);return{h:t.h,s:rr(t.s+100*e,0,100),l:t.l,a:t.a}},gu=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Lm=function(r,e){var t=eo(r);return{h:t.h,s:t.s,l:rr(t.l+100*e,0,100),a:t.a}},wh=(function(){function r(e){this.parsed=_2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return ft(gu(this.rgba),2)},r.prototype.isDark=function(){return gu(this.rgba)<.5},r.prototype.isLight=function(){return gu(this.rgba)>=.5},r.prototype.toHex=function(){return e=pu(this.rgba),t=e.r,s=e.g,i=e.b,o=(n=e.a)<1?Wo(ft(255*n)):"","#"+Wo(t)+Wo(s)+Wo(i)+o;var e,t,s,i,n,o},r.prototype.toRgb=function(){return pu(this.rgba)},r.prototype.toRgbString=function(){return e=pu(this.rgba),t=e.r,s=e.g,i=e.b,(n=e.a)<1?"rgba("+t+", "+s+", "+i+", "+n+")":"rgb("+t+", "+s+", "+i+")";var e,t,s,i,n},r.prototype.toHsl=function(){return Rm(eo(this.rgba))},r.prototype.toHslString=function(){return e=Rm(eo(this.rgba)),t=e.h,s=e.s,i=e.l,(n=e.a)<1?"hsla("+t+", "+s+"%, "+i+"%, "+n+")":"hsl("+t+", "+s+"%, "+i+"%)";var e,t,s,i,n},r.prototype.toHsv=function(){return e=N_(this.rgba),{h:ft(e.h),s:ft(e.s),v:ft(e.v),a:ft(e.a,3)};var e},r.prototype.invert=function(){return Cr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),Cr(mu(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),Cr(mu(this.rgba,-e))},r.prototype.grayscale=function(){return Cr(mu(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),Cr(Lm(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),Cr(Lm(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?Cr({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ft(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=eo(this.rgba);return typeof e=="number"?Cr({h:e,s:t.s,l:t.l,a:t.a}):ft(t.h)},r.prototype.isEqual=function(e){return this.toHex()===Cr(e).toHex()},r})(),Cr=function(r){return r instanceof wh?r:new wh(r)},Mm=[],b2=function(r){r.forEach(function(e){Mm.indexOf(e)<0&&(e(wh,Th),Mm.push(e))})};function x2(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var i in t)s[t[i]]=i;var n={};r.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=s[this.toHex()];if(c)return c;if(o?.closest){var u=this.toRgb(),h=1/0,d="black";if(!n.length)for(var f in t)n[f]=new r(t[f]).toRgb();for(var p in t){var m=(a=u,l=n[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));m<h&&(h=m,d=p)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new r(l).toRgb():null},"name"])}b2([x2]);const Gi=class Da{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Da)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const s=typeof e;if(s!==typeof t)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,n)=>i===t[n]);if(e!==null&&t!==null){const i=Object.keys(e),n=Object.keys(t);return i.length!==n.length?!1:i.every(o=>e[o]===t[o])}return e===t}toRgba(){const[e,t,s,i]=this._components;return{r:e,g:t,b:s,a:i}}toRgb(){const[e,t,s]=this._components;return{r:e,g:t,b:s}}toRgbaString(){const[e,t,s]=this.toUint8RgbArray();return`rgba(${e},${t},${s},${this.alpha})`}toUint8RgbArray(e){const[t,s,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(s*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[t,s,i]=this._components;return e[0]=t,e[1]=s,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,s,i,n]=Da.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=s,this._components[2]*=i,this._components[3]*=n,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let s=this._int>>16&255,i=this._int>>8&255,n=this._int&255;return t&&(s=s*e+.5|0,i=i*e+.5|0,n=n*e+.5|0),(e*255<<24)+(s<<16)+(i<<8)+n}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,s,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(s*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,s,i,n]=this._components;return e[0]=t,e[1]=s,e[2]=i,e[3]=n,e}normalize(e){let t,s,i,n;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;t=(o>>16&255)/255,s=(o>>8&255)/255,i=(o&255)/255,n=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,s,i,n=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,s,i,n=255]=e,t/=255,s/=255,i/=255,n/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Da.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Cr(e);o.isValid()&&({r:t,g:s,b:i,a:n}=o.rgba,t/=255,s/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=s,this._components[2]=i,this._components[3]=n,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,s]=this._components;this._int=(e*255<<16)+(t*255<<8)+(s*255|0)}_clamp(e,t=0,s=1){return typeof e=="number"?Math.min(Math.max(e,t),s):(e.forEach((i,n)=>{e[n]=Math.min(Math.max(i,t),s)}),e)}};Gi.shared=new Gi,Gi.temp=new Gi,Gi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let We=Gi;function T2(r){return Re("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),We.shared.setValue(r).toHex()}function w2(r){return Re("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),We.shared.setValue(r).toNumber()}function A2(){const r=[],e=[];for(let s=0;s<32;s++)r[s]=s,e[s]=s;r[_e.NORMAL_NPM]=_e.NORMAL,r[_e.ADD_NPM]=_e.ADD,r[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const U_=A2();function j_(r,e){return U_[e?1:0][r]}function S2(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let s=0,i=0;s<t;s+=6,i+=4)e[s+0]=i+0,e[s+1]=i+1,e[s+2]=i+2,e[s+3]=i+0,e[s+4]=i+2,e[s+5]=i+3;return e}function z_(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function el(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function Dm(r){return!(r&r-1)&&!!r}function Om(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function sn(r,e,t){const s=r.length;let i;if(e>=s||t===0)return;t=e+t>s?s-e:t;const n=s-t;for(i=e;i<n;++i)r[i]=r[i+t];r.length=n}function Ls(r){return r===0?0:r<0?-1:1}let E2=0;function Ei(){return++E2}const Ah=class{constructor(r,e,t,s){this.left=r,this.top=e,this.right=t,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Ah.EMPTY=new Ah(0,0,0,0);let Bm=Ah;const Fm={},Pr=Object.create(null),bs=Object.create(null);class C2{constructor(e,t,s){this._canvas=ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=s||ae.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Nm(r,e,t){for(let s=0,i=4*t*e;s<e;++s,i+=4)if(r[i+3]!==0)return!1;return!0}function $m(r,e,t,s,i){const n=4*e;for(let o=s,a=s*n+4*t;o<=i;++o,a+=n)if(r[a+3]!==0)return!1;return!0}function P2(r){const{width:e,height:t}=r,s=r.getContext("2d",{willReadFrequently:!0});if(s===null)throw new TypeError("Failed to get canvas 2D context");const i=s.getImageData(0,0,e,t).data;let n=0,o=0,a=e-1,l=t-1;for(;o<t&&Nm(i,e,o);)++o;if(o===t)return Bm.EMPTY;for(;Nm(i,e,l);)--l;for(;$m(i,e,n,o,l);)++n;for(;$m(i,e,a,o,l);)--a;return++a,++l,new Bm(n,o,a,l)}function R2(r){const e=P2(r),{width:t,height:s}=e;let i=null;if(!e.isEmpty()){const n=r.getContext("2d");if(n===null)throw new TypeError("Failed to get canvas 2D context");i=n.getImageData(e.left,e.top,t,s)}return{width:t,height:s,data:i}}function I2(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function fs(r,e=1){const t=ae.RETINA_PREFIX?.exec(r);return t?parseFloat(t[1]):e}var ee=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(ee||{});const Sh=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},Um=(r,e)=>Sh(r).priority??e,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Sh).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...r){return r.map(Sh).forEach(e=>{e.type.forEach(t=>{const s=this._addHandlers,i=this._queue;s[t]?s[t]?.(e):(i[t]=i[t]||[],i[t]?.push(e))})}),this},handle(r,e,t){const s=this._addHandlers,i=this._removeHandlers;if(s[r]||i[r])throw new Error(`Extension type ${r} already has a handler`);s[r]=e,i[r]=t;const n=this._queue;return n[r]&&(n[r]?.forEach(o=>e(o)),delete n[r]),this},handleByMap(r,e){return this.handle(r,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((i,n)=>Um(n,t)-Um(i,t)))},s=>{const i=e.indexOf(s.ref);i!==-1&&e.splice(i,1)})}};class Eh{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const k2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function L2(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function M2(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const s=k2.replace(/%forloop%/gi,L2(r));if(e.shaderSource(t,s),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const yu=0,vu=1,_u=2,bu=3,xu=4,Tu=5;class Xr{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<yu)}set blend(e){!!(this.data&1<<yu)!==e&&(this.data^=1<<yu)}get offsets(){return!!(this.data&1<<vu)}set offsets(e){!!(this.data&1<<vu)!==e&&(this.data^=1<<vu)}get culling(){return!!(this.data&1<<_u)}set culling(e){!!(this.data&1<<_u)!==e&&(this.data^=1<<_u)}get depthTest(){return!!(this.data&1<<bu)}set depthTest(e){!!(this.data&1<<bu)!==e&&(this.data^=1<<bu)}get depthMask(){return!!(this.data&1<<Tu)}set depthMask(e){!!(this.data&1<<Tu)!==e&&(this.data^=1<<Tu)}get clockwiseFrontFace(){return!!(this.data&1<<xu)}set clockwiseFrontFace(e){!!(this.data&1<<xu)!==e&&(this.data^=1<<xu)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Xr;return e.depthTest=!1,e.blend=!0,e}}Xr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Ch=[];function H_(r,e){if(!r)return null;let t="";if(typeof r=="string"){const s=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);s&&(t=s[1].toLowerCase())}for(let s=Ch.length-1;s>=0;--s){const i=Ch[s];if(i.test&&i.test(r,t))return new i(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class gr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,s,i,n,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:u}=this;this._aliasCount++;for(let h=0,d=u.length;h<d;h++)u[h][c](e,t,s,i,n,o,a,l);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(gr.prototype,{dispatch:{value:gr.prototype.emit},run:{value:gr.prototype.emit}});class uo{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new gr("setRealSize"),this.onUpdate=new gr("update"),this.onError=new gr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,s){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Nl extends uo{constructor(e,t){const{width:s,height:i}=t||{};if(!s||!i)throw new Error("BufferResource width or height invalid");super(s,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,s){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===$t.UNPACK);const n=t.realWidth,o=t.realHeight;return s.width===n&&s.height===o?i.texSubImage2D(t.target,0,0,0,n,o,t.format,s.type,this.data):(s.width=n,s.height=o,i.texImage2D(t.target,0,s.internalFormat,n,o,0,t.format,s.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const D2={scaleMode:rs.NEAREST,alphaMode:$t.NPM},Ph=class Vi extends ko{constructor(e=null,t=null){super(),t=Object.assign({},Vi.defaultOptions,t);const{alphaMode:s,mipmap:i,anisotropicLevel:n,scaleMode:o,width:a,height:l,wrapMode:c,format:u,type:h,target:d,resolution:f,resourceOptions:p}=t;e&&!(e instanceof uo)&&(e=H_(e,p),e.internal=!0),this.resolution=f||ae.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=n,this._wrapMode=c,this._scaleMode=o,this.format=u,this.type=h,this.target=d,this.alphaMode=s,this.uid=Ei(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let s;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,s=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,s=!0),s&&this.dirtyStyleId++,this}setSize(e,t,s){return s=s||this.resolution,this.setRealSize(e*s,t*s,s)}setRealSize(e,t,s){return this.resolution=s||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Dm(this.realWidth)&&Dm(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete bs[this.cacheId],delete Pr[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Vi.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,s=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let n=null;if(i)n=e;else{if(!e._pixiId){const a=t?.pixiIdPrefix||"pixiid";e._pixiId=`${a}_${Ei()}`}n=e._pixiId}let o=bs[n];if(i&&s&&!o)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return o||(o=new Vi(e,t),o.cacheId=n,Vi.addToCache(o,n)),o}static fromBuffer(e,t,s,i){e=e||new Float32Array(t*s*4);const n=new Nl(e,{width:t,height:s,...i?.resourceOptions});let o,a;return e instanceof Float32Array?(o=q.RGBA,a=ye.FLOAT):e instanceof Int32Array?(o=q.RGBA_INTEGER,a=ye.INT):e instanceof Uint32Array?(o=q.RGBA_INTEGER,a=ye.UNSIGNED_INT):e instanceof Int16Array?(o=q.RGBA_INTEGER,a=ye.SHORT):e instanceof Uint16Array?(o=q.RGBA_INTEGER,a=ye.UNSIGNED_SHORT):e instanceof Int8Array?(o=q.RGBA,a=ye.BYTE):(o=q.RGBA,a=ye.UNSIGNED_BYTE),n.internal=!0,new Vi(n,Object.assign({},D2,{type:a,format:o},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),bs[t]&&bs[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),bs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=bs[e];if(t){const s=t.textureCacheIds.indexOf(e);return s>-1&&t.textureCacheIds.splice(s,1),delete bs[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete bs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Ph.defaultOptions={mipmap:Hr.POW2,anisotropicLevel:0,scaleMode:rs.LINEAR,wrapMode:Bs.CLAMP,alphaMode:$t.UNPACK,target:rn.TEXTURE_2D,format:q.RGBA,type:ye.UNSIGNED_BYTE},Ph._globalBatch=0;let we=Ph;class Rh{constructor(){this.texArray=null,this.blend=0,this.type=Or.TRIANGLES,this.start=0,this.size=0,this.data=null}}let O2=0;class ot{constructor(e,t=!0,s=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=s,this.static=t,this.id=O2++,this.disposeRunner=new gr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Nr.ELEMENT_ARRAY_BUFFER:Nr.ARRAY_BUFFER}get index(){return this.type===Nr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ot(e)}}class tl{constructor(e,t=0,s=!1,i=ye.FLOAT,n,o,a,l=1){this.buffer=e,this.size=t,this.normalized=s,this.type=i,this.stride=n,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,t,s,i,n){return new tl(e,t,s,i,n)}}const B2={Float32Array,Uint32Array,Int32Array,Uint8Array};function F2(r,e){let t=0,s=0;const i={};for(let l=0;l<r.length;l++)s+=e[l],t+=r[l].length;const n=new ArrayBuffer(t*4);let o=null,a=0;for(let l=0;l<r.length;l++){const c=e[l],u=r[l],h=z_(u);i[h]||(i[h]=new B2[h](n)),o=i[h];for(let d=0;d<u.length;d++){const f=(d/c|0)*s+a,p=d%c;o[f+p]=u[d]}a+=c}return new Float32Array(n)}const jm={5126:4,5123:2,5121:1};let N2=0;const $2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class js{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=N2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new gr("disposeGeometry"),this.refCount=0}addAttribute(e,t,s=0,i=!1,n,o,a,l=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof ot||(t instanceof Array&&(t=new Float32Array(t)),t=new ot(t));const c=e.split("|");if(c.length>1){for(let h=0;h<c.length;h++)this.addAttribute(c[h],t,s,i,n);return this}let u=this.buffers.indexOf(t);return u===-1&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new tl(u,s,i,n,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ot||(e instanceof Array&&(e=new Uint16Array(e)),e=new ot(e)),e.type=Nr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],s=new ot;let i;for(i in this.attributes){const n=this.attributes[i],o=this.buffers[n.buffer];e.push(o.data),t.push(n.size*jm[n.type]/4),n.buffer=0}for(s.data=F2(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new js;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new ot(this.buffers[t].data.slice(0));for(const t in this.attributes){const s=this.attributes[t];e.attributes[t]=new tl(s.buffer,s.size,s.normalized,s.type,s.stride,s.start,s.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Nr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new js,s=[],i=[],n=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,n[l]=0}for(let a=0;a<o.buffers.length;a++)s[a]=new $2[z_(o.buffers[a].data)](i[a]),t.buffers[a]=new ot(s[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)s[l].set(o.buffers[l].data,n[l]),n[l]+=o.buffers[l].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=Nr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,u=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){u=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===u&&(l+=d.size*jm[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)t.indexBuffer.data[f+c]+=a;a+=e[h].buffers[u].data.length/l,c+=d.length}}return t}}class G_ extends js{constructor(e=!1){super(),this._buffer=new ot(null,e,!1),this._indexBuffer=new ot(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ye.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ye.FLOAT).addAttribute("aColor",this._buffer,4,!0,ye.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ye.FLOAT).addIndex(this._indexBuffer)}}const rl=Math.PI*2,U2=180/Math.PI,j2=Math.PI/180;var _t=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(_t||{});class Me{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}Me.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Xo=[new Me,new Me,new Me,new Me];class Se{constructor(e=0,t=0,s=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(s),this.height=Number(i),this.type=_t.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Se(0,0,0,0)}clone(){return new Se(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const I=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=I)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const s=this.left,i=this.right,n=this.top,o=this.bottom;if(i<=s||o<=n)return!1;const a=Xo[0].set(e.left,e.top),l=Xo[1].set(e.left,e.bottom),c=Xo[2].set(e.right,e.top),u=Xo[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(t.a*t.d-t.b*t.c);if(h===0||(t.apply(a,a),t.apply(l,l),t.apply(c,c),t.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=s||Math.min(a.x,l.x,c.x,u.x)>=i||Math.max(a.y,l.y,c.y,u.y)<=n||Math.min(a.y,l.y,c.y,u.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*s+f*n,m=d*i+f*n,g=d*s+f*o,y=d*i+f*o;if(Math.max(p,m,g,y)<=d*a.x+f*a.y||Math.min(p,m,g,y)>=d*u.x+f*u.y)return!1;const v=h*(a.y-c.y),_=h*(c.x-a.x),T=v*s+_*n,b=v*i+_*n,L=v*s+_*o,x=v*i+_*o;return!(Math.max(T,b,L,x)<=v*a.x+_*a.y||Math.min(T,b,L,x)>=v*u.x+_*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(s-t,0),this.y=i,this.height=Math.max(n-i,0),this}ceil(e=1,t=.001){const s=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=s-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=s-t,this.y=i,this.height=n-i,this}}Se.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class $l{constructor(e=0,t=0,s=0){this.x=e,this.y=t,this.radius=s,this.type=_t.CIRC}clone(){return new $l(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const s=this.radius*this.radius;let i=this.x-e,n=this.y-t;return i*=i,n*=n,i+n<=s}getBounds(){return new Se(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}$l.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Ul{constructor(e=0,t=0,s=0,i=0){this.x=e,this.y=t,this.width=s,this.height=i,this.type=_t.ELIP}clone(){return new Ul(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let s=(e-this.x)/this.width,i=(t-this.y)/this.height;return s*=s,i*=i,s+i<=1}getBounds(){return new Se(this.x-this.width,this.y-this.height,this.width,this.height)}}Ul.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class vi{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const s=[];for(let i=0,n=t.length;i<n;i++)s.push(t[i].x,t[i].y);t=s}this.points=t,this.type=_t.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new vi(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let s=!1;const i=this.points.length/2;for(let n=0,o=i-1;n<i;o=n++){const a=this.points[n*2],l=this.points[n*2+1],c=this.points[o*2],u=this.points[o*2+1];l>t!=u>t&&e<(c-a)*((t-l)/(u-l))+a&&(s=!s)}return s}}vi.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class jl{constructor(e=0,t=0,s=0,i=0,n=20){this.x=e,this.y=t,this.width=s,this.height=i,this.radius=n,this.type=_t.RREC}clone(){return new jl(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+s&&t<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let i=e-(this.x+s),n=t-(this.y+s);const o=s*s;if(i*i+n*n<=o||(i=e-(this.x+this.width-s),i*i+n*n<=o)||(n=t-(this.y+this.height-s),i*i+n*n<=o)||(i=e-(this.x+s),i*i+n*n<=o))return!0}return!1}}jl.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ye{constructor(e=1,t=0,s=0,i=1,n=0,o=0){this.array=null,this.a=e,this.b=t,this.c=s,this.d=i,this.tx=n,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,s,i,n,o){return this.a=e,this.b=t,this.c=s,this.d=i,this.tx=n,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const s=t||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,t){t=t||new Me;const s=e.x,i=e.y;return t.x=this.a*s+this.c*i+this.tx,t.y=this.b*s+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Me;const s=1/(this.a*this.d+this.c*-this.b),i=e.x,n=e.y;return t.x=this.d*s*i+-this.c*s*n+(this.ty*this.c-this.tx*this.d)*s,t.y=this.a*s*n+-this.b*s*i+(-this.ty*this.a+this.tx*this.b)*s,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),i=this.a,n=this.c,o=this.tx;return this.a=i*t-this.b*s,this.b=i*s+this.b*t,this.c=n*t-this.d*s,this.d=n*s+this.d*t,this.tx=o*t-this.ty*s,this.ty=o*s+this.ty*t,this}append(e){const t=this.a,s=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*s+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*s+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*s+e.ty*n+this.ty,this}setTransform(e,t,s,i,n,o,a,l,c){return this.a=Math.cos(a+c)*n,this.b=Math.sin(a+c)*n,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(s*this.a+i*this.c),this.ty=t-(s*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,i=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,s=this.b,i=this.c,n=this.d,o=e.pivot,a=-Math.atan2(-i,n),l=Math.atan2(s,t),c=Math.abs(a+l);return c<1e-5||Math.abs(rl-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+s*s),e.scale.y=Math.sqrt(i*i+n*n),e.position.x=this.tx+(o.x*t+o.y*i),e.position.y=this.ty+(o.x*s+o.y*n),e}invert(){const e=this.a,t=this.b,s=this.c,i=this.d,n=this.tx,o=e*i-t*s;return this.a=i/o,this.b=-t/o,this.c=-s/o,this.d=e/o,this.tx=(s*this.ty-i*n)/o,this.ty=-(e*this.ty-t*n)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ye;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ye}static get TEMP_MATRIX(){return new Ye}}Ye.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ni=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],oi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ai=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],li=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ih=[],V_=[],Yo=Math.sign;function z2(){for(let r=0;r<16;r++){const e=[];Ih.push(e);for(let t=0;t<16;t++){const s=Yo(ni[r]*ni[t]+ai[r]*oi[t]),i=Yo(oi[r]*ni[t]+li[r]*oi[t]),n=Yo(ni[r]*ai[t]+ai[r]*li[t]),o=Yo(oi[r]*ai[t]+li[r]*li[t]);for(let a=0;a<16;a++)if(ni[a]===s&&oi[a]===i&&ai[a]===n&&li[a]===o){e.push(a);break}}}for(let r=0;r<16;r++){const e=new Ye;e.set(ni[r],oi[r],ai[r],li[r],0,0),V_.push(e)}}z2();const Ke={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>ni[r],uY:r=>oi[r],vX:r=>ai[r],vY:r=>li[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>Ih[r][e],sub:(r,e)=>Ih[r][Ke.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Ke.S:Ke.N:Math.abs(e)*2<=Math.abs(r)?r>0?Ke.E:Ke.W:e>0?r>0?Ke.SE:Ke.SW:r>0?Ke.NE:Ke.NW,matrixAppendRotationInv:(r,e,t=0,s=0)=>{const i=V_[Ke.inv(e)];i.tx=t,i.ty=s,r.append(i)}};class is{constructor(e,t,s=0,i=0){this._x=s,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new is(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}is.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const kh=class{constructor(){this.worldTransform=new Ye,this.localTransform=new Ye,this.position=new is(this.onChange,this,0,0),this.scale=new is(this.onChange,this,1,1),this.pivot=new is(this.onChange,this,0,0),this.skew=new is(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,s=this.worldTransform;s.a=e.a*t.a+e.b*t.c,s.b=e.a*t.b+e.b*t.d,s.c=e.c*t.a+e.d*t.c,s.d=e.c*t.b+e.d*t.d,s.tx=e.tx*t.a+e.ty*t.c+t.tx,s.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};kh.IDENTITY=new kh;let nf=kh;nf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var H2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,G2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function zm(r,e,t){const s=r.createShader(e);return r.shaderSource(s,t),r.compileShader(s),s}function wu(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function W_(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return wu(2*e);case"bvec3":return wu(3*e);case"bvec4":return wu(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const nn=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],V2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},W2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function X2(r,e){const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in r.uniforms){const i=e[s];if(!i){r.uniforms[s]?.group===!0&&(r.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const n=r.uniforms[s];let o=!1;for(let a=0;a<nn.length;a++)if(nn[a].test(i,n)){t.push(nn[a].code(s,n)),o=!0;break}if(!o){const a=(i.size===1&&!i.isArray?V2:W2)[i.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const X_={};let qo=X_;function Y2(){if(qo===X_||qo?.isContextLost()){const r=ae.ADAPTER.createCanvas();let e;ae.PREFER_ENV>=Li.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),qo=e}return qo}let Zo;function q2(){if(!Zo){Zo=tr.MEDIUM;const r=Y2();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(Zo=e.precision?tr.HIGH:tr.MEDIUM)}}return Zo}function Hm(r,e){const t=r.getShaderSource(e).split(`
`).map((c,u)=>`${u}: ${c}`),s=r.getShaderInfoLog(e),i=s.split(`
`),n={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!n[c]?(n[c]=!0,!0):!1),a=[""];o.forEach(c=>{t[c-1]=`%c${t[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=t.join(`
`);a[0]=l,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Z2(r,e,t,s){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||Hm(r,t),r.getShaderParameter(s,r.COMPILE_STATUS)||Hm(r,s),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const K2={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Y_(r){return K2[r]}let Ko=null;const Gm={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function q_(r,e){if(!Ko){const t=Object.keys(Gm);Ko={};for(let s=0;s<t.length;++s){const i=t[s];Ko[r[i]]=Gm[i]}}return Ko[e]}function Vm(r,e,t){if(r.substring(0,9)!=="precision"){let s=e;return e===tr.HIGH&&t!==tr.HIGH&&(s=tr.MEDIUM),`precision ${s} float;
${r}`}else if(t!==tr.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let On;function J2(){if(typeof On=="boolean")return On;try{On=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{On=!1}return On}let Q2=0;const Jo={},Lh=class Wi{constructor(e,t,s="pixi-shader",i={}){this.extra={},this.id=Q2++,this.vertexSrc=e||Wi.defaultVertexSrc,this.fragmentSrc=t||Wi.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(s=s.replace(/\s+/g,"-"),Jo[s]?(Jo[s]++,s+=`-${Jo[s]}`):Jo[s]=1,this.vertexSrc=`#define SHADER_NAME ${s}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${s}
${this.fragmentSrc}`,this.vertexSrc=Vm(this.vertexSrc,Wi.defaultVertexPrecision,tr.HIGH),this.fragmentSrc=Vm(this.fragmentSrc,Wi.defaultFragmentPrecision,q2())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return G2}static get defaultFragmentSrc(){return H2}static from(e,t,s){const i=e+t;let n=Fm[i];return n||(Fm[i]=n=new Wi(e,t,s)),n}};Lh.defaultVertexPrecision=tr.HIGH,Lh.defaultFragmentPrecision=ss.apple.device?tr.HIGH:tr.MEDIUM;let ns=Lh,eP=0;class yr{constructor(e,t,s){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=eP++,this.static=!!t,this.ubo=!!s,e instanceof ot?(this.buffer=e,this.buffer.type=Nr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ot(new Float32Array(1)),this.buffer.type=Nr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,s){if(!this.ubo)this.uniforms[e]=new yr(t,s);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,s){return new yr(e,t,s)}static uboFrom(e,t){return new yr(e,t??!0,!0)}}class $r{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof yr?this.uniformGroup=t:this.uniformGroup=new yr(t):this.uniformGroup=new yr({}),this.disposeRunner=new gr("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const s in t.uniforms){const i=t.uniforms[s];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,s){const i=ns.from(e,t);return new $r(i,s)}}class tP{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const s=new Int32Array(e);for(let n=0;n<e;n++)s[n]=n;this.defaultGroupCache[e]=yr.from({uSamplers:s},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ns(this.vertexSrc,i)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:this.defaultGroupCache[e]};return new $r(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let s=0;s<e;s++)s>0&&(t+=`
else `),s<e-1&&(t+=`if(vTextureId < ${s}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${s}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class Mh{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function rP(){return!ss.apple.device}function sP(r){let e=!0;const t=ae.ADAPTER.getNavigator();if(ss.tablet||ss.phone){if(ss.apple.device){const s=t.userAgent.match(/OS (\d+)_(\d+)?/);s&&parseInt(s[1],10)<11&&(e=!1)}if(ss.android.device){const s=t.userAgent.match(/Android\s([0-9.]*)/);s&&parseInt(s[1],10)<7&&(e=!1)}}return e?r:4}class zl{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var iP=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,nP=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Gn=class cr extends zl{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=G_,this.vertexSize=6,this.state=Xr.for2d(),this.size=cr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??sP(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??rP(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Re("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return nP}static get defaultFragmentTemplate(){return iP}setShaderGenerator({vertex:e=cr.defaultVertexSrc,fragment:t=cr.defaultFragmentTemplate}={}){this.shaderGenerator=new tP(e,t)}contextChange(){const e=this.renderer.gl;ae.PREFER_ENV===Li.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),cr.defaultMaxTextures),this.maxTextures=M2(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=cr,s=this.size/4,i=Math.floor(s/this.maxTextures)+1;for(;e.length<s;)e.push(new Rh);for(;t.length<i;)t.push(new Mh);for(let n=0;n<this.maxTextures;n++)this._tempBoundTextures[n]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,s=cr._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++we._globalBatch,l=0,c=s[0],u=0;i.copyBoundTextures(n,t);for(let h=0;h<this._bufferSize;++h){const d=e[h];e[h]=null,d._batchEnabled!==a&&(c.count>=t&&(i.boundArray(c,n,a,t),this.buildDrawCalls(c,u,h),u=h,c=s[++l],++a),d._batchEnabled=a,d.touched=o,c.elements[c.count++]=d)}c.count>0&&(i.boundArray(c,n,a,t),this.buildDrawCalls(c,u,this._bufferSize),++l,++a);for(let h=0;h<n.length;h++)n[h]=null;we._globalBatch=a}buildDrawCalls(e,t,s){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:o,vertexSize:a}=this,l=cr._drawCallPool;let c=this._dcIndex,u=this._aIndex,h=this._iIndex,d=l[c];d.start=this._iIndex,d.texArray=e;for(let f=t;f<s;++f){const p=i[f],m=p._texture.baseTexture,g=U_[m.alphaMode?1:0][p.blendMode];i[f]=null,t<f&&d.blend!==g&&(d.size=h-d.start,t=f,d=l[++c],d.texArray=e,d.start=h),this.packInterleavedGeometry(p,n,o,u,h),u+=p.vertexData.length/2*a,h+=p.indices.length,d.blend=g}t<s&&(d.size=h-d.start,++c),this._dcIndex=c,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(e){const t=this.renderer.texture;for(let s=0;s<e.count;s++)t.bind(e.elements[s],e.ids[s]),e.elements[s]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:s}=this;cr.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:s}=this.renderer,i=cr._drawCallPool;let n=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:c,start:u,blend:h}=i[o];n!==a&&(n=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,s.set(this.state),t.drawElements(l,c,t.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),cr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=el(Math.ceil(e/8)),s=Om(t),i=t*8;this._aBuffers.length<=s&&(this._iBuffers.length=s+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Eh(i*this.vertexSize*4)),n}getIndexBuffer(e){const t=el(Math.ceil(e/12)),s=Om(t),i=t*12;this._iBuffers.length<=s&&(this._iBuffers.length=s+1);let n=this._iBuffers[s];return n||(this._iBuffers[s]=n=new Uint16Array(i)),n}packInterleavedGeometry(e,t,s,i,n){const{uint32View:o,float32View:a}=t,l=i/this.vertexSize,c=e.uvs,u=e.indices,h=e.vertexData,d=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=We.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let m=0;m<h.length;m+=2)a[i++]=h[m],a[i++]=h[m+1],a[i++]=c[m],a[i++]=c[m+1],o[i++]=p,a[i++]=d;for(let m=0;m<u.length;m++)s[n++]=l+u[m]}};Gn.defaultBatchSize=4096,Gn.extension={name:"batch",type:ee.RendererPlugin},Gn._drawCallPool=[],Gn._textureArrayPool=[];let ci=Gn;pe.add(ci);var oP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,aP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Dh=class Vn extends $r{constructor(e,t,s){const i=ns.from(e||Vn.defaultVertexSrc,t||Vn.defaultFragmentSrc);super(i,s),this.padding=0,this.resolution=Vn.defaultResolution,this.multisample=Vn.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Xr}apply(e,t,s,i,n){e.applyFilter(this,t,s,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return aP}static get defaultFragmentSrc(){return oP}};Dh.defaultResolution=1,Dh.defaultMultisample=ct.NONE;let Lt=Dh;class sl{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new We(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:s,backgroundAlpha:i}=e,n=s??t;n!==void 0&&(this.color=n),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}sl.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},sl.extension={type:[ee.RendererSystem,ee.CanvasRendererSystem],name:"background"};pe.add(sl);class Z_{constructor(e){this.renderer=e,this.emptyRenderer=new zl(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:s}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=s[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,s,i){const{elements:n,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const u=n[c],h=u._batchLocation;if(h>=0&&h<i&&t[h]===u){o[c]=h;continue}for(;l<i;){const d=t[l];if(d&&d._batchEnabled===s&&d._batchLocation===l){l++;continue}o[c]=l,u._batchLocation=l,t[l]=u;break}}}destroy(){this.renderer=null}}Z_.extension={type:ee.RendererSystem,name:"batch"};pe.add(Z_);let Wm=0;class il{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Wm++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,s=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:s,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Wm++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let s;if(ae.PREFER_ENV>=Li.WEBGL2&&(s=e.getContext("webgl2",t)),s)this.webGLVersion=2;else if(this.webGLVersion=1,s=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!s)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=s,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),s="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;s&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=s||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}il.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},il.extension={type:ee.RendererSystem,name:"context"};pe.add(il);class Oh{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new gr("disposeFramebuffer"),this.multisample=ct.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new we(null,{scaleMode:rs.NEAREST,resolution:1,mipmap:Hr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new we(null,{scaleMode:rs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Hr.OFF,format:q.DEPTH_COMPONENT,type:ye.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let s=0;s<this.colorTextures.length;s++){const i=this.colorTextures[s],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){const s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,t/s)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class K_ extends we{constructor(e={}){if(typeof e=="number"){const t=arguments[0],s=arguments[1],i=arguments[2],n=arguments[3];e={width:t,height:s,scaleMode:i,resolution:n}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=ct.NONE),super(null,e),this.mipmap=Hr.OFF,this.valid=!0,this._clear=new We([0,0,0,0]),this.framebuffer=new Oh(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ps extends uo{constructor(e){const t=e,s=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,i=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(s,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,s){s===void 0&&!t.startsWith("data:")?e.crossOrigin=I2(t):s!==!1&&(e.crossOrigin=typeof s=="string"?s:"anonymous")}upload(e,t,s,i){const n=e.gl,o=t.realWidth,a=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===$t.UNPACK),!this.noSubImage&&t.target===n.TEXTURE_2D&&s.width===o&&s.height===a?n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,s.type,i):(s.width=o,s.height=a,n.texImage2D(t.target,0,s.internalFormat,t.format,s.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,s=e.naturalHeight||e.videoHeight||e.height;this.resize(t,s),super.update()}dispose(){this.source=null}}class J_ extends ps{constructor(e,t){if(t=t||{},typeof e=="string"){const s=new Image;ps.crossOrigin(s,e,t.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,s)=>{const i=this.source;this.url=i.src;const n=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?n():(i.onload=n,i.onerror=o=>{s(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,s=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:s?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===$t.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,s){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,s);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,s,this.bitmap),!this.preserveBitmap){let i=!0;const n=t._glTextures;for(const o in n){const a=n[o];if(a!==s&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class of{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,s){const i=t.width,n=t.height;if(s){const o=e.width/2/i,a=e.height/2/n,l=e.x/i+o,c=e.y/n+a;s=Ke.add(s,Ke.NW),this.x0=l+o*Ke.uX(s),this.y0=c+a*Ke.uY(s),s=Ke.add(s,2),this.x1=l+o*Ke.uX(s),this.y1=c+a*Ke.uY(s),s=Ke.add(s,2),this.x2=l+o*Ke.uX(s),this.y2=c+a*Ke.uY(s),s=Ke.add(s,2),this.x3=l+o*Ke.uX(s),this.y3=c+a*Ke.uY(s)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}of.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const Xm=new of;function Qo(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class fe extends ko{constructor(e,t,s,i,n,o,a){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Se(0,0,1,1)),e instanceof fe&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=Xm,this.uvMatrix=null,this.orig=s||t,this._rotate=Number(n||0),n===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Me(o.x,o.y):new Me(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t?.url&&Pr[t.url]&&fe.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,fe.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),s=new fe(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(s._frame=e),s}updateUvs(){this._uvs===Xm&&(this._uvs=new of),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},s=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let n=null;if(i)n=e;else if(e instanceof we){if(!e.cacheId){const a=t?.pixiIdPrefix||"pixiid";e.cacheId=`${a}-${Ei()}`,we.addToCache(e,e.cacheId)}n=e.cacheId}else{if(!e._pixiId){const a=t?.pixiIdPrefix||"pixiid";e._pixiId=`${a}_${Ei()}`}n=e._pixiId}let o=Pr[n];if(i&&s&&!o)throw new Error(`The cacheId "${n}" does not exist in TextureCache.`);return!o&&!(e instanceof we)?(t.resolution||(t.resolution=fs(e)),o=new fe(new we(e,t)),o.baseTexture.cacheId=n,we.addToCache(o.baseTexture,n),fe.addToCache(o,n)):!o&&e instanceof we&&(o=new fe(e),fe.addToCache(o,n)),o}static fromURL(e,t){const s=Object.assign({autoLoad:!1},t?.resourceOptions),i=fe.from(e,Object.assign({resourceOptions:s},t),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,s,i){return new fe(we.fromBuffer(e,t,s,i))}static fromLoader(e,t,s,i){const n=new we(e,Object.assign({scaleMode:we.defaultOptions.scaleMode,resolution:fs(t)},i)),{resource:o}=n;o instanceof J_&&(o.url=t);const a=new fe(n);return s||(s=t),we.addToCache(a.baseTexture,s),fe.addToCache(a,s),s!==t&&(we.addToCache(a.baseTexture,t),fe.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Pr[t]&&Pr[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Pr[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Pr[e];if(t){const s=t.textureCacheIds.indexOf(e);return s>-1&&t.textureCacheIds.splice(s,1),delete Pr[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Pr[e.textureCacheIds[t]]===e&&delete Pr[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:s,width:i,height:n}=e,o=t+i>this.baseTexture.width,a=s+n>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,u=`Y: ${s} + ${n} = ${s+n} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${u}`)}this.valid=i&&n&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return fe._EMPTY||(fe._EMPTY=new fe(new we),Qo(fe._EMPTY),Qo(fe._EMPTY.baseTexture)),fe._EMPTY}static get WHITE(){if(!fe._WHITE){const e=ae.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),fe._WHITE=new fe(we.from(e)),Qo(fe._WHITE),Qo(fe._WHITE.baseTexture)}return fe._WHITE}}class Mi extends fe{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,s=!0){const i=this.baseTexture.resolution,n=Math.round(e*i)/i,o=Math.round(t*i)/i;this.valid=n>0&&o>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=o,s&&this.baseTexture.resize(n,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Mi(new K_(e))}}class Q_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,s=ct.NONE){const i=new K_(Object.assign({width:e,height:t,resolution:1,multisample:s},this.textureOptions));return new Mi(i)}getOptimalTexture(e,t,s=1,i=ct.NONE){let n;e=Math.max(Math.ceil(e*s-1e-6),1),t=Math.max(Math.ceil(t*s-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=el(e),t=el(t),n=((e&65535)<<16|t&65535)>>>0,i>1&&(n+=i*4294967296)):n=i>1?-i:-1,this.texturePool[n]||(this.texturePool[n]=[]);let o=this.texturePool[n].pop();return o||(o=this.createTexture(e,t,i)),o.filterPoolKey=n,o.setResolution(s),o}getFilterTexture(e,t,s){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,s||ct.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const s=this.texturePool[t];if(s)for(let i=0;i<s.length;i++)s[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const s=this.texturePool[t];if(s)for(let i=0;i<s.length;i++)s[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Q_.SCREEN_KEY=-1;class lP extends js{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class e0 extends js{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ot(this.vertices),this.uvBuffer=new ot(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let s=0,i=0;return this.uvs[0]=s,this.uvs[1]=i,this.uvs[2]=s+t.width/e.width,this.uvs[3]=i,this.uvs[4]=s+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=s,this.uvs[7]=i+t.height/e.height,s=t.x,i=t.y,this.vertices[0]=s,this.vertices[1]=i,this.vertices[2]=s+t.width,this.vertices[3]=i,this.vertices[4]=s+t.width,this.vertices[5]=i+t.height,this.vertices[6]=s,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class cP{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ct.NONE,this.sourceFrame=new Se,this.destinationFrame=new Se,this.bindingSourceFrame=new Se,this.bindingDestinationFrame=new Se,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ea=[new Me,new Me,new Me,new Me],Au=new Ye;class t0{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Q_,this.statePool=[],this.quad=new lP,this.quadUv=new e0,this.tempRect=new Se,this.activeState={},this.globalUniforms=new yr({outputFrame:new Se,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const s=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new cP,o=s.renderTexture;let a,l;if(o.current){const g=o.current;a=g.resolution,l=g.multisample}else a=s.resolution,l=s.multisample;let c=t[0].resolution||a,u=t[0].multisample??l,h=t[0].padding,d=t[0].autoFit,f=t[0].legacy??!0;for(let g=1;g<t.length;g++){const y=t[g];c=Math.min(c,y.resolution||a),u=Math.min(u,y.multisample??l),h=this.useMaxPadding?Math.max(h,y.padding):h+y.padding,d=d&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(n),n.resolution=c,n.multisample=u,n.legacy=f,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(h);const p=this.tempRect.copyFrom(o.sourceFrame);s.projection.transform&&this.transformAABB(Au.copyFrom(s.projection.transform).invert(),p),d?(n.sourceFrame.fit(p),(n.sourceFrame.width<=0||n.sourceFrame.height<=0)&&(n.sourceFrame.width=0,n.sourceFrame.height=0)):n.sourceFrame.intersects(p)||(n.sourceFrame.width=0,n.sourceFrame.height=0),this.roundFrame(n.sourceFrame,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,c,u),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=n.sourceFrame.width,m.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(o.sourceFrame),n.bindingDestinationFrame.copyFrom(o.destinationFrame),n.transform=s.projection.transform,s.projection.transform=null,o.bind(n.renderTexture,n.sourceFrame,m),s.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),s=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const n=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=Math.round(n[0]*t.resolution),o[1]=Math.round(n[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*n[2]-.5*o[2],a[3]=t.sourceFrame.height*n[3]-.5*o[3],t.legacy){const c=i.filterArea;c[0]=t.destinationFrame.width,c[1]=t.destinationFrame.height,c[2]=t.sourceFrame.x,c[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),s.length===1)s[0].apply(this,t.renderTexture,l.renderTexture,Mr.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;let h=0;for(h=0;h<s.length-1;++h){h===1&&t.multisample>1&&(u=this.getOptimalFilterTexture(c.width,c.height,t.resolution),u.filterFrame=c.filterFrame),s[h].apply(this,c,u,Mr.CLEAR,t);const d=c;c=u,u=d}s[h].apply(this,c,l.renderTexture,Mr.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Mr.CLEAR){const{renderTexture:s,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,s.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?s.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const n=i.stateId&1||this.forceClear;(t===Mr.CLEAR||t===Mr.BLIT&&n)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,s,i){const n=this.renderer;n.state.set(e.state),this.bindAndClear(s,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(Or.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(Or.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:s,destinationFrame:i}=this.activeState,{orig:n}=t._texture,o=e.set(i.width,0,0,i.height,s.x,s.y),a=t.worldTransform.copyTo(Ye.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/n.width,1/n.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,s=1,i=ct.NONE){return this.texturePool.getOptimalTexture(e,t,s,i)}getFilterTexture(e,t,s){if(typeof e=="number"){const n=e;e=t,t=n}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,s||ct.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const s=ea[0],i=ea[1],n=ea[2],o=ea[3];s.set(t.left,t.top),i.set(t.left,t.bottom),n.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(s,s),e.apply(i,i),e.apply(n,n),e.apply(o,o);const a=Math.min(s.x,i.x,n.x,o.x),l=Math.min(s.y,i.y,n.y,o.y),c=Math.max(s.x,i.x,n.x,o.x),u=Math.max(s.y,i.y,n.y,o.y);t.x=a,t.y=l,t.width=c-a,t.height=u-l}roundFrame(e,t,s,i,n){if(!(e.width<=0||e.height<=0||s.width<=0||s.height<=0)){if(n){const{a:o,b:a,c:l,d:c}=n;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}n=n?Au.copyFrom(n):Au.identity(),n.translate(-s.x,-s.y).scale(i.width/s.width,i.height/s.height).translate(i.x,i.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}}}t0.extension={type:ee.RendererSystem,name:"filter"};pe.add(t0);class uP{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ct.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const hP=new Se;class r0{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Oh(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Se,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,s=this.renderer.context.extensions.depthTexture;ae.PREFER_ENV===Li.WEBGL_LEGACY&&(t=null,s=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),s||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,s=0){const{gl:i}=this;if(e){const n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==s&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=s),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,s)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const o=t.width>>s,a=t.height>>s,l=o/t.width;this.setViewport(t.x*l,t.y*l,o,a)}else{const o=e.width>>s,a=e.height>>s;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,s,i){const n=this.viewport;e=Math.round(e),t=Math.round(t),s=Math.round(s),i=Math.round(i),(n.width!==s||n.height!==i||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=s,n.height=i,this.gl.viewport(e,t,s,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,s,i,n=xh.COLOR|xh.DEPTH){const{gl:o}=this;o.clearColor(e,t,s,i),o.clear(n)}initFramebuffer(e){const{gl:t}=this,s=new uP(t.createFramebuffer());return s.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(e),e.disposeRunner.add(this),s}resizeFramebuffer(e){const{gl:t}=this,s=e.glFramebuffers[this.CONTEXT_UID];if(s.stencil){t.bindRenderbuffer(t.RENDERBUFFER,s.stencil);let o;this.renderer.context.webGLVersion===1?o=t.DEPTH_STENCIL:e.depth&&e.stencil?o=t.DEPTH24_STENCIL8:e.depth?o=t.DEPTH_COMPONENT24:o=t.STENCIL_INDEX8,s.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,s.multisample,o,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let n=i.length;t.drawBuffers||(n=Math.min(n,1));for(let o=0;o<n;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&s.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,s.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,s.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:s}=this,i=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures;let o=n.length;s.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||s.createRenderbuffer():i.msaaBuffer&&(s.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=n[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),l===0&&i.msaaBuffer?(s.bindRenderbuffer(s.RENDERBUFFER,i.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,i.msaaBuffer)):(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,t),a.push(s.COLOR_ATTACHMENT0+l))}if(a.length>1&&s.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||s.createRenderbuffer();let l,c;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth&&e.stencil?(l=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):e.depth?(l=s.DEPTH_ATTACHMENT,c=s.DEPTH_COMPONENT24):(l=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),s.bindRenderbuffer(s.RENDERBUFFER,i.stencil),i.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,c,e.width,e.height):s.renderbufferStorage(s.RENDERBUFFER,c,e.width,e.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,i.stencil)}else i.stencil&&(s.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let s=ct.NONE;if(e<=1||t===null)return s;for(let i=0;i<t.length;i++)if(t[i]<=e){s=t[i];break}return s===1&&(s=ct.NONE),s}blit(e,t,s){const{current:i,renderer:n,gl:o,CONTEXT_UID:a}=this;if(n.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const u=i.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new Oh(i.width,i.height),l.blitFramebuffer.addColorTexture(0,u)),e=l.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=hP,t.width=i.width,t.height=i.height),s||(s=t);const c=t.width===s.width&&t.height===s.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,s.left,s.top,s.right,s.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const s=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!s)return;delete e.glFramebuffers[this.CONTEXT_UID];const n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(s.framebuffer),s.msaaBuffer&&i.deleteRenderbuffer(s.msaaBuffer),s.stencil&&i.deleteRenderbuffer(s.stencil)),s.blitFramebuffer&&this.disposeFramebuffer(s.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let s=0;s<t.length;s++)this.disposeFramebuffer(t[s],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const s=e.width,i=e.height,n=this.gl,o=t.stencil=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o);let a,l;this.renderer.context.webGLVersion===1?(a=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH_STENCIL):e.depth?(a=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH24_STENCIL8):(a=n.STENCIL_ATTACHMENT,l=n.STENCIL_INDEX8),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,l,s,i):n.renderbufferStorage(n.RENDERBUFFER,l,s,i),n.framebufferRenderbuffer(n.FRAMEBUFFER,a,n.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Se}destroy(){this.renderer=null}}r0.extension={type:ee.RendererSystem,name:"framebuffer"};pe.add(r0);const Su={5126:4,5123:2,5121:1};class s0{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let s=this.renderer.context.extensions.vertexArrayObject;ae.PREFER_ENV===Li.WEBGL_LEGACY&&(s=null),s?(e.createVertexArray=()=>s.createVertexArrayOES(),e.bindVertexArray=i=>s.bindVertexArrayOES(i),e.deleteVertexArray=i=>s.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const s=e.getExtension("ANGLE_instanced_arrays");s?(e.vertexAttribDivisor=(i,n)=>s.vertexAttribDivisorANGLE(i,n),e.drawElementsInstanced=(i,n,o,a,l)=>s.drawElementsInstancedANGLE(i,n,o,a,l),e.drawArraysInstanced=(i,n,o,a)=>s.drawArraysInstancedANGLE(i,n,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:s}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);const o=i[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?s.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let s=0;s<e.buffers.length;s++){const i=e.buffers[s];t.update(i)}}checkCompatibility(e,t){const s=e.attributes,i=t.attributeData;for(const n in i)if(!s[n])throw new Error(`shader and geometry incompatible, geometry missing the "${n}" attribute`)}getSignature(e,t){const s=e.attributes,i=t.attributeData,n=["g",e.id];for(const o in s)i[o]&&n.push(o,i[o].location);return n.join("-")}initGeometryVao(e,t,s=!0){const i=this.gl,n=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let u=c[l];if(u)return c[a.id]=u,u;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*Su[d[m].type];for(const m in d){const g=d[m],y=g.size;g.stride===void 0&&(f[g.buffer]===y*Su[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=y*Su[g.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),s&&g._glBuffers[n].refCount++}return this.activateVao(e,a),c[a.id]=u,c[l]=u,i.bindVertexArray(null),o.unbind(Nr.ARRAY_BUFFER),u}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const s=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!s){if(o)for(let a=0;a<n.length;a++){const l=n[a]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!t&&o.dispose(n[a],t))}if(!t){for(const a in s)if(a[0]==="g"){const l=s[a];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let s=0;s<t.length;s++)this.disposeGeometry(this.managedGeometries[t[s]],e)}activateVao(e,t){const s=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);let l=null;for(const c in a){const u=a[c],h=o[u.buffer],d=h._glBuffers[i];if(t.attributeData[c]){l!==d&&(n.bind(h),l=d);const f=t.attributeData[c].location;if(s.enableVertexAttribArray(f),s.vertexAttribPointer(f,u.size,u.type||s.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)s.vertexAttribDivisor(f,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,s,i){const{gl:n}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?n.UNSIGNED_SHORT:n.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(e,t||o.indexBuffer.data.length,l,(s||0)*a,i||1):n.drawElements(e,t||o.indexBuffer.data.length,l,(s||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(e,s,t||o.getSize(),i||1):n.drawArrays(e,s,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}s0.extension={type:ee.RendererSystem,name:"geometry"};pe.add(s0);const Ym=new Ye;class i0{constructor(e,t){this._texture=e,this.mapCoord=new Ye,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const s=this.mapCoord;for(let i=0;i<e.length;i+=2){const n=e[i],o=e[i+1];t[i]=n*s.a+o*s.c+s.tx,t[i+1]=n*s.b+o*s.d+s.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const s=t._uvs;this.mapCoord.set(s.x1-s.x0,s.y1-s.y0,s.x3-s.x0,s.y3-s.y0,s.x0,s.y0);const i=t.orig,n=t.trim;n&&(Ym.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ym));const o=t.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(t._frame.x+l+c)/o.width,a[1]=(t._frame.y+l+c)/o.height,a[2]=(t._frame.x+t._frame.width-l+c)/o.width,a[3]=(t._frame.y+t._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&t.rotate===0,!0}}var dP=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,fP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class pP extends Lt{constructor(e,t,s){let i=null;typeof e!="string"&&t===void 0&&s===void 0&&(i=e,e=void 0,t=void 0,s=void 0),super(e||fP,t||dP,s),this.maskSprite=i,this.maskMatrix=new Ye}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,s,i){const n=this._maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new i0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,s,i))}}class mP{constructor(e=null){this.type=dt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Lt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=dt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class n0{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let s=t;if(!s.isMaskData){const n=this.maskDataPool.pop()||new mP;n.pooled=!0,n.maskObject=t,s=n}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(s.copyCountersOrReset(i),s._colorMask=i?i._colorMask:15,s.autoDetect&&this.detect(s),s._target=e,s.type!==dt.SPRITE&&this.maskStack.push(s),s.enabled)switch(s.type){case dt.SCISSOR:this.renderer.scissor.push(s);break;case dt.STENCIL:this.renderer.stencil.push(s);break;case dt.SPRITE:s.copyCountersOrReset(null),this.pushSpriteMask(s);break;case dt.COLOR:this.pushColorMask(s);break}s.type===dt.SPRITE&&this.maskStack.push(s)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case dt.SCISSOR:this.renderer.scissor.pop(t);break;case dt.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case dt.SPRITE:this.popSpriteMask(t);break;case dt.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const s=this.maskStack[this.maskStack.length-1];s.type===dt.SPRITE&&s._filters&&(s._filters[0].maskSprite=s.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=dt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=dt.SCISSOR:e.type=dt.STENCIL:e.type=dt.COLOR}pushSpriteMask(e){const{maskObject:t}=e,s=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new pP])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const n=s.filterArea;s.filterArea=t.getBounds(!0),this.renderer.filter.push(s,i),s.filterArea=n,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,s=e._colorMask=t&e.colorMask;s!==t&&this.renderer.gl.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)}popColorMask(e){const t=e._colorMask,s=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;s!==t&&this.renderer.gl.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)}destroy(){this.renderer=null}}n0.extension={type:ee.RendererSystem,name:"mask"};pe.add(n0);class o0{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,s=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==s&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const qm=new Ye,Zm=[],a0=class Oa extends o0{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:s}=e,{renderer:i}=this,n=i.renderTexture,o=s.getBounds(!0,Zm.pop()??new Se);this.roundFrameToPixels(o,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:s,c:i,d:n}=e;return(Math.abs(s)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Oa.isMatrixRotated(t.worldTransform)||Oa.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const s=e._scissorRectLocal;return s.width>0&&s.height>0}roundFrameToPixels(e,t,s,i,n){Oa.isMatrixRotated(n)||(n=n?qm.copyFrom(n):qm.identity(),n.translate(-s.x,-s.y).scale(i.width/s.width,i.height/s.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&Zm.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};a0.extension={type:ee.RendererSystem,name:"scissor"};let gP=a0;pe.add(gP);class l0 extends o0{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:s}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),s.clearStencil(0),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST)),e._stencilCounter++;const n=e._colorMask;n!==0&&(e._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilFunc(s.EQUAL,i,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,n!==0&&(e._colorMask=n,s.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=s?s._colorMask:15;i!==0&&(s._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(s._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}l0.extension={type:ee.RendererSystem,name:"stencil"};pe.add(l0);class c0{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Re("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}c0.extension={type:[ee.RendererSystem,ee.CanvasRendererSystem],name:"_plugin"};pe.add(c0);class u0{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ye,this.transform=null}update(e,t,s,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,s,i),this.transform&&this.projectionMatrix.append(this.transform);const n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(e,t,s,i){const n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=o*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-o-t.y*n.d}setTransform(e){}destroy(){this.renderer=null}}u0.extension={type:ee.RendererSystem,name:"projection"};pe.add(u0);const yP=new nf,Km=new Se;class h0{constructor(e){this.renderer=e,this._tempMatrix=new Ye}generateTexture(e,t){const{region:s,...i}=t||{},n=s?.copyTo(Km)||e.getLocalBounds(Km,!0),o=i.resolution||this.renderer.resolution;n.width=Math.max(n.width,1/o),n.height=Math.max(n.height,1/o),i.width=n.width,i.height=n.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Mi.create(i);this._tempMatrix.tx=-n.x,this._tempMatrix.ty=-n.y;const l=e.transform;return e.transform=yP,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}h0.extension={type:[ee.RendererSystem,ee.CanvasRendererSystem],name:"textureGenerator"};pe.add(h0);const ti=new Se,Bn=new Se;class d0{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Se,this.destinationFrame=new Se,this.viewportFrame=new Se}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,s){const i=this.renderer;this.current=e;let n,o,a;e?(n=e.baseTexture,a=n.resolution,t||(ti.width=e.frame.width,ti.height=e.frame.height,t=ti),s||(Bn.x=e.frame.x,Bn.y=e.frame.y,Bn.width=t.width,Bn.height=t.height,s=Bn),o=n.framebuffer):(a=i.resolution,t||(ti.width=i._view.screen.width,ti.height=i._view.screen.height,t=ti),s||(s=ti,s.width=t.width,s.height=t.height));const l=this.viewportFrame;l.x=s.x*a,l.y=s.y*a,l.width=s.width*a,l.height=s.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(s,t,a,!o),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(s)}clear(e,t){const s=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=We.shared.setValue(e||s);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const n=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=n.width!==o.width||n.height!==o.height;if(a){let{x:l,y:c,width:u,height:h}=this.viewportFrame;l=Math.round(l),c=Math.round(c),u=Math.round(u),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,c,u,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}d0.extension={type:ee.RendererSystem,name:"renderTexture"};pe.add(d0);class vP{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function _P(r,e){const t={},s=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let i=0;i<s;i++){const n=e.getActiveAttrib(r,i);if(n.name.startsWith("gl_"))continue;const o=q_(e,n.type),a={type:o,name:n.name,size:Y_(o),location:e.getAttribLocation(r,n.name)};t[n.name]=a}return t}function bP(r,e){const t={},s=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let i=0;i<s;i++){const n=e.getActiveUniform(r,i),o=n.name.replace(/\[.*?\]$/,""),a=!!n.name.match(/\[.*?\]$/),l=q_(e,n.type);t[o]={name:o,index:i,type:l,size:n.size,isArray:a,value:W_(l,n.size)}}return t}function xP(r,e){const t=zm(r,r.VERTEX_SHADER,e.vertexSrc),s=zm(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();r.attachShader(i,t),r.attachShader(i,s);const n=e.extra?.transformFeedbackVaryings;if(n&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(i,n.names,n.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||Z2(r,i,t,s),e.attributeData=_P(i,r),e.uniformData=bP(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const a=Object.keys(e.attributeData);a.sort((l,c)=>l>c?1:-1);for(let l=0;l<a.length;l++)e.attributeData[a[l]].location=l,r.bindAttribLocation(i,l,a[l]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(s);const o={};for(const a in e.uniformData){const l=e.uniformData[a];o[a]={location:r.getUniformLocation(i,a),value:W_(l.type,l.size)}}return new vP(i,o)}function TP(r,e,t,s,i){t.buffer.update(i)}const wP={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},f0={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function AP(r){const e=r.map(n=>({data:n,offset:0,dataLen:0,dirty:0}));let t=0,s=0,i=0;for(let n=0;n<e.length;n++){const o=e[n];if(t=f0[o.data.type],o.data.size>1&&(t=Math.max(t,16)*o.data.size),o.dataLen=t,s%t!==0&&s<16){const a=s%t%16;s+=a,i+=a}s+t>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=t,s=t):(o.offset=i,s+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function SP(r,e){const t=[];for(const s in r)e[s]&&t.push(e[s]);return t.sort((s,i)=>s.index-i.index),t}function EP(r,e){if(!r.autoManage)return{size:0,syncFunc:TP};const t=SP(r.uniforms,e),{uboElements:s,size:i}=AP(t),n=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<s.length;o++){const a=s[o],l=r.uniforms[a.data.name],c=a.data.name;let u=!1;for(let h=0;h<nn.length;h++){const d=nn[h];if(d.codeUbo&&d.test(a.data,l)){n.push(`offset = ${a.offset/4};`,nn[h].codeUbo(a.data.name,l)),u=!0;break}}if(!u)if(a.data.size>1){const h=Y_(a.data.type),d=Math.max(f0[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;n.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=wP[a.data.type];n.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${h};
                `)}}return n.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",n.join(`
`))}}let CP=0;const ta={textureCount:0,uboCount:0};class p0{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=CP++}systemCheck(){if(!J2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const s=e.program,i=s.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==s&&(this.program=s,this.gl.useProgram(i.program)),t||(ta.textureCount=0,ta.uboCount=0,this.syncUniformGroup(e.uniformGroup,ta)),i}setUniforms(e){const t=this.shader.program,s=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(s.uniformData,e,this.renderer)}syncUniformGroup(e,t){const s=this.getGlProgram();(!e.static||e.dirtyId!==s.uniformDirtyGroups[e.id])&&(s.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,s,t))}syncUniforms(e,t,s){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,s)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=X2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const s=this.getGlProgram();if(!e.static||e.dirtyId!==0||!s.uniformGroups[e.id]){e.dirtyId=0;const i=s.uniformGroups[e.id]||this.createSyncBufferGroup(e,s,t);e.buffer.update(),i(s.uniformData,e.uniforms,this.renderer,ta,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,s.uniformBufferBindings[t])}createSyncBufferGroup(e,t,s){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const n=this.gl.getUniformBlockIndex(t.program,s);t.uniformBufferBindings[s]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=EP(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,s){const i=e.uniforms,n=[`${s}-`];for(const o in i)n.push(o),t[o]&&n.push(t[o].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,s=e.program,i=xP(t,s);return s.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}p0.extension={type:ee.RendererSystem,name:"shader"};pe.add(p0);class nl{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}nl.defaultOptions={hello:!1},nl.extension={type:[ee.RendererSystem,ee.CanvasRendererSystem],name:"startup"};pe.add(nl);function PP(r,e=[]){return e[_e.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[r.ONE,r.ONE],e[_e.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[_e.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[_e.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[_e.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[_e.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[_e.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[_e.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const RP=0,IP=1,kP=2,LP=3,MP=4,DP=5,m0=class Bh{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[RP]=this.setBlend,this.map[IP]=this.setOffset,this.map[kP]=this.setCullFace,this.map[LP]=this.setDepthTest,this.map[MP]=this.setFrontFace,this.map[DP]=this.setDepthMask,this.checks=[],this.defaultState=new Xr,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=PP(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,s=0;for(;t;)t&1&&this.map[s].call(this,!!(e.data&1<<s)),t=t>>1,s++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Bh.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Bh.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],s=this.gl;t.length===2?s.blendFunc(t[0],t[1]):s.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,s.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const s=this.checks.indexOf(e);t&&s===-1?this.checks.push(e):!t&&s!==-1&&this.checks.splice(s,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};m0.extension={type:ee.RendererSystem,name:"state"};let OP=m0;pe.add(OP);class BP extends ko{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(i=>e.systems[i]),s=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(const i of s)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new gr(t)})}addSystem(e,t){const s=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=s,this._systemsHash[t]=s;for(const i in this.runners)this.runners[i].add(s);return this}emitWithCustomOptions(e,t){const s=Object.keys(this._systemsHash);e.items.forEach(i=>{const n=s.find(o=>this._systemsHash[o]===i);i[e.name](t[n])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Wn=class Ba{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ba.defaultMaxIdle,this.checkCountMax=Ba.defaultCheckCountMax,this.mode=Ba.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==ef.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let s=!1;for(let i=0;i<t.length;i++){const n=t[i];n.resource&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,s=!0)}if(s){let i=0;for(let n=0;n<t.length;n++)t[n]!==null&&(t[i++]=t[n]);t.length=i}}unload(e){const t=this.renderer.texture,s=e._texture;s&&!s.framebuffer&&t.destroyTexture(s);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Wn.defaultMode=ef.AUTO,Wn.defaultMaxIdle=3600,Wn.defaultCheckCountMax=600,Wn.extension={type:ee.RendererSystem,name:"textureGC"};let ui=Wn;pe.add(ui);class Eu{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ye.UNSIGNED_BYTE,this.internalFormat=q.RGBA,this.samplerType=0}}function FP(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:oe.FLOAT,[r.RGBA]:oe.FLOAT,[r.ALPHA]:oe.FLOAT,[r.LUMINANCE]:oe.FLOAT,[r.LUMINANCE_ALPHA]:oe.FLOAT,[r.R8]:oe.FLOAT,[r.R8_SNORM]:oe.FLOAT,[r.RG8]:oe.FLOAT,[r.RG8_SNORM]:oe.FLOAT,[r.RGB8]:oe.FLOAT,[r.RGB8_SNORM]:oe.FLOAT,[r.RGB565]:oe.FLOAT,[r.RGBA4]:oe.FLOAT,[r.RGB5_A1]:oe.FLOAT,[r.RGBA8]:oe.FLOAT,[r.RGBA8_SNORM]:oe.FLOAT,[r.RGB10_A2]:oe.FLOAT,[r.RGB10_A2UI]:oe.FLOAT,[r.SRGB8]:oe.FLOAT,[r.SRGB8_ALPHA8]:oe.FLOAT,[r.R16F]:oe.FLOAT,[r.RG16F]:oe.FLOAT,[r.RGB16F]:oe.FLOAT,[r.RGBA16F]:oe.FLOAT,[r.R32F]:oe.FLOAT,[r.RG32F]:oe.FLOAT,[r.RGB32F]:oe.FLOAT,[r.RGBA32F]:oe.FLOAT,[r.R11F_G11F_B10F]:oe.FLOAT,[r.RGB9_E5]:oe.FLOAT,[r.R8I]:oe.INT,[r.R8UI]:oe.UINT,[r.R16I]:oe.INT,[r.R16UI]:oe.UINT,[r.R32I]:oe.INT,[r.R32UI]:oe.UINT,[r.RG8I]:oe.INT,[r.RG8UI]:oe.UINT,[r.RG16I]:oe.INT,[r.RG16UI]:oe.UINT,[r.RG32I]:oe.INT,[r.RG32UI]:oe.UINT,[r.RGB8I]:oe.INT,[r.RGB8UI]:oe.UINT,[r.RGB16I]:oe.INT,[r.RGB16UI]:oe.UINT,[r.RGB32I]:oe.INT,[r.RGB32UI]:oe.UINT,[r.RGBA8I]:oe.INT,[r.RGBA8UI]:oe.UINT,[r.RGBA16I]:oe.INT,[r.RGBA16UI]:oe.UINT,[r.RGBA32I]:oe.INT,[r.RGBA32UI]:oe.UINT,[r.DEPTH_COMPONENT16]:oe.FLOAT,[r.DEPTH_COMPONENT24]:oe.FLOAT,[r.DEPTH_COMPONENT32F]:oe.FLOAT,[r.DEPTH_STENCIL]:oe.FLOAT,[r.DEPTH24_STENCIL8]:oe.FLOAT,[r.DEPTH32F_STENCIL8]:oe.FLOAT}:e={[r.RGB]:oe.FLOAT,[r.RGBA]:oe.FLOAT,[r.ALPHA]:oe.FLOAT,[r.LUMINANCE]:oe.FLOAT,[r.LUMINANCE_ALPHA]:oe.FLOAT,[r.DEPTH_STENCIL]:oe.FLOAT},e}function NP(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[ye.UNSIGNED_BYTE]:{[q.RGBA]:r.RGBA8,[q.RGB]:r.RGB8,[q.RG]:r.RG8,[q.RED]:r.R8,[q.RGBA_INTEGER]:r.RGBA8UI,[q.RGB_INTEGER]:r.RGB8UI,[q.RG_INTEGER]:r.RG8UI,[q.RED_INTEGER]:r.R8UI,[q.ALPHA]:r.ALPHA,[q.LUMINANCE]:r.LUMINANCE,[q.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[ye.BYTE]:{[q.RGBA]:r.RGBA8_SNORM,[q.RGB]:r.RGB8_SNORM,[q.RG]:r.RG8_SNORM,[q.RED]:r.R8_SNORM,[q.RGBA_INTEGER]:r.RGBA8I,[q.RGB_INTEGER]:r.RGB8I,[q.RG_INTEGER]:r.RG8I,[q.RED_INTEGER]:r.R8I},[ye.UNSIGNED_SHORT]:{[q.RGBA_INTEGER]:r.RGBA16UI,[q.RGB_INTEGER]:r.RGB16UI,[q.RG_INTEGER]:r.RG16UI,[q.RED_INTEGER]:r.R16UI,[q.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[ye.SHORT]:{[q.RGBA_INTEGER]:r.RGBA16I,[q.RGB_INTEGER]:r.RGB16I,[q.RG_INTEGER]:r.RG16I,[q.RED_INTEGER]:r.R16I},[ye.UNSIGNED_INT]:{[q.RGBA_INTEGER]:r.RGBA32UI,[q.RGB_INTEGER]:r.RGB32UI,[q.RG_INTEGER]:r.RG32UI,[q.RED_INTEGER]:r.R32UI,[q.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[ye.INT]:{[q.RGBA_INTEGER]:r.RGBA32I,[q.RGB_INTEGER]:r.RGB32I,[q.RG_INTEGER]:r.RG32I,[q.RED_INTEGER]:r.R32I},[ye.FLOAT]:{[q.RGBA]:r.RGBA32F,[q.RGB]:r.RGB32F,[q.RG]:r.RG32F,[q.RED]:r.R32F,[q.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[ye.HALF_FLOAT]:{[q.RGBA]:r.RGBA16F,[q.RGB]:r.RGB16F,[q.RG]:r.RG16F,[q.RED]:r.R16F},[ye.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:r.RGB565},[ye.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:r.RGBA4},[ye.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:r.RGB5_A1},[ye.UNSIGNED_INT_2_10_10_10_REV]:{[q.RGBA]:r.RGB10_A2,[q.RGBA_INTEGER]:r.RGB10_A2UI},[ye.UNSIGNED_INT_10F_11F_11F_REV]:{[q.RGB]:r.R11F_G11F_B10F},[ye.UNSIGNED_INT_5_9_9_9_REV]:{[q.RGB]:r.RGB9_E5},[ye.UNSIGNED_INT_24_8]:{[q.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[ye.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[q.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[ye.UNSIGNED_BYTE]:{[q.RGBA]:r.RGBA,[q.RGB]:r.RGB,[q.ALPHA]:r.ALPHA,[q.LUMINANCE]:r.LUMINANCE,[q.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[ye.UNSIGNED_SHORT_5_6_5]:{[q.RGB]:r.RGB},[ye.UNSIGNED_SHORT_4_4_4_4]:{[q.RGBA]:r.RGBA},[ye.UNSIGNED_SHORT_5_5_5_1]:{[q.RGBA]:r.RGBA}},e}class g0{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new we,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=NP(e),this.samplerTypes=FP(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};const s=new Eu(e.createTexture());e.bindTexture(e.TEXTURE_2D,s.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=s,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Eu(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){const{gl:s}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),s.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,s.activeTexture(s.TEXTURE0+t)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:s}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<s.length;i++)s[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<s.length;i++)s[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),s[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:s,CONTEXT_UID:i}=this;if(s)for(let n=e-1;n>=0;--n){const o=t[n];o&&o._glTextures[i].samplerType!==oe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const t=new Eu(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??oe.FLOAT,this.webGLVersion===2&&e.type===ye.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const s=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(s,e,t))t.samplerType!==oe.FLOAT&&(this.hasIntegerTextures=!0);else{const i=e.realWidth,n=e.realHeight,o=s.gl;(t.width!==i||t.height!==n||t.dirtyId<0)&&(t.width=i,t.height=n,o.texImage2D(e.target,0,t.internalFormat,i,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:s}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),s.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const i=this.managedTextures.indexOf(e);i!==-1&&sn(this.managedTextures,i,1)}}updateTextureStyle(e){const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Hr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Bs.CLAMP:t.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const s=this.gl;if(t.mipmap&&e.mipmap!==Hr.ON_MANUAL&&s.generateMipmap(e.target),s.texParameteri(e.target,s.TEXTURE_WRAP_S,t.wrapMode),s.texParameteri(e.target,s.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){s.texParameteri(e.target,s.TEXTURE_MIN_FILTER,e.scaleMode===rs.LINEAR?s.LINEAR_MIPMAP_LINEAR:s.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===rs.LINEAR){const n=Math.min(e.anisotropicLevel,s.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));s.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else s.texParameteri(e.target,s.TEXTURE_MIN_FILTER,e.scaleMode===rs.LINEAR?s.LINEAR:s.NEAREST);s.texParameteri(e.target,s.TEXTURE_MAG_FILTER,e.scaleMode===rs.LINEAR?s.LINEAR:s.NEAREST)}destroy(){this.renderer=null}}g0.extension={type:ee.RendererSystem,name:"texture"};pe.add(g0);class y0{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:s}=this,i=e._glTransformFeedbacks[s]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:s,renderer:i}=this;t&&i.shader.bind(t),s.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:s,CONTEXT_UID:i}=this,n=t.createTransformFeedback();e._glTransformFeedbacks[i]=n,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(s.buffer.update(a),a._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),n}disposeTransformFeedback(e,t){const s=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const n=this.renderer.buffer;if(n)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!t&&n.dispose(a,t))}s&&(t||i.deleteTransformFeedback(s),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}y0.extension={type:ee.RendererSystem,name:"transformFeedback"};pe.add(y0);class ol{constructor(e){this.renderer=e}init(e){this.screen=new Se(0,0,e.width,e.height),this.element=e.view||ae.ADAPTER.createCanvas(),this.resolution=e.resolution||ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const s=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=s,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${s}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",s,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}ol.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ol.extension={type:[ee.RendererSystem,ee.CanvasRendererSystem],name:"_view"};pe.add(ol);ae.PREFER_ENV=Li.WEBGL2;ae.STRICT_TEXTURE_CACHE=!1;ae.RENDER_OPTIONS={...il.defaultOptions,...sl.defaultOptions,...ol.defaultOptions,...nl.defaultOptions};Object.defineProperties(ae,{WRAP_MODE:{get(){return we.defaultOptions.wrapMode},set(r){Re("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),we.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return we.defaultOptions.scaleMode},set(r){Re("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),we.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return we.defaultOptions.mipmap},set(r){Re("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),we.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return we.defaultOptions.anisotropicLevel},set(r){Re("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),we.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return Re("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Lt.defaultResolution},set(r){Lt.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return Re("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Lt.defaultMultisample},set(r){Lt.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return ci.defaultMaxTextures},set(r){Re("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ci.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return ci.defaultBatchSize},set(r){Re("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ci.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return ci.canUploadSameBuffer},set(r){Re("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ci.canUploadSameBuffer=r}},GC_MODE:{get(){return ui.defaultMode},set(r){Re("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),ui.defaultMode=r}},GC_MAX_IDLE:{get(){return ui.defaultMaxIdle},set(r){Re("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),ui.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return ui.defaultCheckCountMax},set(r){Re("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),ui.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return ns.defaultVertexPrecision},set(r){Re("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ns.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return ns.defaultFragmentPrecision},set(r){Re("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ns.defaultFragmentPrecision=r}}});var Ci=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(Ci||{});class Cu{constructor(e,t=null,s=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=s,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const v0=class Vt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cu(null,null,1/0),this.deltaMS=1/Vt.targetFPMS,this.elapsedMS=1/Vt.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,s=Ci.NORMAL){return this._addListener(new Cu(e,t,s))}addOnce(e,t,s=Ci.NORMAL){return this._addListener(new Cu(e,t,s,!0))}_addListener(e){let t=this._head.next,s=this._head;if(!t)e.connect(s);else{for(;t;){if(e.priority>t.priority){e.connect(s);break}s=t,t=t.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,t){let s=this._head.next;for(;s;)s.match(e,t)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Vt.targetFPMS;const s=this._head;let i=s.next;for(;i;)i=i.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,t)/1e3,Vt.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Vt._shared){const e=Vt._shared=new Vt;e.autoStart=!0,e._protected=!0}return Vt._shared}static get system(){if(!Vt._system){const e=Vt._system=new Vt;e.autoStart=!0,e._protected=!0}return Vt._system}};v0.targetFPMS=.06;let Yt=v0;Object.defineProperties(ae,{TARGET_FPMS:{get(){return Yt.targetFPMS},set(r){Re("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Yt.targetFPMS=r}}});class _0{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Ci.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Yt.shared:new Yt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}_0.extension=ee.Application;pe.add(_0);const b0=[];pe.handleByList(ee.Renderer,b0);function $P(r){for(const e of b0)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var UP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const zP=UP,x0=jP;class T0{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const s=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,s)}else{const s=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,s)}t>=ct.HIGH?this.multisample=ct.HIGH:t>=ct.MEDIUM?this.multisample=ct.MEDIUM:t>=ct.LOW?this.multisample=ct.LOW:this.multisample=ct.NONE}destroy(){}}T0.extension={type:ee.RendererSystem,name:"_multisample"};pe.add(T0);class HP{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class w0{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:s}=this,i=e._glBuffers[s]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:s,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const n=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,s.bindBufferBase(s.UNIFORM_BUFFER,t,n.buffer)}}bindBufferRange(e,t,s){const{gl:i,CONTEXT_UID:n}=this;s=s||0;const o=e._glBuffers[n]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,o.buffer,s*256,256)}update(e){const{gl:t,CONTEXT_UID:s}=this,i=e._glBuffers[s]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const s=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),s&&(t||i.deleteBuffer(s.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let s=0;s<t.length;s++)this.dispose(this.managedBuffers[t[s]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:s}=this;return e._glBuffers[t]=new HP(s.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}w0.extension={type:ee.RendererSystem,name:"buffer"};pe.add(w0);class A0{constructor(e){this.renderer=e}render(e,t){const s=this.renderer;let i,n,o,a;if(t&&(i=t.renderTexture,n=t.clear,o=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!i,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=o,!s.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}s.renderTexture.bind(i),s.batch.currentRenderer.start(),(n??s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),i&&(t.blit&&s.framebuffer.blit(),i.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}A0.extension={type:ee.RendererSystem,name:"objectRenderer"};pe.add(A0);const Fa=class Fh extends BP{constructor(e){super(),this.type=C_.WEBGL,e=Object.assign({},ae.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new yr({projectionMatrix:new Ye},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Fh.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(Re("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=Fh.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e?.forceCanvas?!1:d2()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Re("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Re("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Re("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Re("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Re("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Re("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Fa.extension={type:ee.Renderer,priority:1},Fa.__plugins={},Fa.__systems={};let af=Fa;pe.handleByMap(ee.RendererPlugin,af.__plugins);pe.handleByMap(ee.RendererSystem,af.__systems);pe.add(af);class S0 extends uo{constructor(e,t){const{width:s,height:i}=t||{};super(s,i),this.items=[],this.itemDirtyIds=[];for(let n=0;n<e;n++){const o=new we;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let s=0;s<this.length;s++)e[s]&&(e[s].castToBaseTexture?this.addBaseTextureAt(e[s].castToBaseTexture(),s):e[s]instanceof uo?this.addResourceAt(e[s],s):this.addResourceAt(H_(e[s],t),s))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:s}=this.items[0];return this.resize(t,s),this.update(),Promise.resolve(this)}),this._load}}class GP extends S0{constructor(e,t){const{width:s,height:i}=t||{};let n,o;Array.isArray(e)?(n=e,o=e.length):o=e,super(o,{width:s,height:i}),n&&this.initFromArray(n,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=rn.TEXTURE_2D_ARRAY}upload(e,t,s){const{length:i,itemDirtyIds:n,items:o}=this,{gl:a}=e;s.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,s.internalFormat,this._width,this._height,i,0,t.format,s.type,null);for(let l=0;l<i;l++){const c=o[l];n[l]<c.dirtyId&&(n[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,t.format,s.type,c.resource.source))}return!0}}class VP extends ps{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const E0=class Xn extends S0{constructor(e,t){const{width:s,height:i,autoLoad:n,linkBaseTexture:o}=t||{};if(e&&e.length!==Xn.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:s,height:i});for(let a=0;a<Xn.SIDES;a++)this.items[a].target=rn.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,t),n!==!1&&this.load()}bind(e){super.bind(e),e.target=rn.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,s){if(s===void 0&&(s=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=rn.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,s){const i=this.itemDirtyIds;for(let n=0;n<Xn.SIDES;n++){const o=this.items[n];(i[n]<o.dirtyId||s.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,s),i[n]=o.dirtyId):i[n]<-1&&(e.gl.texImage2D(o.target,0,s.internalFormat,t.realWidth,t.realHeight,0,t.format,s.type,null),i[n]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Xn.SIDES}};E0.SIDES=6;let WP=E0;class Qi extends ps{constructor(e,t){t=t||{};let s,i,n;typeof e=="string"?(s=Qi.EMPTY,i=e,n=!0):(s=e,i=null,n=!1),super(s),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??n,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const s=await ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await s.blob();if(this.destroyed)return;const n=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===$t.UNPACK?"premultiply":"none"});if(this.destroyed){n.close();return}this.source=n,this.update(),e(this)}catch(s){if(this.destroyed)return;t(s),this.onError.emit(s)}}),this._load)}upload(e,t,s){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,s)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Qi._EMPTY=Qi._EMPTY??ae.ADAPTER.createCanvas(0,0),Qi._EMPTY}}const Nh=class Na extends ps{constructor(e,t){t=t||{},super(ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Na.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ps.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,s=e.height;if(!t||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,n=s*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/s*t,n=this._overrideHeight||this._overrideWidth/t*s),i=Math.round(i),n=Math.round(n);const o=this.source;o.width=i,o.height=n,o._pixiId=`canvas_${Ei()}`,o.getContext("2d").drawImage(e,0,0,t,s,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(e){const t=Na.SVG_SIZE.exec(e),s={};return t&&(s[t[1]]=Math.round(parseFloat(t[3])),s[t[5]]=Math.round(parseFloat(t[7]))),s}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Na.SVG_XML.test(e)}};Nh.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Nh.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let $h=Nh;class XP extends ps{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Uh=class jh extends ps{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const s=document.createElement("video");t.autoLoad!==!1&&s.setAttribute("preload","auto"),t.playsinline!==!1&&(s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","")),t.muted===!0&&(s.setAttribute("muted",""),s.muted=!0),t.loop===!0&&s.setAttribute("loop",""),t.autoPlay!==!1&&s.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];ps.crossOrigin(s,i,t.crossorigin);for(let n=0;n<e.length;++n){const o=document.createElement("source");let{src:a,mime:l}=e[n];if(a=a||e[n],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const c=a.split("?").shift().toLowerCase(),u=c.slice(c.lastIndexOf(".")+1);l=l||jh.MIME_TYPES[u]||`video/${u}`}o.src=a,l&&(o.type=l),s.appendChild(o)}e=s}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Yt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,s)=>{this.valid?t(this):(this._resolve=t,this._reject=s,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||jh.TYPES.includes(t)}};Uh.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Uh.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let C0=Uh;Ch.push(Qi,J_,VP,C0,XP,$h,Nl,WP,GP);class al{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Se.EMPTY:(e=e||new Se(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:s,b:i,c:n,d:o,tx:a,ty:l}=e,c=s*t.x+n*t.y+a,u=i*t.x+o*t.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,s=this.minY,i=this.maxX,n=this.maxY,o=e[0],a=e[1];t=o<t?o:t,s=a<s?a:s,i=o>i?o:i,n=a>n?a:n,o=e[2],a=e[3],t=o<t?o:t,s=a<s?a:s,i=o>i?o:i,n=a>n?a:n,o=e[4],a=e[5],t=o<t?o:t,s=a<s?a:s,i=o>i?o:i,n=a>n?a:n,o=e[6],a=e[7],t=o<t?o:t,s=a<s?a:s,i=o>i?o:i,n=a>n?a:n,this.minX=t,this.minY=s,this.maxX=i,this.maxY=n}addFrame(e,t,s,i,n){this.addFrameMatrix(e.worldTransform,t,s,i,n)}addFrameMatrix(e,t,s,i,n){const o=e.a,a=e.b,l=e.c,c=e.d,u=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*t+l*s+u,y=a*t+c*s+h;d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,m=y>m?y:m,g=o*i+l*s+u,y=a*i+c*s+h,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,m=y>m?y:m,g=o*t+l*n+u,y=a*t+c*n+h,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,m=y>m?y:m,g=o*i+l*n+u,y=a*i+c*n+h,d=g<d?g:d,f=y<f?y:f,p=g>p?g:p,m=y>m?y:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,t,s){let i=this.minX,n=this.minY,o=this.maxX,a=this.maxY;for(let l=t;l<s;l+=2){const c=e[l],u=e[l+1];i=c<i?c:i,n=u<n?u:n,o=c>o?c:o,a=u>a?u:a}this.minX=i,this.minY=n,this.maxX=o,this.maxY=a}addVertices(e,t,s,i){this.addVerticesMatrix(e.worldTransform,t,s,i)}addVerticesMatrix(e,t,s,i,n=0,o=n){const a=e.a,l=e.b,c=e.c,u=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let y=s;y<i;y+=2){const v=t[y],_=t[y+1],T=a*v+c*_+h,b=u*_+l*v+d;f=Math.min(f,T-n),m=Math.max(m,T+n),p=Math.min(p,b-o),g=Math.max(g,b+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const t=this.minX,s=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<s?e.minY:s,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n}addBoundsMask(e,t){const s=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(s<=n&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=s<a?s:a,this.minY=i<l?i:l,this.maxX=n>c?n:c,this.maxY=o>u?o:u}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const s=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(s<=n&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=s<a?s:a,this.minY=i<l?i:l,this.maxX=n>c?n:c,this.maxY=o>u?o:u}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,s,i,n,o){e-=n,t-=o,s+=n,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>s?this.maxX:s,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class tt extends ko{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new nf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new al,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let s=0;s<t.length;++s){const i=t[s];Object.defineProperty(tt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Se),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds||(this._localBounds=new al);const t=this.transform,s=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=s?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=s,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o}toGlobal(e,t,s=!1){return s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,s,i){return t&&(e=t.toGlobal(e,s,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,s)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,s=1,i=1,n=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=t,this.scale.x=s||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new YP),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*U2}set angle(e){this.transform.rotation=e*j2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class YP extends tt{constructor(){super(...arguments),this.sortDirty=null}}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;const qP=new Ye;function ZP(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const P0=class zh extends tt{constructor(){super(),this.children=[],this.sortableChildren=zh.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const s=this.getChildIndex(e),i=this.getChildIndex(t);this.children[s]=t,this.children[i]=e,this.onChildrenChange(s<i?s:i)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const s=this.getChildIndex(e);sn(this.children,s,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],s=this.children.indexOf(t);if(s===-1)return null;t.parent=null,t.transform._parentID=-1,sn(this.children,s,1),this._boundsID++,this.onChildrenChange(s),t.emit("removed",this),this.emit("childRemoved",t,this,s)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,sn(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const s=e,i=t,n=i-s;let o;if(n>0&&n<=i){o=this.children.splice(s,n);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(n===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,s=this.children.length;t<s;++t){const i=this.children[t];i._lastSortedIndex=t,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(ZP),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const s=this.children[e];s.visible&&s.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const s=t._mask.isMaskData?t._mask.maskObject:t._mask;s?(s.calculateBounds(),this._bounds.addBoundsMask(t._bounds,s._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const s=super.getLocalBounds(e);if(!t)for(let i=0,n=this.children.length;i<n;++i){const o=this.children[i];o.visible&&o.updateTransform()}return s}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let s,i;this.cullArea?(s=this.cullArea,i=this.worldTransform):this._render!==zh.prototype._render&&(s=this.getBounds(!0));const n=e.projection.transform;if(n&&(i?(i=qP.copyFrom(i),i.prepend(n)):i=n),s&&t.intersects(s,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],c=l.cullable;l.cullable=c||!this.cullArea,l.render(e),l.cullable=c}}render(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,s=this.children.length;t<s;++t)this.children[t].render(e)}}renderAdvanced(e){const t=this.filters,s=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n])}const i=t&&this._enabledFilters?.length||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==dt.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),s&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,o=this.children.length;n<o;++n)this.children[n].render(e)}i&&e.batch.flush(),s&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e?.children,s=this.removeChildren(0,this.children.length);if(t)for(let i=0;i<s.length;++i)s[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};P0.defaultSortableChildren=!1;let xr=P0;xr.prototype.containerUpdateTransform=xr.prototype.updateTransform;Object.defineProperties(ae,{SORTABLE_CHILDREN:{get(){return xr.defaultSortableChildren},set(r){Re("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),xr.defaultSortableChildren=r}}});const Fn=new Me,KP=new Uint16Array([0,1,2,0,2,3]);class Cn extends xr{constructor(e){super(),this._anchor=new is(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new We(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||fe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=KP,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ls(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ls(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,s=t.a,i=t.b,n=t.c,o=t.d,a=t.tx,l=t.ty,c=this.vertexData,u=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(u?(p=u.x-d._x*h.width,f=p+u.width,g=u.y-d._y*h.height,m=g+u.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),c[0]=s*p+n*g+a,c[1]=o*g+i*p+l,c[2]=s*f+n*g+a,c[3]=o*g+i*f+l,c[4]=s*f+n*m+a,c[5]=o*m+i*f+l,c[6]=s*p+n*m+a,c[7]=o*m+i*p+l,this._roundPixels){const y=ae.RESOLUTION;for(let v=0;v<c.length;++v)c[v]=Math.round(c[v]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,s=e.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,a=n.b,l=n.c,c=n.d,u=n.tx,h=n.ty,d=-i._x*s.width,f=d+s.width,p=-i._y*s.height,m=p+s.height;if(t[0]=o*d+l*p+u,t[1]=c*p+a*d+h,t[2]=o*f+l*p+u,t[3]=c*p+a*f+h,t[4]=o*f+l*m+u,t[5]=c*m+a*f+h,t[6]=o*d+l*m+u,t[7]=c*m+a*d+h,this._roundPixels){const g=ae.RESOLUTION;for(let y=0;y<t.length;++y)t[y]=Math.round(t[y]*g)/g}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new al),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fn);const t=this._texture.orig.width,s=this._texture.orig.height,i=-t*this.anchor.x;let n=0;return Fn.x>=i&&Fn.x<i+t&&(n=-s*this.anchor.y,Fn.y>=n&&Fn.y<n+s)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){const t=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const s=e instanceof fe?e:fe.from(e,t);return new Cn(s)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Ls(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Ls(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||fe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const R0=new Ye;tt.prototype._cacheAsBitmap=!1;tt.prototype._cacheData=null;tt.prototype._cacheAsBitmapResolution=null;tt.prototype._cacheAsBitmapMultisample=null;class JP{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(tt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new JP),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});tt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};tt.prototype._initCachedDisplayObject=function(r){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const t=this.getLocalBounds(new Se,!0);if(this.filters?.length){const d=this.filters[0].padding;t.pad(d)}const s=this.cacheAsBitmapResolution||r.resolution;t.ceil(s),t.width=Math.max(t.width,1/s),t.height=Math.max(t.height,1/s);const i=r.renderTexture.current,n=r.renderTexture.sourceFrame.clone(),o=r.renderTexture.destinationFrame.clone(),a=r.projection.transform,l=Mi.create({width:t.width,height:t.height,resolution:s,multisample:this.cacheAsBitmapMultisample??r.multisample}),c=`cacheAsBitmap_${Ei()}`;this._cacheData.textureCacheId=c,we.addToCache(l.baseTexture,c),fe.addToCache(l,c);const u=this.transform.localTransform.copyTo(R0).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:l,clear:!0,transform:u,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=a,r.renderTexture.bind(i,n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const h=new Cn(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(t.x/t.width),h.anchor.y=-(t.y/t.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};tt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};tt.prototype._initCachedDisplayObjectCanvas=function(r){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(new Se,!0),t=this.alpha;this.alpha=1;const s=r.canvasContext.activeContext,i=r._projTransform,n=this.cacheAsBitmapResolution||r.resolution;e.ceil(n),e.width=Math.max(e.width,1/n),e.height=Math.max(e.height,1/n);const o=Mi.create({width:e.width,height:e.height,resolution:n}),a=`cacheAsBitmap_${Ei()}`;this._cacheData.textureCacheId=a,we.addToCache(o.baseTexture,a),fe.addToCache(o,a);const l=R0;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),r.canvasContext.activeContext=s,r._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const c=new Cn(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,we.removeFromCache(this._cacheData.textureCacheId),fe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};tt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};tt.prototype.name=null;xr.prototype.getChildByName=function(r,e){for(let t=0,s=this.children.length;t<s;t++)if(this.children[t].name===r)return this.children[t];if(e)for(let t=0,s=this.children.length;t<s;t++){const i=this.children[t];if(!i.getChildByName)continue;const n=i.getChildByName(r,!0);if(n)return n}return null};tt.prototype.getGlobalPosition=function(r=new Me,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var QP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class eR extends Lt{constructor(e=1){super(zP,QP,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const tR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},rR=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function sR(r){const e=tR[r],t=e.length;let s=rR,i="";const n="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<r;a++){let l=n.replace("%index%",a.toString());o=a,a>=t&&(o=r-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return s=s.replace("%blur%",i),s=s.replace("%size%",r.toString()),s}const iR=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function nR(r,e){const t=Math.ceil(r/2);let s=iR,i="",n;e?n="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":n="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<r;o++){let a=n.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(t-1)}.0`),i+=a,i+=`
`}return s=s.replace("%blur%",i),s=s.replace("%size%",r.toString()),s}class Hh extends Lt{constructor(e,t=8,s=4,i=Lt.defaultResolution,n=5){const o=nR(n,e),a=sR(n);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=s,this.blur=t}apply(e,t,s,i){if(s?this.horizontal?this.uniforms.strength=1/s.width*(s.width/t.width):this.uniforms.strength=1/s.height*(s.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,s,i);else{const n=e.getFilterTexture(),o=e.renderer;let a=t,l=n;this.state.blend=!1,e.applyFilter(this,a,l,Mr.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Mr.BLIT),this.uniforms.uSampler=l;const u=l;l=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,s,i),e.returnFilterTexture(n)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class oR extends Lt{constructor(e=8,t=4,s=Lt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Hh(!0,e,t,s,i),this.blurYFilter=new Hh(!1,e,t,s,i),this.resolution=s,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,s,i){const n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,Mr.CLEAR),this.blurYFilter.apply(e,a,s,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,s,i):this.blurXFilter.apply(e,t,s,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var aR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Gh extends Lt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(x0,aR,e),this.alpha=1}_loadMatrix(e,t=!1){let s=e;t&&(this._multiply(s,this.uniforms.m,e),s=this._colorMatrix(s)),this.uniforms.m=s}_multiply(e,t,s){return e[0]=t[0]*s[0]+t[1]*s[5]+t[2]*s[10]+t[3]*s[15],e[1]=t[0]*s[1]+t[1]*s[6]+t[2]*s[11]+t[3]*s[16],e[2]=t[0]*s[2]+t[1]*s[7]+t[2]*s[12]+t[3]*s[17],e[3]=t[0]*s[3]+t[1]*s[8]+t[2]*s[13]+t[3]*s[18],e[4]=t[0]*s[4]+t[1]*s[9]+t[2]*s[14]+t[3]*s[19]+t[4],e[5]=t[5]*s[0]+t[6]*s[5]+t[7]*s[10]+t[8]*s[15],e[6]=t[5]*s[1]+t[6]*s[6]+t[7]*s[11]+t[8]*s[16],e[7]=t[5]*s[2]+t[6]*s[7]+t[7]*s[12]+t[8]*s[17],e[8]=t[5]*s[3]+t[6]*s[8]+t[7]*s[13]+t[8]*s[18],e[9]=t[5]*s[4]+t[6]*s[9]+t[7]*s[14]+t[8]*s[19]+t[9],e[10]=t[10]*s[0]+t[11]*s[5]+t[12]*s[10]+t[13]*s[15],e[11]=t[10]*s[1]+t[11]*s[6]+t[12]*s[11]+t[13]*s[16],e[12]=t[10]*s[2]+t[11]*s[7]+t[12]*s[12]+t[13]*s[17],e[13]=t[10]*s[3]+t[11]*s[8]+t[12]*s[13]+t[13]*s[18],e[14]=t[10]*s[4]+t[11]*s[9]+t[12]*s[14]+t[13]*s[19]+t[14],e[15]=t[15]*s[0]+t[16]*s[5]+t[17]*s[10]+t[18]*s[15],e[16]=t[15]*s[1]+t[16]*s[6]+t[17]*s[11]+t[18]*s[16],e[17]=t[15]*s[2]+t[16]*s[7]+t[17]*s[12]+t[18]*s[17],e[18]=t[15]*s[3]+t[16]*s[8]+t[17]*s[13]+t[18]*s[18],e[19]=t[15]*s[4]+t[16]*s[9]+t[17]*s[14]+t[18]*s[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const s=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(s,t)}tint(e,t){const[s,i,n]=We.shared.setValue(e).toArray(),o=[s,0,0,0,0,0,i,0,0,0,0,0,n,0,0,0,0,0,1,0];this._loadMatrix(o,t)}greyscale(e,t){const s=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(s,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const s=Math.cos(e),i=Math.sin(e),n=Math.sqrt,o=1/3,a=n(o),l=s+(1-s)*o,c=o*(1-s)-a*i,u=o*(1-s)+a*i,h=o*(1-s)+a*i,d=s+o*(1-s),f=o*(1-s)-a*i,p=o*(1-s)-a*i,m=o*(1-s)+a*i,g=s+o*(1-s),y=[l,c,u,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(y,t)}contrast(e,t){const s=(e||0)+1,i=-.5*(s-1),n=[s,0,0,0,i,0,s,0,0,i,0,0,s,0,i,0,0,0,1,0];this._loadMatrix(n,t)}saturate(e=0,t){const s=e*2/3+1,i=(s-1)*-.5,n=[s,i,i,0,0,i,s,i,0,0,i,i,s,0,0,0,0,0,1,0];this._loadMatrix(n,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,s,i,n){e=e||.2,t=t||.15,s=s||16770432,i=i||3375104;const o=We.shared,[a,l,c]=o.setValue(s).toArray(),[u,h,d]=o.setValue(i).toArray(),f=[.3,.59,.11,0,0,a,l,c,e,0,u,h,d,t,0,a-u,l-h,c-d,0,0];this._loadMatrix(f,n)}night(e,t){e=e||.1;const s=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(s,t)}predator(e,t){const s=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(s,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Gh.prototype.grayscale=Gh.prototype.greyscale;var lR=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,cR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class uR extends Lt{constructor(e,t){const s=new Ye;e.renderable=!1,super(cR,lR,{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=s,t==null&&(t=20),this.scale=new Me(t,t)}apply(e,t,s,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),a=Math.sqrt(n.c*n.c+n.d*n.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/a,this.uniforms.rotation[3]=n.d/a),e.applyFilter(this,t,s,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var hR=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,dR=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class fR extends Lt{constructor(){super(dR,hR)}}var pR=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class mR extends Lt{constructor(e=.5,t=Math.random()){super(x0,pR,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Jm={AlphaFilter:eR,BlurFilter:oR,BlurFilterPass:Hh,ColorMatrixFilter:Gh,DisplacementFilter:uR,FXAAFilter:fR,NoiseFilter:mR};Object.entries(Jm).forEach(([r,e])=>{Object.defineProperty(Jm,r,{get(){return Re("7.1.0",`filters.${r} has moved to ${r}`),e}})});class gR{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Yt.system.add(this.tickerUpdate,this,Ci.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Yt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Rs=new gR;class Lo{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Lo.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Me,this.page=new Me,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,s){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,s,i,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class ll extends Lo{constructor(){super(...arguments),this.client=new Me,this.movement=new Me,this.offset=new Me,this.global=new Me,this.screen=new Me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,s){return e.worldTransform.applyInverse(s||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,s,i,n,o,a,l,c,u,h,d,f,p,m){throw new Error("Method not implemented.")}}class ur extends ll{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class on extends ll{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}on.DOM_DELTA_PIXEL=0,on.DOM_DELTA_LINE=1,on.DOM_DELTA_PAGE=2;const yR=2048,vR=new Me,Pu=new Me;class _R{constructor(e){this.dispatch=new ko,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((s,i)=>s.priority-i.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let s=0,i=t.length;s<i;s++)t[s].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){Rs.pauseUpdate=!0;const s=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[s](this.rootTarget,this.rootTarget.eventMode,vR.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const s=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,n=s.length-1;i<n;i++)if(e.currentTarget=s[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=s.length-2;i>=0;i--)if(e.currentTarget=s[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,s=this._allInteractiveElements){if(s.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(t)?t:[t];for(let n=s.length-1;n>=0;n--)i.forEach(o=>{e.currentTarget=s[n],this.notifyTarget(e,o)})}propagationPath(e){const t=[e];for(let s=0;s<yR&&e!==this.rootTarget;s++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,s,i,n,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let h=u.length-1;h>=0;h--){const d=u[h],f=this.hitTestMoveRecursive(d,this._isInteractive(t)?t:d.eventMode,s,i,n,o||n(e,s));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();(f.length>0||p)&&(p&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const l=this._isInteractive(t),c=e.isInteractive();return l&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!n(e,s)&&i(e,s)?c?[e]:[]:null}hitTestRecursive(e,t,s,i,n){if(this._interactivePrune(e)||n(e,s))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let c=l.length-1;c>=0;c--){const u=l[c],h=this.hitTestRecursive(u,this._isInteractive(t)?t:u.eventMode,s,i,n);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const d=e.isInteractive();return(h.length>0||d)&&h.push(e),h}}}const o=this._isInteractive(t),a=e.isInteractive();return o&&i(e,s)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,Pu),!e.hitArea.contains(Pu.x,Pu.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!s.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){t=t??e.type;const s=`on${t}`;e.currentTarget[s]?.(e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const i=t.button===2;this.dispatchEvent(t,i?"rightdown":"mousedown")}const s=this.trackingData(e.pointerId);s.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const s=t.pointerType==="mouse"||t.pointerType==="pen",i=this.trackingData(e.pointerId),n=this.findMountedTarget(i.overTargets);if(i.overTargets?.length>0&&n!==t.target){const l=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,l,n);if(this.dispatchEvent(c,"pointerout"),s&&this.dispatchEvent(c,"mouseout"),!t.composedPath().includes(n)){const u=this.createPointerEvent(e,"pointerleave",n);for(u.eventPhase=u.AT_TARGET;u.target&&!t.composedPath().includes(u.target);)u.currentTarget=u.target,this.notifyTarget(u),s&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;this.freeEvent(u)}this.freeEvent(c)}if(n!==t.target){const l=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(t,l);this.dispatchEvent(c,"pointerover"),s&&this.dispatchEvent(c,"mouseover");let u=n?.parent;for(;u&&u!==this.rootTarget.parent&&u!==t.target;)u=u.parent;if(!u||u===this.rootTarget.parent){const h=this.clonePointerEvent(t,"pointerenter");for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==n&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),s&&this.notifyTarget(h,"mouseenter"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),a&&o.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),a&&o.push("globaltouchmove")),s&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),a&&o.push("globalmousemove"),this.cursor=t.target?.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),s=this.createPointerEvent(e),i=s.pointerType==="mouse"||s.pointerType==="pen";this.dispatchEvent(s,"pointerover"),i&&this.dispatchEvent(s,"mouseover"),s.pointerType==="mouse"&&(this.cursor=s.target?.cursor);const n=this.clonePointerEvent(s,"pointerenter");for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),i&&this.notifyTarget(n,"mouseenter"),n.target=n.target.parent;t.overTargets=s.composedPath(),this.freeEvent(s),this.freeEvent(n)}mapPointerOut(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const s=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(t.overTargets),n=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(n),s&&this.dispatchEvent(n,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(n),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),s=this.createPointerEvent(e);if(this.dispatchEvent(s,"pointerup"),s.pointerType==="touch")this.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){const a=s.button===2;this.dispatchEvent(s,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=n;if(n&&!s.composedPath().includes(n)){let a=n;for(;a&&!s.composedPath().includes(a);){if(s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")this.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){const l=s.button===2;this.notifyTarget(s,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(s,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const l=i.clicksByButton[e.button];if(l.target===a.target&&t-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=t,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(s)}mapPointerUpOutside(e){if(!(e instanceof ur)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),s=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(s){let n=s;for(;n;)i.currentTarget=n,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),n=n.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof on)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let s=1;s<e.length&&e[s].parent===t;s++)t=e[s];return t}createPointerEvent(e,t,s){const i=this.allocateEvent(ur);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=s??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof t=="string"&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(on);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const s=this.allocateEvent(ur);return s.nativeEvent=e.nativeEvent,s.originalEvent=e.originalEvent,this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.target=e.target,s.path=e.composedPath().slice(),s.type=t??s.type,s}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof ur&&t instanceof ur&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof ll&&t instanceof ll&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const s=e.currentTarget._events[t];if(s&&e.currentTarget.isInteractive())if("fn"in s)s.once&&e.currentTarget.removeListener(t,s.fn,void 0,!0),s.fn.call(s.context,e);else for(let i=0,n=s.length;i<n&&!e.propagationImmediatelyStopped;i++)s[i].once&&e.currentTarget.removeListener(t,s[i].fn,void 0,!0),s[i].fn.call(s[i].context,e)}}const bR=1,xR={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Vh=class Wh{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new _R(null),Rs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ur(null),this.rootWheelEvent=new on(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Wh.defaultEventFeatures},{set:(t,s,i)=>(s==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),t[s]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:s}=this.renderer;this.setTargetElement(t),this.resolution=s,Wh._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const s=this.cursorStyles[e];if(s)switch(typeof s){case"string":t&&(this.domElement.style.cursor=s);break;case"function":s(e);break;case"object":t&&Object.assign(this.domElement.style,s);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let s=0,i=t.length;s<i;s++){const n=t[s],o=this.bootstrapEvent(this.rootPointerEvent,n);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Rs.pointerMoved();const t=this.normalizeToPointerData(e);for(let s=0,i=t.length;s<i;s++){const n=this.bootstrapEvent(this.rootPointerEvent,t[s]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const s=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let n=0,o=i.length;n<o;n++){const a=this.bootstrapEvent(this.rootPointerEvent,i[n]);a.type+=s,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let s=0,i=t.length;s<i;s++){const n=this.bootstrapEvent(this.rootPointerEvent,t[s]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,Rs.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Rs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Rs.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,s){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},n=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*n,e.y=(s-i.top)*(this.domElement.height/i.height)*n}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let s=0,i=e.changedTouches.length;s<i;s++){const n=e.changedTouches[s];typeof n.button>"u"&&(n.button=0),typeof n.buttons>"u"&&(n.buttons=1),typeof n.isPrimary>"u"&&(n.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof n.width>"u"&&(n.width=n.radiusX||1),typeof n.height>"u"&&(n.height=n.radiusY||1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="touch"),typeof n.pointerId>"u"&&(n.pointerId=n.identifier||0),typeof n.pressure>"u"&&(n.pressure=n.force||.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),typeof n.layerX>"u"&&(n.layerX=n.offsetX=n.clientX),typeof n.layerY>"u"&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=e.type,t.push(n)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const s=e;typeof s.isPrimary>"u"&&(s.isPrimary=!0),typeof s.width>"u"&&(s.width=1),typeof s.height>"u"&&(s.height=1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="mouse"),typeof s.pointerId>"u"&&(s.pointerId=bR),typeof s.pressure>"u"&&(s.pressure=.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),s.isNormalized=!0,t.push(s)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=xR[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Vh.extension={name:"events",type:[ee.RendererSystem,ee.CanvasRendererSystem]},Vh.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Xh=Vh;pe.add(Xh);function Qm(r){return r==="dynamic"||r==="static"}const TR={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Qm(Xh.defaultEventMode)},set interactive(r){Re("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Xh.defaultEventMode},set eventMode(r){this._internalInteractive=Qm(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const s=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof t=="object"?t.signal:void 0,n=typeof t=="object"?t.once===!0:!1,o=typeof e=="function"?void 0:e;r=s?`${r}capture`:r;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(r,a,o)}),n?l.once(r,a,o):l.on(r,a,o)},removeEventListener(r,e,t){const s=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,i=typeof e=="function"?void 0:e;r=s?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,i)},dispatchEvent(r){if(!(r instanceof Lo))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};tt.mixin(TR);const wR={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(wR);const AR=9,ra=100,SR=0,ER=0,eg=2,tg=1,CR=-1e3,PR=-1e3,RR=2;class I0{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ss.tablet||ss.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${ra}px`,t.style.height=`${ra}px`,t.style.position="absolute",t.style.top=`${SR}px`,t.style.left=`${ER}px`,t.style.zIndex=eg.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${tg}px`,e.style.height=`${tg}px`,e.style.position="absolute",e.style.top=`${CR}px`,e.style.left=`${PR}px`,e.style.zIndex=RR.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let s=0;s<t.length;s++)this.updateAccessibleObjects(t[s])}update(){const e=performance.now();if(ss.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:s,width:i,height:n}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=i/o*l,u=n/a*l;let h=this.div;h.style.left=`${t}px`,h.style.top=`${s}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,sn(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*c}px`,h.style.top=`${(m.ty+p.y*m.d)*u}px`,h.style.width=`${p.width*m.a*c}px`,h.style.height=`${p.height*m.d*u}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*c}px`,h.style.top=`${p.y*u}px`,h.style.width=`${p.width*c}px`,h.style.height=`${p.height*u}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:s}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>s&&(e.height=s-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${ra}px`,t.style.height=`${ra}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=eg.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:s}=e.target,i=this.renderer.events.rootBoundary,n=Object.assign(new Lo(i),{target:s});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(o=>i.dispatchEvent(n,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===AR&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}I0.extension={name:"accessibility",type:[ee.RendererPlugin,ee.CanvasRendererPlugin]};pe.add(I0);const k0=class Yh{constructor(e){this.stage=new xr,e=Object.assign({forceCanvas:!1},e),this.renderer=$P(e),Yh._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(e,t){const s=Yh._plugins.slice(0);s.reverse(),s.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};k0._plugins=[];let IR=k0;pe.handleByList(ee.Application,IR._plugins);class L0{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,s;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,s=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:n}=this._resizeTo;t=i,s=n}this.renderer.resize(t,s),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}L0.extension=ee.Application;pe.add(L0);const rg={loader:ee.LoadParser,resolver:ee.ResolveParser,cache:ee.CacheParser,detection:ee.DetectionParser};pe.handle(ee.Asset,r=>{const e=r.ref;Object.entries(rg).filter(([t])=>!!e[t]).forEach(([t,s])=>pe.add(Object.assign(e[t],{extension:e[t].extension??s})))},r=>{const e=r.ref;Object.keys(rg).filter(t=>!!e[t]).forEach(t=>pe.remove(e[t]))});class kR{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<t;s++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Pn(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function Ys(r,e){const t=r.split("?")[0],s=mt.extname(t).toLowerCase();return Array.isArray(e)?e.includes(s):s===e}const dr=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(s=>typeof s=="string"||t?e(s):s):r),qh=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function M0(r,e,t,s,i){const n=e[t];for(let o=0;o<n.length;o++){const a=n[o];t<e.length-1?M0(r.replace(s[t],a),e,t+1,s,i):i.push(r.replace(s[t],a))}}function LR(r){const e=/\{(.*?)\}/g,t=r.match(e),s=[];if(t){const i=[];t.forEach(n=>{const o=n.substring(1,n.length-1).split(",");i.push(o)}),M0(r,i,0,t,s)}else s.push(r);return s}const cl=r=>!Array.isArray(r);class MR{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const s=dr(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(t)){i=l.getCacheableAssets(s,t);break}}i||(i={},s.forEach(a=>{i[a]=t}));const n=Object.keys(i),o={cacheKeys:n,keys:s};if(s.forEach(a=>{this._cacheMap.set(a,o)}),n.forEach(a=>{const l=i?i[a]:t;this._cache.has(a)&&this._cache.get(a)!==l&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),t instanceof fe){const a=t;s.forEach(l=>{a.baseTexture!==fe.EMPTY.baseTexture&&we.addToCache(a.baseTexture,l),fe.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(s=>{this._cache.delete(s)}),t.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const fi=new MR;class DR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,s)=>(this._parsersValidated=!1,e[t]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const s={promise:null,parser:null};return s.promise=(async()=>{let i=null,n=null;if(t.loadParser&&(n=this._parserHash[t.loadParser],n||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!n){for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];if(a.load&&a.test?.(e,t,this)){n=a;break}}if(!n)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await n.load(e,t,this),s.parser=n;for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];a.parse&&a.parse&&await a.testParse?.(i,t,this)&&(i=await a.parse(i,t,this)||i,s.parser=a)}return i})(),s}async load(e,t){this._parsersValidated||this._validateParsers();let s=0;const i={},n=cl(e),o=dr(e,c=>({alias:[c],src:c})),a=o.length,l=o.map(async c=>{const u=mt.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=await this.promiseCache[u].promise,t&&t(++s/a)}catch(h){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${h}`)}});return await Promise.all(l),n?i[o[0].src]:i}async unload(e){const t=dr(e,s=>({alias:[s],src:s})).map(async s=>{const i=mt.toAbsolute(s.src),n=this.promiseCache[i];if(n){const o=await n.promise;delete this.promiseCache[i],n.parser?.unload?.(o,s,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Ar=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(Ar||{});const OR=".json",BR="application/json",FR={extension:{type:ee.LoadParser,priority:Ar.Low},name:"loadJson",test(r){return Pn(r,BR)||Ys(r,OR)},async load(r){return await(await ae.ADAPTER.fetch(r)).json()}};pe.add(FR);const NR=".txt",$R="text/plain",UR={name:"loadTxt",extension:{type:ee.LoadParser,priority:Ar.Low},test(r){return Pn(r,$R)||Ys(r,NR)},async load(r){return await(await ae.ADAPTER.fetch(r)).text()}};pe.add(UR);const jR=["normal","bold","100","200","300","400","500","600","700","800","900"],zR=[".ttf",".otf",".woff",".woff2"],HR=["font/ttf","font/otf","font/woff","font/woff2"],GR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function VR(r){const e=mt.extname(r),t=mt.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1));let s=t.length>0;for(const n of t)if(!n.match(GR)){s=!1;break}let i=t.join(" ");return s||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const WR=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function XR(r){return WR.test(r)?r:encodeURI(r)}const YR={extension:{type:ee.LoadParser,priority:Ar.Low},name:"loadWebFont",test(r){return Pn(r,HR)||Ys(r,zR)},async load(r,e){const t=ae.ADAPTER.getFontFaceSet();if(t){const s=[],i=e.data?.family??VR(r),n=e.data?.weights?.filter(a=>jR.includes(a))??["normal"],o=e.data??{};for(let a=0;a<n.length;a++){const l=n[a],c=new FontFace(i,`url(${XR(r)})`,{...o,weight:l});await c.load(),t.add(c),s.push(c)}return s.length===1?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>ae.ADAPTER.getFontFaceSet().delete(e))}};pe.add(YR);const qR=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let an=null,Zh=class{constructor(){an||(an=URL.createObjectURL(new Blob([qR],{type:"application/javascript"}))),this.worker=new Worker(an)}};Zh.revokeObjectURL=function(){an&&(URL.revokeObjectURL(an),an=null)};const ZR=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ln=null;class D0{constructor(){ln||(ln=URL.createObjectURL(new Blob([ZR],{type:"application/javascript"}))),this.worker=new Worker(ln)}}D0.revokeObjectURL=function(){ln&&(URL.revokeObjectURL(ln),ln=null)};let sg=0,Ru;class KR{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Zh;t.addEventListener("message",s=>{t.terminate(),Zh.revokeObjectURL(),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Ru===void 0&&(Ru=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Ru&&(this._createdWorkers++,e=new D0().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const s=new Promise((i,n)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:n})});return this.next(),s}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),s=t.id;this.resolveHash[sg]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:sg++,id:s})}}const ig=new KR;function Mo(r,e,t){r.resource.internal=!0;const s=new fe(r),i=()=>{delete e.promiseCache[t],fi.has(t)&&fi.remove(t)};return s.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),s.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),s}const JR=[".jpeg",".jpg",".png",".webp",".avif"],QR=["image/jpeg","image/png","image/webp","image/avif"];async function eI(r){const e=await ae.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Hl={name:"loadTextures",extension:{type:ee.LoadParser,priority:Ar.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return Pn(r,QR)||Ys(r,JR)},async load(r,e,t){const s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;s?this.config.preferWorkers&&await ig.isImageBitmapSupported()?i=await ig.loadImageBitmap(r):i=await eI(r):i=await new Promise((a,l)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=r,c.complete?a(c):(c.onload=()=>a(c),c.onerror=u=>l(u))});const n={...e.data};n.resolution??(n.resolution=fs(r)),s&&n.resourceOptions?.ownsImageBitmap===void 0&&(n.resourceOptions={...n.resourceOptions},n.resourceOptions.ownsImageBitmap=!0);const o=new we(i,n);return o.resource.src=r,Mo(o,t,r)},unload(r){r.destroy(!0)}};pe.add(Hl);const tI=".svg",rI="image/svg+xml",sI={extension:{type:ee.LoadParser,priority:Ar.High},name:"loadSVG",test(r){return Pn(r,rI)||Ys(r,tI)},async testParse(r){return $h.test(r)},async parse(r,e,t){const s=new $h(r,e?.data?.resourceOptions);await s.load();const i=new we(s,{resolution:fs(r),...e?.data});return i.resource.src=e.src,Mo(i,t,e.src)},async load(r,e){return(await ae.ADAPTER.fetch(r)).text()},unload:Hl.unload};pe.add(sI);const iI=[".mp4",".m4v",".webm",".ogv"],nI=["video/mp4","video/webm","video/ogg"],oI={name:"loadVideo",extension:{type:ee.LoadParser,priority:Ar.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return Pn(r,nI)||Ys(r,iI)},async load(r,e,t){let s;const i=await(await ae.ADAPTER.fetch(r)).blob(),n=URL.createObjectURL(i);try{const o={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...e?.data?.resourceOptions,autoLoad:!0},a=new C0(n,o);await a.load();const l=new we(a,{alphaMode:await h2(),resolution:fs(r),...e?.data});l.resource.src=r,s=Mo(l,t,r),s.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(n)})}catch(o){throw URL.revokeObjectURL(n),o}return s},unload(r){r.destroy(!0)}};pe.add(oI);class aI{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`).join("&")}}getAlias(e){const{alias:t,name:s,src:i,srcs:n}=e;return dr(t||s||i||n,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>a?.src??a?.srcs??a):o?.src||o?.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const s=[];Array.isArray(t)?t.forEach(i=>{const n=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const l=this._createBundleAssetId(e,o);s.push(l),a=[o,l]}else{const l=o.map(c=>this._createBundleAssetId(e,c));s.push(...l),a=[...o,...l]}this.add({...i,alias:a,src:n})}):Object.keys(t).forEach(i=>{const n=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:n,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:n,src:t[i]});else{const o=t[i],a=o.src??o.srcs;this.add({...o,alias:n,src:Array.isArray(a)?a:[a]})}s.push(...n)}),this._bundles[e]=s}add(e,t,s,i,n){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Re("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:t,data:s,format:i,loadParser:n})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},dr(o).forEach(l=>{const{src:c,srcs:u}=l;let{data:h,format:d,loadParser:f}=l;const p=dr(c||u).map(y=>typeof y=="string"?LR(y):Array.isArray(y)?y:[y]),m=this.getAlias(l);Array.isArray(m)?m.forEach(a):a(m);const g=[];p.forEach(y=>{y.forEach(v=>{let _={};if(typeof v!="object"){_.src=v;for(let T=0;T<this._parsers.length;T++){const b=this._parsers[T];if(b.test(v)){_=b.parse(v);break}}}else h=v.data??h,d=v.format??d,f=v.loadParser??f,_={..._,...v};if(!m)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:m,data:h,format:d,loadParser:f}),g.push(_)})}),m.forEach(y=>{this._assetMap[y]=g})})}resolveBundle(e){const t=cl(e);e=dr(e);const s={};return e.forEach(i=>{const n=this._bundles[i];if(n){const o=this.resolve(n),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}s[i]=a}}),t?s[e[0]]:s}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const s={};for(const i in t)s[i]=t[i].src;return s}return t.src}resolve(e){const t=cl(e);e=dr(e);const s={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let n=this._assetMap[i];const o=n[0],a=this._getPreferredOrder(n);a?.priority.forEach(l=>{a.params[l].forEach(c=>{const u=n.filter(h=>h[l]?h[l]===c:!1);u.length&&(n=u)})}),this._resolverHash[i]=n[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});s[i]=this._resolverHash[i]}),t?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const s=e[0],i=this._preferredOrder.find(n=>n.params.format.includes(s.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:s,data:i,loadParser:n,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=mt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=n??e.loadParser,e.format=o??e.format??mt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class lI{constructor(){this._detections=[],this._initialized=!1,this.resolver=new aI,this.loader=new DR,this.cache=fi,this._backgroundLoader=new kR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let n=e.manifest;typeof n=="string"&&(n=await this.load(n)),this.resolver.addManifest(n)}const t=e.texturePreference?.resolution??1,s=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:s}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,s,i,n){this.resolver.add(e,t,s,i,n)}async load(e,t){this._initialized||await this.init();const s=cl(e),i=dr(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),n=this.resolver.resolve(i),o=await this._mapLoadToResolve(n,t);return s?o[i[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let s=!1;typeof e=="string"&&(s=!0,e=[e]);const i=this.resolver.resolveBundle(e),n={},o=Object.keys(i);let a=0,l=0;const c=()=>{t?.(++a/l)},u=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,c).then(f=>{n[h]=f})});return await Promise.all(u),s?n[e[0]]:n}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return fi.get(e);const t={};for(let s=0;s<e.length;s++)t[s]=fi.get(e[s]);return t}async _mapLoadToResolve(e,t){const s=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const n=await this.loader.load(s,t);this._backgroundLoader.active=!0;const o={};return s.forEach((a,l)=>{const c=n[a.src],u=[a.src];a.alias&&u.push(...a.alias),o[i[l]]=c,fi.set(u,c)}),o}async unload(e){this._initialized||await this.init();const t=dr(e).map(i=>typeof i!="string"?i.src:i),s=this.resolver.resolve(t);await this._unloadFromResolved(s)}async unloadBundle(e){this._initialized||await this.init(),e=dr(e);const t=this.resolver.resolveBundle(e),s=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(s)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(s=>{fi.remove(s.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const s of e.detections)e.skipDetections||await s.test()?t=await s.add(t):e.skipDetections||(t=await s.remove(t));return t=t.filter((s,i)=>t.indexOf(s)===i),t}get detections(){return this._detections}get preferWorkers(){return Hl.config.preferWorkers}set preferWorkers(e){Re("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(s=>s in e).forEach(s=>{t.config[s]=e[s]})})}}const sa=new lI;pe.handleByList(ee.LoadParser,sa.loader.parsers).handleByList(ee.ResolveParser,sa.resolver.parsers).handleByList(ee.CacheParser,sa.cache.parsers).handleByList(ee.DetectionParser,sa.detections);const cI={extension:ee.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof fe),getCacheableAssets:(r,e)=>{const t={};return r.forEach(s=>{e.forEach((i,n)=>{t[s+(n===0?"":n+1)]=i})}),t}};pe.add(cI);async function O0(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const uI={extension:{type:ee.DetectionParser,priority:1},test:async()=>O0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};pe.add(uI);const hI={extension:{type:ee.DetectionParser,priority:0},test:async()=>O0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};pe.add(hI);const ng=["png","jpg","jpeg"],dI={extension:{type:ee.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...ng],remove:async r=>r.filter(e=>!ng.includes(e))};pe.add(dI);const fI="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function lf(r){return fI?!1:document.createElement("video").canPlayType(r)!==""}const pI={extension:{type:ee.DetectionParser,priority:0},test:async()=>lf("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};pe.add(pI);const mI={extension:{type:ee.DetectionParser,priority:0},test:async()=>lf("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};pe.add(mI);const gI={extension:{type:ee.DetectionParser,priority:0},test:async()=>lf("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};pe.add(gI);const yI={extension:ee.ResolveParser,test:Hl.test,parse:r=>({resolution:parseFloat(ae.RETINA_PREFIX.exec(r)?.[1]??"1"),format:mt.extname(r).slice(1),src:r})};pe.add(yI);var yt=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(yt||{});const ul={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Rr,Xi;function og(){Xi={bptc:Rr.getExtension("EXT_texture_compression_bptc"),astc:Rr.getExtension("WEBGL_compressed_texture_astc"),etc:Rr.getExtension("WEBGL_compressed_texture_etc"),s3tc:Rr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Rr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Rr.getExtension("WEBGL_compressed_texture_pvrtc")||Rr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Rr.getExtension("WEBGL_compressed_texture_etc1"),atc:Rr.getExtension("WEBGL_compressed_texture_atc")}}const vI={extension:{type:ee.DetectionParser,priority:2},test:async()=>{const r=ae.ADAPTER.createCanvas().getContext("webgl");return r?(Rr=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Xi||og();const e=[];for(const t in Xi)Xi[t]&&e.push(t);return[...e,...r]},remove:async r=>(Xi||og(),r.filter(e=>!(e in Xi)))};pe.add(vI);class _I extends Nl{constructor(e,t={width:1,height:1,autoLoad:!0}){let s,i;typeof e=="string"?(s=e,i=new Uint8Array):(s=null,i=e),super(i,t),this.origin=s,this.buffer=i?new Eh(i):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Eh(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class _i extends _I{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=_i._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||_i._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,s){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let n=0,o=this.levels;n<o;n++){const{levelID:a,levelWidth:l,levelHeight:c,levelBuffer:u}=this._levelBuffers[n];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,l,c,0,u)}return!0}onBlobLoaded(){this._levelBuffers=_i._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,s,i,n,o,a){const l=new Array(s);let c=e.byteOffset,u=o,h=a,d=u+i-1&~(i-1),f=h+n-1&~(n-1),p=d*f*ul[t];for(let m=0;m<s;m++)l[m]={levelID:m,levelWidth:s>1?u:d,levelHeight:s>1?h:f,levelBuffer:new Uint8Array(e.buffer,c,p)},c+=p,u=u>>1||1,h=h>>1||1,d=u+i-1&~(i-1),f=h+n-1&~(n-1),p=d*f*ul[t];return l}}const Iu=4,ia=124,bI=32,ag=20,xI=542327876,na={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},TI={FOURCC:2},oa={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},wI=1,AI=2,SI=4,EI=64,CI=512,PI=131072,RI=827611204,II=861165636,kI=894720068,LI=808540228,MI=4,DI={[RI]:yt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[II]:yt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[kI]:yt.COMPRESSED_RGBA_S3TC_DXT5_EXT},OI={70:yt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:yt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:yt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:yt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:yt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:yt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:yt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:yt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:yt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:yt.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:yt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function BI(r){const e=new Uint32Array(r);if(e[0]!==xI)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(r,0,ia/Uint32Array.BYTES_PER_ELEMENT),s=t[na.HEIGHT],i=t[na.WIDTH],n=t[na.MIPMAP_COUNT],o=new Uint32Array(r,na.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,bI/Uint32Array.BYTES_PER_ELEMENT),a=o[wI];if(a&SI){const l=o[TI.FOURCC];if(l!==LI){const v=DI[l],_=Iu+ia,T=new Uint8Array(r,_);return[new _i(T,{format:v,width:i,height:s,levels:n})]}const c=Iu+ia,u=new Uint32Array(e.buffer,c,ag/Uint32Array.BYTES_PER_ELEMENT),h=u[oa.DXGI_FORMAT],d=u[oa.RESOURCE_DIMENSION],f=u[oa.MISC_FLAG],p=u[oa.ARRAY_SIZE],m=OI[h];if(m===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${h}`);if(f===MI)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,y=Iu+ia+ag;if(p===1)g.push(new Uint8Array(r,y));else{const v=ul[m];let _=0,T=i,b=s;for(let x=0;x<n;x++){const I=Math.max(1,T+3&-4),k=Math.max(1,b+3&-4),O=I*k*v;_+=O,T=T>>>1,b=b>>>1}let L=y;for(let x=0;x<p;x++)g.push(new Uint8Array(r,L,_)),L+=_}return g.map(v=>new _i(v,{format:m,width:i,height:s,levels:n}))}throw a&EI?new Error("DDSParser does not support uncompressed texture data."):a&CI?new Error("DDSParser does not supported YUV uncompressed texture data."):a&PI?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&AI?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const lg=[171,75,84,88,32,49,49,187,13,10,26,10],FI=67305985,ar={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Kh=64,cg={[ye.UNSIGNED_BYTE]:1,[ye.UNSIGNED_SHORT]:2,[ye.INT]:4,[ye.UNSIGNED_INT]:4,[ye.FLOAT]:4,[ye.HALF_FLOAT]:8},NI={[q.RGBA]:4,[q.RGB]:3,[q.RG]:2,[q.RED]:1,[q.LUMINANCE]:1,[q.LUMINANCE_ALPHA]:2,[q.ALPHA]:1},$I={[ye.UNSIGNED_SHORT_4_4_4_4]:2,[ye.UNSIGNED_SHORT_5_5_5_1]:2,[ye.UNSIGNED_SHORT_5_6_5]:2};function UI(r,e,t=!1){const s=new DataView(e);if(!jI(r,s))return null;const i=s.getUint32(ar.ENDIANNESS,!0)===FI,n=s.getUint32(ar.GL_TYPE,i),o=s.getUint32(ar.GL_FORMAT,i),a=s.getUint32(ar.GL_INTERNAL_FORMAT,i),l=s.getUint32(ar.PIXEL_WIDTH,i),c=s.getUint32(ar.PIXEL_HEIGHT,i)||1,u=s.getUint32(ar.PIXEL_DEPTH,i)||1,h=s.getUint32(ar.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=s.getUint32(ar.NUMBER_OF_FACES,i),f=s.getUint32(ar.NUMBER_OF_MIPMAP_LEVELS,i),p=s.getUint32(ar.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||u!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,y=l+3&-4,v=c+3&-4,_=new Array(h);let T=l*c;n===0&&(T=y*v);let b;if(n!==0?cg[n]?b=cg[n]*NI[o]:b=$I[n]:b=ul[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=t?HI(s,p,i):null;let x=T*b,I=l,k=c,O=y,M=v,P=Kh+p;for(let B=0;B<f;B++){const R=s.getUint32(P,i);let G=P+4;for(let A=0;A<h;A++){let S=_[A];S||(S=_[A]=new Array(f)),S[B]={levelID:B,levelWidth:f>1||n!==0?I:O,levelHeight:f>1||n!==0?k:M,levelBuffer:new Uint8Array(e,G,x)},G+=x}P+=R+4,P=P%4!==0?P+4-P%4:P,I=I>>1||1,k=k>>1||1,O=I+m-1&-4,M=k+g-1&-4,x=O*M*b}return n!==0?{uncompressed:_.map(B=>{let R=B[0].levelBuffer,G=!1;return n===ye.FLOAT?R=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):n===ye.UNSIGNED_INT?(G=!0,R=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):n===ye.INT&&(G=!0,R=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new Nl(R,{width:B[0].levelWidth,height:B[0].levelHeight}),type:n,format:G?zI(o):o}}),kvData:L}:{compressed:_.map(B=>new _i(null,{format:a,width:l,height:c,levels:f,levelBuffers:B})),kvData:L}}function jI(r,e){for(let t=0;t<lg.length;t++)if(e.getUint8(t)!==lg[t])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function zI(r){switch(r){case q.RGBA:return q.RGBA_INTEGER;case q.RGB:return q.RGB_INTEGER;case q.RG:return q.RG_INTEGER;case q.RED:return q.RED_INTEGER;default:return r}}function HI(r,e,t){const s=new Map;let i=0;for(;i<e;){const n=r.getUint32(Kh+i,t),o=Kh+i+4,a=3-(n+3)%4;if(n===0||n>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<n&&r.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(r.buffer,o,l)),u=new DataView(r.buffer,o+l+1,n-l-1);s.set(c,u),i+=4+n+a}return s}const GI={extension:{type:ee.LoadParser,priority:Ar.High},name:"loadDDS",test(r){return Ys(r,".dds")},async load(r,e,t){const s=await(await ae.ADAPTER.fetch(r)).arrayBuffer(),i=BI(s).map(n=>{const o=new we(n,{mipmap:Hr.OFF,alphaMode:$t.NO_PREMULTIPLIED_ALPHA,resolution:fs(r),...e.data});return Mo(o,t,r)});return i.length===1?i[0]:i},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};pe.add(GI);const VI={extension:{type:ee.LoadParser,priority:Ar.High},name:"loadKTX",test(r){return Ys(r,".ktx")},async load(r,e,t){const s=await(await ae.ADAPTER.fetch(r)).arrayBuffer(),{compressed:i,uncompressed:n,kvData:o}=UI(r,s),a=i??n,l={mipmap:Hr.OFF,alphaMode:$t.NO_PREMULTIPLIED_ALPHA,resolution:fs(r),...e.data},c=a.map(u=>{a===n&&Object.assign(l,{type:u.type,format:u.format});const h=u.resource??u,d=new we(h,l);return d.ktxKeyValueData=o,Mo(d,t,r)});return c.length===1?c[0]:c},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};pe.add(VI);const WI=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],XI={extension:ee.ResolveParser,test:r=>{const e=mt.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{const e=r.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const s=e.pop();if(WI.includes(s))return{resolution:parseFloat(ae.RETINA_PREFIX.exec(r)?.[1]??"1"),format:s,src:r}}return{resolution:parseFloat(ae.RETINA_PREFIX.exec(r)?.[1]??"1"),format:t,src:r}}};pe.add(XI);const aa=new Se,YI=4,B0=class Yn{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,s,i){const n=new Image;return n.src=await this.base64(e,t,s,i),n}async base64(e,t,s,i){const n=this.canvas(e,i);if(n.toBlob!==void 0)return new Promise((o,a)=>{n.toBlob(l=>{if(!l){a(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>o(c.result),c.onerror=a,c.readAsDataURL(l)},t,s)});if(n.toDataURL!==void 0)return n.toDataURL(t,s);if(n.convertToBlob!==void 0){const o=await n.convertToBlob({type:t,quality:s});return new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(c.result),c.onerror=l,c.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:s,width:i,height:n,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);o&&Yn._flipY(s,i,n),a&&Yn._unpremultiplyAlpha(s);const l=new C2(i,n,1),c=new ImageData(new Uint8ClampedArray(s.buffer),i,n);return l.context.putImageData(c,0,0),l.canvas}pixels(e,t){const{pixels:s,width:i,height:n,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);return o&&Yn._flipY(s,i,n),a&&Yn._unpremultiplyAlpha(s),s}_rawPixels(e,t){const s=this.renderer;if(!s)throw new Error("The Extract has already been destroyed");let i,n=!1,o=!1,a,l=!1;e&&(e instanceof Mi?a=e:(a=s.generateTexture(e,{region:t,resolution:s.resolution,multisample:s.multisample}),l=!0,t&&(aa.width=t.width,aa.height=t.height,t=aa)));const c=s.gl;if(a){if(i=a.baseTexture.resolution,t=t??a.frame,n=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===q.RGBA,!l){s.renderTexture.bind(a);const f=a.framebuffer.glFramebuffers[s.CONTEXT_UID];f.blitFramebuffer&&s.framebuffer.bind(f.blitFramebuffer)}}else i=s.resolution,t||(t=aa,t.width=s.width/i,t.height=s.height/i),n=!0,o=this._rendererPremultipliedAlpha,s.renderTexture.bind();const u=Math.max(Math.round(t.width*i),1),h=Math.max(Math.round(t.height*i),1),d=new Uint8Array(YI*u*h);return c.readPixels(Math.round(t.x*i),Math.round(t.y*i),u,h,c.RGBA,c.UNSIGNED_BYTE,d),l&&a?.destroy(!0),{pixels:d,width:u,height:h,flipY:n,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,t,s){const i=t<<2,n=s>>1,o=new Uint8Array(i);for(let a=0;a<n;a++){const l=a*i,c=(s-a-1)*i;o.set(e.subarray(l,l+i)),e.copyWithin(l,c,c+i),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let s=0;s<t;s+=4){const i=e[s+3];if(i!==0){const n=255.001/i;e[s]=e[s]*n+.5,e[s+1]=e[s+1]*n+.5,e[s+2]=e[s+2]*n+.5}}}};B0.extension={name:"extract",type:ee.RendererSystem};let qI=B0;pe.add(qI);const hl={build(r){const e=r.points;let t,s,i,n,o,a;if(r.type===_t.CIRC){const p=r.shape;t=p.x,s=p.y,o=a=p.radius,i=n=0}else if(r.type===_t.ELIP){const p=r.shape;t=p.x,s=p.y,o=p.width,a=p.height,i=n=0}else{const p=r.shape,m=p.width/2,g=p.height/2;t=p.x+m,s=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-o,n=g-a}if(!(o>=0&&a>=0&&i>=0&&n>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(n?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=s+n,e[2]=e[4]=t-i,e[5]=e[7]=s-n;return}let u=0,h=l*4+(i?2:0)+2,d=h,f=c;{const p=i+o,m=n,g=t+p,y=t-p,v=s+m;if(e[u++]=g,e[u++]=v,e[--h]=v,e[--h]=y,n){const _=s-m;e[d++]=y,e[d++]=_,e[--f]=_,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=i+Math.cos(m)*o,y=n+Math.sin(m)*a,v=t+g,_=t-g,T=s+y,b=s-y;e[u++]=v,e[u++]=T,e[--h]=T,e[--h]=_,e[d++]=_,e[d++]=b,e[--f]=b,e[--f]=v}{const p=i,m=n+a,g=t+p,y=t-p,v=s+m,_=s-m;e[u++]=g,e[u++]=v,e[--f]=_,e[--f]=g,i&&(e[u++]=y,e[u++]=v,e[--f]=_,e[--f]=y)}},triangulate(r,e){const t=r.points,s=e.points,i=e.indices;if(t.length===0)return;let n=s.length/2;const o=n;let a,l;if(r.type!==_t.RREC){const u=r.shape;a=u.x,l=u.y}else{const u=r.shape;a=u.x+u.width/2,l=u.y+u.height/2}const c=r.matrix;s.push(r.matrix?c.a*a+c.c*l+c.tx:a,r.matrix?c.b*a+c.d*l+c.ty:l),n++,s.push(t[0],t[1]);for(let u=2;u<t.length;u+=2)s.push(t[u],t[u+1]),i.push(n++,o,n);i.push(o+1,o,n)}};function ug(r,e=!1){const t=r.length;if(t<6)return;let s=0;for(let i=0,n=r[t-2],o=r[t-1];i<t;i+=2){const a=r[i],l=r[i+1];s+=(a-n)*(l+o),n=a,o=l}if(!e&&s>0||e&&s<=0){const i=t/2;for(let n=i+i%2;n<t;n+=2){const o=t-n-2,a=t-n-1,l=n,c=n+1;[r[o],r[l]]=[r[l],r[o]],[r[a],r[c]]=[r[c],r[a]]}}}const F0={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const s=r.holes,i=e.points,n=e.indices;if(t.length>=6){ug(t,!1);const o=[];for(let c=0;c<s.length;c++){const u=s[c];ug(u.points,!0),o.push(t.length/2),t=t.concat(u.points)}const a=SC(t,o,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)n.push(a[c]+l),n.push(a[c+1]+l),n.push(a[c+2]+l);for(let c=0;c<t.length;c++)i.push(t[c])}}},ZI={build(r){const e=r.shape,t=e.x,s=e.y,i=e.width,n=e.height,o=r.points;o.length=0,i>=0&&n>=0&&o.push(t,s,t+i,s,t+i,s+n,t,s+n)},triangulate(r,e){const t=r.points,s=e.points;if(t.length===0)return;const i=s.length/2;s.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},KI={build(r){hl.build(r)},triangulate(r,e){hl.triangulate(r,e)}};var Qt=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(Qt||{}),Ms=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(Ms||{});const mn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class hg{static curveTo(e,t,s,i,n,o){const a=o[o.length-2],l=o[o.length-1]-t,c=a-e,u=i-t,h=s-e,d=Math.abs(l*h-c*u);if(d<1e-8||n===0)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const f=l*l+c*c,p=u*u+h*h,m=l*u+c*h,g=n*Math.sqrt(f)/d,y=n*Math.sqrt(p)/d,v=g*m/f,_=y*m/p,T=g*h+y*c,b=g*u+y*l,L=c*(y+v),x=l*(y+v),I=h*(g+_),k=u*(g+_),O=Math.atan2(x-b,L-T),M=Math.atan2(k-b,I-T);return{cx:T+e,cy:b+t,radius:n,startAngle:O,endAngle:M,anticlockwise:c*u>h*l}}static arc(e,t,s,i,n,o,a,l,c){const u=a-o,h=mn._segmentsCount(Math.abs(u)*n,Math.ceil(Math.abs(u)/rl)*40),d=u/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,y=g%1/g;for(let v=0;v<=g;++v){const _=v+y*v,T=d+o+f*_,b=Math.cos(T),L=-Math.sin(T);c.push((p*b+m*L)*n+s,(p*-L+m*b)*n+i)}}}class JI{constructor(){this.reset()}begin(e,t,s){this.reset(),this.style=e,this.start=t,this.attribStart=s}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class cf{static curveLength(e,t,s,i,n,o,a,l){let c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,y=0,v=0,_=0,T=e,b=t;for(let L=1;L<=10;++L)u=L/10,h=u*u,d=h*u,f=1-u,p=f*f,m=p*f,g=m*e+3*p*u*s+3*f*h*n+d*a,y=m*t+3*p*u*i+3*f*h*o+d*l,v=T-g,_=b-y,T=g,b=y,c+=Math.sqrt(v*v+_*_);return c}static curveTo(e,t,s,i,n,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const u=mn._segmentsCount(cf.curveLength(l,c,e,t,s,i,n,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,c);for(let g=1,y=0;g<=u;++g)y=g/u,h=1-y,d=h*h,f=d*h,p=y*y,m=p*y,a.push(f*l+3*d*y*e+3*h*p*s+m*n,f*c+3*d*y*t+3*h*p*i+m*o)}}function dg(r,e,t,s,i,n,o,a){const l=r-t*i,c=e-s*i,u=r+t*n,h=e+s*n;let d,f;o?(d=s,f=-t):(d=-s,f=t);const p=l+d,m=c+f,g=u+d,y=h+f;return a.push(p,m,g,y),2}function ri(r,e,t,s,i,n,o,a){const l=t-r,c=s-e;let u=Math.atan2(l,c),h=Math.atan2(i-r,n-e);a&&u<h?u+=Math.PI*2:!a&&u>h&&(h+=Math.PI*2);let d=u;const f=h-u,p=Math.abs(f),m=Math.sqrt(l*l+c*c),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,y=f/g;if(d+=y,a){o.push(r,e,t,s);for(let v=1,_=d;v<g;v++,_+=y)o.push(r,e,r+Math.sin(_)*m,e+Math.cos(_)*m);o.push(r,e,i,n)}else{o.push(t,s,r,e);for(let v=1,_=d;v<g;v++,_+=y)o.push(r+Math.sin(_)*m,e+Math.cos(_)*m,r,e);o.push(i,n,r,e)}return g*2}function QI(r,e){const t=r.shape;let s=r.points||t.points.slice();const i=e.closePointEps;if(s.length===0)return;const n=r.lineStyle,o=new Me(s[0],s[1]),a=new Me(s[s.length-2],s[s.length-1]),l=t.type!==_t.POLY||t.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){s=s.slice(),c&&(s.pop(),s.pop(),a.set(s[s.length-2],s[s.length-1]));const S=(o.x+a.x)*.5,w=(a.y+o.y)*.5;s.unshift(S,w),s.push(S,w)}const u=e.points,h=s.length/2;let d=s.length;const f=u.length/2,p=n.width/2,m=p*p,g=n.miterLimit*n.miterLimit;let y=s[0],v=s[1],_=s[2],T=s[3],b=0,L=0,x=-(v-T),I=y-_,k=0,O=0,M=Math.sqrt(x*x+I*I);x/=M,I/=M,x*=p,I*=p;const P=n.alignment,B=(1-P)*2,R=P*2;l||(n.cap===Ms.ROUND?d+=ri(y-x*(B-R)*.5,v-I*(B-R)*.5,y-x*B,v-I*B,y+x*R,v+I*R,u,!0)+2:n.cap===Ms.SQUARE&&(d+=dg(y,v,x,I,B,R,!0,u))),u.push(y-x*B,v-I*B,y+x*R,v+I*R);for(let S=1;S<h-1;++S){y=s[(S-1)*2],v=s[(S-1)*2+1],_=s[S*2],T=s[S*2+1],b=s[(S+1)*2],L=s[(S+1)*2+1],x=-(v-T),I=y-_,M=Math.sqrt(x*x+I*I),x/=M,I/=M,x*=p,I*=p,k=-(T-L),O=_-b,M=Math.sqrt(k*k+O*O),k/=M,O/=M,k*=p,O*=p;const w=_-y,C=v-T,E=_-b,D=L-T,$=w*E+C*D,N=C*E-D*w,H=N<0;if(Math.abs(N)<.001*Math.abs($)){u.push(_-x*B,T-I*B,_+x*R,T+I*R),$>=0&&(n.join===Qt.ROUND?d+=ri(_,T,_-x*B,T-I*B,_-k*B,T-O*B,u,!1)+4:d+=2,u.push(_-k*R,T-O*R,_+k*B,T+O*B));continue}const V=(-x+y)*(-I+T)-(-x+_)*(-I+v),Z=(-k+b)*(-O+T)-(-k+_)*(-O+L),te=(w*Z-E*V)/N,ie=(D*V-C*Z)/N,re=(te-_)*(te-_)+(ie-T)*(ie-T),W=_+(te-_)*B,se=T+(ie-T)*B,ne=_-(te-_)*R,le=T-(ie-T)*R,ve=Math.min(w*w+C*C,E*E+D*D),Q=H?B:R,J=ve+Q*Q*m,$e=re<=J;let Ue=n.join;if(Ue===Qt.MITER&&re/m>g&&(Ue=Qt.BEVEL),$e)switch(Ue){case Qt.MITER:{u.push(W,se,ne,le);break}case Qt.BEVEL:{H?u.push(W,se,_+x*R,T+I*R,W,se,_+k*R,T+O*R):u.push(_-x*B,T-I*B,ne,le,_-k*B,T-O*B,ne,le),d+=2;break}case Qt.ROUND:{H?(u.push(W,se,_+x*R,T+I*R),d+=ri(_,T,_+x*R,T+I*R,_+k*R,T+O*R,u,!0)+4,u.push(W,se,_+k*R,T+O*R)):(u.push(_-x*B,T-I*B,ne,le),d+=ri(_,T,_-x*B,T-I*B,_-k*B,T-O*B,u,!1)+4,u.push(_-k*B,T-O*B,ne,le));break}}else{switch(u.push(_-x*B,T-I*B,_+x*R,T+I*R),Ue){case Qt.MITER:{H?u.push(ne,le,ne,le):u.push(W,se,W,se),d+=2;break}case Qt.ROUND:{H?d+=ri(_,T,_+x*R,T+I*R,_+k*R,T+O*R,u,!0)+2:d+=ri(_,T,_-x*B,T-I*B,_-k*B,T-O*B,u,!1)+2;break}}u.push(_-k*B,T-O*B,_+k*R,T+O*R),d+=2}}y=s[(h-2)*2],v=s[(h-2)*2+1],_=s[(h-1)*2],T=s[(h-1)*2+1],x=-(v-T),I=y-_,M=Math.sqrt(x*x+I*I),x/=M,I/=M,x*=p,I*=p,u.push(_-x*B,T-I*B,_+x*R,T+I*R),l||(n.cap===Ms.ROUND?d+=ri(_-x*(B-R)*.5,T-I*(B-R)*.5,_-x*B,T-I*B,_+x*R,T+I*R,u,!1)+2:n.cap===Ms.SQUARE&&(d+=dg(_,T,x,I,B,R,!1,u)));const G=e.indices,A=mn.epsilon*mn.epsilon;for(let S=f;S<d+f-2;++S)y=u[S*2],v=u[S*2+1],_=u[(S+1)*2],T=u[(S+1)*2+1],b=u[(S+2)*2],L=u[(S+2)*2+1],!(Math.abs(y*(T-L)+_*(L-v)+b*(v-T))<A)&&G.push(S,S+1,S+2)}function ek(r,e){let t=0;const s=r.shape,i=r.points||s.points,n=s.type!==_t.POLY||s.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,c=o.length/2;let u=c;for(o.push(i[0],i[1]),t=1;t<l;t++)o.push(i[t*2],i[t*2+1]),a.push(u,u+1),u++;n&&a.push(u,c)}function fg(r,e){r.lineStyle.native?ek(r,e):QI(r,e)}class uf{static curveLength(e,t,s,i,n,o){const a=e-2*s+n,l=t-2*i+o,c=2*s-2*e,u=2*i-2*t,h=4*(a*a+l*l),d=4*(a*c+l*u),f=c*c+u*u,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,y=2*Math.sqrt(f),v=d/m;return(g*p+m*d*(p-y)+(4*f*h-d*d)*Math.log((2*m+v+p)/(v+y)))/(4*g)}static curveTo(e,t,s,i,n){const o=n[n.length-2],a=n[n.length-1],l=mn._segmentsCount(uf.curveLength(o,a,e,t,s,i));let c=0,u=0;for(let h=1;h<=l;++h){const d=h/l;c=o+(e-o)*d,u=a+(t-a)*d,n.push(c+(e+(s-e)*d-c)*d,u+(t+(i-t)*d-u)*d)}}}const ku={[_t.POLY]:F0,[_t.CIRC]:hl,[_t.ELIP]:hl,[_t.RECT]:ZI,[_t.RREC]:KI},pg=[],la=[];class dl{constructor(e,t=null,s=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=s,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new dl(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ui=new Me,N0=class $0 extends G_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new al,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),la.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),pg.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,s=null,i=null){const n=new dl(e,t,s,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const s=new dl(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return s.lineStyle=i.lineStyle,i.holes.push(s),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let s=0;s<t.length;++s){const i=t[s];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Ui):Ui.copyFrom(e),i.shape.contains(Ui.x,Ui.y))){let n=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Ui.x,Ui.y)){n=!0;break}}if(!n)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let s=null,i=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],i=s.style);for(let l=this.shapeIndex;l<t.length;l++){this.shapeIndex++;const c=t[l],u=c.fillStyle,h=c.lineStyle;ku[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(u.visible||h.visible)&&this.processHoles(c.holes);for(let d=0;d<2;d++){const f=d===0?u:h;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=Bs.REPEAT,d===0?this.processFill(c):this.processLine(c);const y=this.points.length/2-g;y!==0&&(s&&!this._compareStyles(i,f)&&(s.end(m,g),s=null),s||(s=pg.pop()||new JI,s.begin(f,m,g),this.batches.push(s),i=f),this.addUvs(this.points,e,f.texture,g,y,f.matrix))}}const n=this.indices.length,o=this.points.length/2;if(s&&s.end(n,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const s=this.graphicsData[e],i=s.fillStyle,n=s.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,s=e.length;t<s;t++){const i=e[t];for(let n=0;n<i.size;n++){const o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<$0.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++we._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),la.push(this.drawCalls[h]);this.drawCalls.length=0;const t=this.colors,s=this.textureIds;let i=la.pop();i||(i=new Rh,i.texArray=new Mh),i.texArray.count=0,i.start=0,i.size=0,i.type=Or.TRIANGLES;let n=0,o=null,a=0,l=!1,c=Or.TRIANGLES,u=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const d=this.batches[h],f=8,p=d.style,m=p.texture.baseTexture;l!==!!p.native&&(l=!!p.native,c=l?Or.LINES:Or.TRIANGLES,o=null,n=f,e++),o!==m&&(o=m,m._batchEnabled!==e&&(n===f&&(e++,n=0,i.size>0&&(i=la.pop(),i||(i=new Rh,i.texArray=new Mh),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=c),m.touched=1,m._batchEnabled=e,m._batchLocation=n,m.wrapMode=Bs.REPEAT,i.texArray.elements[i.texArray.count++]=m,n++)),i.size+=d.size,u+=d.size,a=m._batchLocation,this.addColors(t,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(s,a,d.attribSize,d.attribStart)}we._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,s=this.colors,i=this.textureIds,n=new ArrayBuffer(e.length*3*4),o=new Float32Array(n),a=new Uint32Array(n);let l=0;for(let c=0;c<e.length/2;c++)o[l++]=e[c*2],o[l++]=e[c*2+1],o[l++]=t[c*2],o[l++]=t[c*2+1],a[l++]=s[c],o[l++]=i[c];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?F0.triangulate(e,this):ku[e.type].triangulate(e,this)}processLine(e){fg(e,this);for(let t=0;t<e.holes.length;t++)fg(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const s=e[t];ku[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let s=0;s<e.length/2;s++){const i=e[s*2],n=e[s*2+1];e[s*2]=t.a*i+t.c*n+t.tx,e[s*2+1]=t.b*i+t.d*n+t.ty}}addColors(e,t,s,i,n=0){const o=We.shared.setValue(t).toLittleEndianNumber(),a=We.shared.setValue(o).toPremultiplied(s);e.length=Math.max(e.length,n+i);for(let l=0;l<i;l++)e[n+l]=a}addTextureIds(e,t,s,i=0){e.length=Math.max(e.length,i+s);for(let n=0;n<s;n++)e[i+n]=t}addUvs(e,t,s,i,n,o=null){let a=0;const l=t.length,c=s.frame;for(;a<n;){let h=e[(i+a)*2],d=e[(i+a)*2+1];if(o){const f=o.a*h+o.c*d+o.tx;d=o.b*h+o.d*d+o.ty,h=f}a++,t.push(h/c.width,d/c.height)}const u=s.baseTexture;(c.width<u.width||c.height<u.height)&&this.adjustUvs(t,s,l,n)}adjustUvs(e,t,s,i){const n=t.baseTexture,o=1e-6,a=s+i*2,l=t.frame,c=l.width/n.width,u=l.height/n.height;let h=l.x/l.width,d=l.y/l.height,f=Math.floor(e[s]+o),p=Math.floor(e[s+1]+o);for(let m=s+2;m<a;m+=2)f=Math.min(f,Math.floor(e[m]+o)),p=Math.min(p,Math.floor(e[m+1]+o));h-=f,d-=p;for(let m=s;m<a;m+=2)e[m]=(e[m]+h)*c,e[m+1]=(e[m+1]+d)*u}};N0.BATCHABLE_SIZE=100;let tk=N0;class Gl{constructor(){this.color=16777215,this.alpha=1,this.texture=fe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Gl;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=fe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class hf extends Gl{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ms.BUTT,this.join=Qt.MITER,this.miterLimit=10}clone(){const e=new hf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ms.BUTT,this.join=Qt.MITER,this.miterLimit=10}}const Lu={},Jh=class $a extends xr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Gl,this._lineStyle=new hf,this._matrix=null,this._holeMode=!1,this.state=Xr.for2d(),this._geometry=e||new tk,this._geometry.refCount++,this._transformID=-1,this._tintColor=new We(16777215),this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new $a(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,s,i=.5,n=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:s,alignment:i,native:n}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:fe.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ms.BUTT,join:Qt.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const s=e.width>0&&e.alpha>0;return s?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:s},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new vi,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new vi,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const s=this.currentPath.points,i=s[s.length-2],n=s[s.length-1];return(i!==e||n!==t)&&s.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,s,i){this._initCurve();const n=this.currentPath.points;return n.length===0&&this.moveTo(0,0),uf.curveTo(e,t,s,i,n),this}bezierCurveTo(e,t,s,i,n,o){return this._initCurve(),cf.curveTo(e,t,s,i,n,o,this.currentPath.points),this}arcTo(e,t,s,i,n){this._initCurve(e,t);const o=this.currentPath.points,a=hg.curveTo(e,t,s,i,n,o);if(a){const{cx:l,cy:c,radius:u,startAngle:h,endAngle:d,anticlockwise:f}=a;this.arc(l,c,u,h,d,f)}return this}arc(e,t,s,i,n,o=!1){if(i===n)return this;if(!o&&n<=i?n+=rl:o&&i<=n&&(i+=rl),n-i===0)return this;const a=e+Math.cos(i)*s,l=t+Math.sin(i)*s,c=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const h=Math.abs(u[u.length-2]-a),d=Math.abs(u[u.length-1]-l);h<c&&d<c||u.push(a,l)}else this.moveTo(a,l),u=this.currentPath.points;return hg.arc(a,l,e,t,s,i,n,o,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:fe.WHITE,color:e,alpha:t})}normalizeColor(e){const t=We.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:fe.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const s=e.alpha>0;return s?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:s},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,s,i){return this.drawShape(new Se(e,t,s,i))}drawRoundedRect(e,t,s,i,n){return this.drawShape(new jl(e,t,s,i,n))}drawCircle(e,t,s){return this.drawShape(new $l(e,t,s))}drawEllipse(e,t,s,i){return this.drawShape(new Ul(e,t,s,i))}drawPolygon(...e){let t,s=!0;const i=e[0];i.points?(s=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;const n=new vi(t);return n.closeStroke=s,this.drawShape(n),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===_t.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,s=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=s,this.vertexData=new Float32Array(e.points);for(let i=0;i<s;i++){const n=e.batches[i],o=n.style.color,a=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,n.start*2,n.size),u={vertexData:a,blendMode:t,indices:c,uvs:l,_batchRGB:We.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=u}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,s=this.batches.length;t<s;t++){const i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const t=this._resolveDirectShader(e),s=this._geometry,i=this.worldAlpha,n=t.uniforms,o=s.drawCalls;n.translationMatrix=this.transform.worldTransform,We.shared.setValue(this._tintColor).premultiply(i).toArray(n.tint),e.shader.bind(t),e.geometry.bind(s,t),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,s.drawCalls[a])}_renderDrawCallDirect(e,t){const{texArray:s,type:i,size:n,start:o}=t,a=s.count;for(let l=0;l<a;l++)e.texture.bind(s.elements[l],l);e.geometry.draw(i,n,o)}_resolveDirectShader(e){let t=this.shader;const s=this.pluginName;if(!t){if(!Lu[s]){const{maxTextures:i}=e.plugins[s],n=new Int32Array(i);for(let l=0;l<i;l++)n[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:yr.from({uSamplers:n},!0)},a=e.plugins[s]._shader.program;Lu[s]=new $r(a,o)}t=Lu[s]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:s,maxX:i,maxY:n}=e.bounds;this._bounds.addFrame(this.transform,t,s,i,n)}containsPoint(e){return this.worldTransform.applyInverse(e,$a._TEMP_POINT),this._geometry.containsPoint($a._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=We.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,s=t.a,i=t.b,n=t.c,o=t.d,a=t.tx,l=t.ty,c=this._geometry.points,u=this.vertexData;let h=0;for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];u[h++]=s*f+n*p+a,u[h++]=o*p+i*f+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Jh.curves=mn,Jh._TEMP_POINT=new Me;let U0=Jh;class rk{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Mu=new Me,mg=new vi,j0=class z0 extends xr{constructor(e,t,s,i=Or.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=s||Xr.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Or.TRIANGLES&&t.length<z0.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,s=this.shader;s.uvMatrix&&(s.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=s._tintRGB,this._texture=s.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,s=e._updateID;if(s===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const i=this.transform.worldTransform,n=i.a,o=i.b,a=i.c,l=i.d,c=i.tx,u=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=t[d*2],p=t[d*2+1];h[d*2]=n*f+a*p+c,h[d*2+1]=o*f+l*p+u}if(this._roundPixels){const d=ae.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=s}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new rk(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Mu);const t=this.geometry.getBuffer("aVertexPosition").data,s=mg.points,i=this.geometry.getIndex().data,n=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<n;a+=o){const l=i[a]*2,c=i[a+1]*2,u=i[a+2]*2;if(s[0]=t[l],s[1]=t[l+1],s[2]=t[c],s[3]=t[c+1],s[4]=t[u],s[5]=t[u+1],mg.contains(Mu.x,Mu.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};j0.BATCHABLE_SIZE=100;let gg=j0;class sk extends js{constructor(e,t,s){super();const i=new ot(e),n=new ot(t,!0),o=new ot(s,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ye.FLOAT).addAttribute("aTextureCoord",n,2,!1,ye.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var ik=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,nk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class yg extends $r{constructor(e,t){const s={uSampler:e,alpha:1,uTextureMatrix:Ye.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(s,t.uniforms),super(t.program||ns.from(nk,ik),s),this._colorDirty=!1,this.uvMatrix=new i0(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new We(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;We.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class vg{constructor(e,t,s){this.geometry=new js,this.indexBuffer=null,this.size=s,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let n=e[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||ye.FLOAT,offset:n.offset},t[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new ot(S2(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=t,t+=a.size,this.dynamicStride+=a.size}const s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new ot(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const n=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(n),this.staticDataUint32=new Uint32Array(n),this.staticBuffer=new ot(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ye.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ye.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,t,s){for(let i=0;i<this.dynamicProperties.length;i++){const n=this.dynamicProperties[i];n.uploadFunction(e,t,s,n.type===ye.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,s){for(let i=0;i<this.staticProperties.length;i++){const n=this.staticProperties[i];n.uploadFunction(e,t,s,n.type===ye.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var ok=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ak=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class H0 extends zl{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ye,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ye.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=$r.from(ak,ok,{}),this.state=Xr.for2d()}render(e){const t=e.children,s=e._maxSize,i=e._batchSize,n=this.renderer;let o=t.length;if(o===0)return;o>s&&!e.autoResize&&(o=s);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=t[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=j_(e.blendMode,c),n.state.set(this.state);const u=n.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=We.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(t,f,m);const y=e._bufferUpdateIDs[p]||0;d=d||g._updateID<y,d&&(g._updateID=e._updateID,g.uploadStatic(t,f,m)),n.geometry.bind(g.geometry),u.drawElements(u.TRIANGLES,m*6,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],s=e._maxSize,i=e._batchSize,n=e._properties;for(let o=0;o<s;o+=i)t.push(new vg(this.properties,n,i));return t}_generateOneMoreBuffer(e){const t=e._batchSize,s=e._properties;return new vg(this.properties,s,t)}uploadVertices(e,t,s,i,n,o){let a=0,l=0,c=0,u=0;for(let h=0;h<s;++h){const d=e[t+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,y=f.orig;g?(l=g.x-d.anchor.x*y.width,a=l+g.width,u=g.y-d.anchor.y*y.height,c=u+g.height):(a=y.width*(1-d.anchor.x),l=y.width*-d.anchor.x,c=y.height*(1-d.anchor.y),u=y.height*-d.anchor.y),i[o]=l*p,i[o+1]=u*m,i[o+n]=a*p,i[o+n+1]=u*m,i[o+n*2]=a*p,i[o+n*2+1]=c*m,i[o+n*3]=l*p,i[o+n*3+1]=c*m,o+=n*4}}uploadPosition(e,t,s,i,n,o){for(let a=0;a<s;a++){const l=e[t+a].position;i[o]=l.x,i[o+1]=l.y,i[o+n]=l.x,i[o+n+1]=l.y,i[o+n*2]=l.x,i[o+n*2+1]=l.y,i[o+n*3]=l.x,i[o+n*3+1]=l.y,o+=n*4}}uploadRotation(e,t,s,i,n,o){for(let a=0;a<s;a++){const l=e[t+a].rotation;i[o]=l,i[o+n]=l,i[o+n*2]=l,i[o+n*3]=l,o+=n*4}}uploadUvs(e,t,s,i,n,o){for(let a=0;a<s;++a){const l=e[t+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+n]=l.x1,i[o+n+1]=l.y1,i[o+n*2]=l.x2,i[o+n*2+1]=l.y2,i[o+n*3]=l.x3,i[o+n*3+1]=l.y3,o+=n*4):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+n*2]=0,i[o+n*2+1]=0,i[o+n*3]=0,i[o+n*3+1]=0,o+=n*4)}}uploadTint(e,t,s,i,n,o){for(let a=0;a<s;++a){const l=e[t+a],c=We.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=c,i[o+n]=c,i[o+n*2]=c,i[o+n*3]=c,o+=n*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}H0.extension={name:"particle",type:ee.RendererPlugin};pe.add(H0);var Vl=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(Vl||{});const ca={willReadFrequently:!0},Ir=class me{static get experimentalLetterSpacingSupported(){let e=me._experimentalLetterSpacingSupported;if(e!==void 0){const t=ae.ADAPTER.getCanvasRenderingContext2D().prototype;e=me._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,s,i,n,o,a,l,c){this.text=e,this.style=t,this.width=s,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(e,t,s,i=me._canvas){s=s??t.wordWrap;const n=t.toFontString(),o=me.measureFont(n);o.fontSize===0&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);const a=i.getContext("2d",ca);a.font=n;const l=(s?me.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let u=0;for(let p=0;p<l.length;p++){const m=me._measureText(l[p],t.letterSpacing,a);c[p]=m,u=Math.max(u,m)}let h=u+t.strokeThickness;t.dropShadow&&(h+=t.dropShadowDistance);const d=t.lineHeight||o.fontSize+t.strokeThickness;let f=Math.max(d,o.fontSize+t.strokeThickness*2)+t.leading+(l.length-1)*(d+t.leading);return t.dropShadow&&(f+=t.dropShadowDistance),new me(e,t,h,f,l,c,d+t.leading,u,o)}static _measureText(e,t,s){let i=!1;me.experimentalLetterSpacingSupported&&(me.experimentalLetterSpacing?(s.letterSpacing=`${t}px`,s.textLetterSpacing=`${t}px`,i=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));let n=s.measureText(e).width;return n>0&&(i?n-=t:n+=(me.graphemeSegmenter(e).length-1)*t),n}static wordWrap(e,t,s=me._canvas){const i=s.getContext("2d",ca);let n=0,o="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=t,h=me.collapseSpaces(u),d=me.collapseNewlines(u);let f=!h;const p=t.wordWrapWidth+c,m=me.tokenize(e);for(let g=0;g<m.length;g++){let y=m[g];if(me.isNewline(y)){if(!d){a+=me.addLine(o),f=!h,o="",n=0;continue}y=" "}if(h){const _=me.isBreakingSpace(y),T=me.isBreakingSpace(o[o.length-1]);if(_&&T)continue}const v=me.getFromCache(y,c,l,i);if(v>p)if(o!==""&&(a+=me.addLine(o),o="",n=0),me.canBreakWords(y,t.breakWords)){const _=me.wordWrapSplit(y);for(let T=0;T<_.length;T++){let b=_[T],L=b,x=1;for(;_[T+x];){const k=_[T+x];if(!me.canBreakChars(L,k,y,T,t.breakWords))b+=k;else break;L=k,x++}T+=x-1;const I=me.getFromCache(b,c,l,i);I+n>p&&(a+=me.addLine(o),f=!1,o="",n=0),o+=b,n+=I}}else{o.length>0&&(a+=me.addLine(o),o="",n=0);const _=g===m.length-1;a+=me.addLine(y,!_),f=!1,o="",n=0}else v+n>p&&(f=!1,a+=me.addLine(o),o="",n=0),(o.length>0||!me.isBreakingSpace(y)||f)&&(o+=y,n+=v)}return a+=me.addLine(o,!1),a}static addLine(e,t=!0){return e=me.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,s,i){let n=s[e];return typeof n!="number"&&(n=me._measureText(e,t,i)+t,s[e]=n),n}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const s=e[t];if(!me.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:me._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:me._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let s="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const n=e[i],o=e[i+1];if(me.isBreakingSpace(n,o)||me.isNewline(n)){s!==""&&(t.push(s),s=""),t.push(n);continue}s+=n}return s!==""&&t.push(s),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,s,i,n){return!0}static wordWrapSplit(e){return me.graphemeSegmenter(e)}static measureFont(e){if(me._fonts[e])return me._fonts[e];const t={ascent:0,descent:0,fontSize:0},s=me._canvas,i=me._context;i.font=e;const n=me.METRICS_STRING+me.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width);let a=Math.ceil(i.measureText(me.BASELINE_SYMBOL).width);const l=Math.ceil(me.HEIGHT_MULTIPLIER*a);if(a=a*me.BASELINE_MULTIPLIER|0,o===0||l===0)return me._fonts[e]=t,t;s.width=o,s.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,a);const c=i.getImageData(0,0,o,l).data,u=c.length,h=o*4;let d=0,f=0,p=!1;for(d=0;d<a;++d){for(let m=0;m<h;m+=4)if(c[f+m]!==255){p=!0;break}if(!p)f+=h;else break}for(t.ascent=a-d,f=u-h,p=!1,d=l;d>a;--d){for(let m=0;m<h;m+=4)if(c[f+m]!==255){p=!0;break}if(!p)f-=h;else break}return t.descent=d-a,t.fontSize=t.ascent+t.descent,me._fonts[e]=t,t}static clearMetrics(e=""){e?delete me._fonts[e]:me._fonts={}}static get _canvas(){if(!me.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",ca)?.measureText)return me.__canvas=t,t;e=ae.ADAPTER.createCanvas()}catch{e=ae.ADAPTER.createCanvas()}e.width=e.height=10,me.__canvas=e}return me.__canvas}static get _context(){return me.__context||(me.__context=me._canvas.getContext("2d",ca)),me.__context}};Ir.METRICS_STRING="|ÉqÅ",Ir.BASELINE_SYMBOL="M",Ir.BASELINE_MULTIPLIER=1.4,Ir.HEIGHT_MULTIPLIER=2,Ir.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),Ir.experimentalLetterSpacing=!1,Ir._fonts={},Ir._newlines=[10,13],Ir._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ps=Ir;const lk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],G0=class qn{constructor(e){this.styleID=0,this.reset(),Ou(this,e,e)}clone(){const e={};return Ou(e,this,qn.defaultStyle),new qn(e)}reset(){Ou(this,qn.defaultStyle,qn.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Du(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Du(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){ck(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Du(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let s=t.length-1;s>=0;s--){let i=t[s].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!lk.includes(i)&&(i=`"${i}"`),t[s]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};G0.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Vl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let zs=G0;function Du(r){const e=We.shared,t=s=>{const i=e.setValue(s);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function ck(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function Ou(r,e,t){for(const s in t)Array.isArray(e[s])?r[s]=e[s].slice():r[s]=e[s]}const uk={texture:!0,children:!1,baseTexture:!0},V0=class Qh extends Cn{constructor(e,t,s){let i=!1;s||(s=ae.ADAPTER.createCanvas(),i=!0),s.width=3,s.height=3;const n=fe.from(s);n.orig=new Se,n.trim=new Se,super(n),this._ownCanvas=i,this.canvas=s,this.context=s.getContext("2d",{willReadFrequently:!0}),this._resolution=Qh.defaultResolution??ae.RESOLUTION,this._autoResolution=Qh.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ps.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Re("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ps.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const s=this.context,i=Ps.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=i.width,o=i.height,a=i.lines,l=i.lineHeight,c=i.lineWidths,u=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,n)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),s.scale(this._resolution,this._resolution),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.font=this._font,s.lineWidth=t.strokeThickness,s.textBaseline=t.textBaseline,s.lineJoin=t.lineJoin,s.miterLimit=t.miterLimit;let d,f;const p=t.dropShadow?2:1;for(let m=0;m<p;++m){const g=t.dropShadow&&m===0,y=g?Math.ceil(Math.max(1,o)+t.padding*2):0,v=y*this._resolution;if(g){s.fillStyle="black",s.strokeStyle="black";const T=t.dropShadowColor,b=t.dropShadowBlur*this._resolution,L=t.dropShadowDistance*this._resolution;s.shadowColor=We.shared.setValue(T).setAlpha(t.dropShadowAlpha).toRgbaString(),s.shadowBlur=b,s.shadowOffsetX=Math.cos(t.dropShadowAngle)*L,s.shadowOffsetY=Math.sin(t.dropShadowAngle)*L+v}else s.fillStyle=this._generateFillStyle(t,a,i),s.strokeStyle=t.stroke,s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;let _=(l-h.fontSize)/2;l-h.fontSize<0&&(_=0);for(let T=0;T<a.length;T++)d=t.strokeThickness/2,f=t.strokeThickness/2+T*l+h.ascent+_,t.align==="right"?d+=u-c[T]:t.align==="center"&&(d+=(u-c[T])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[T],d+t.padding,f+t.padding-y,!0),t.fill&&this.drawLetterSpacing(a[T],d+t.padding,f+t.padding-y)}this.updateTexture()}drawLetterSpacing(e,t,s,i=!1){const n=this._style.letterSpacing;let o=!1;if(Ps.experimentalLetterSpacingSupported&&(Ps.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),n===0||o){i?this.context.strokeText(e,t,s):this.context.fillText(e,t,s);return}let a=t;const l=Ps.graphemeSegmenter(e);let c=this.context.measureText(e).width,u=0;for(let h=0;h<l.length;++h){const d=l[h];i?this.context.strokeText(d,a,s):this.context.fillText(d,a,s);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];u=this.context.measureText(f).width,a+=c-u+n,c=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=R2(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const t=this._texture,s=this._style,i=s.trim?0:s.padding,n=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),n.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,s){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let n;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-a*2,c=this.canvas.height/this._resolution-o-a*2,u=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const d=u.length+1;for(let f=1;f<d;++f)h.push(f/d)}if(u.unshift(i[0]),h.unshift(0),u.push(i[i.length-1]),h.push(1),e.fillGradientType===Vl.LINEAR_VERTICAL){n=this.context.createLinearGradient(l/2,a,l/2,c+a);const d=s.fontProperties.fontSize+e.strokeThickness;for(let f=0;f<t.length;f++){const p=s.lineHeight*(f-1)+d,m=s.lineHeight*f;let g=m;f>0&&p>m&&(g=(m+p)/2);const y=m+d,v=s.lineHeight*(f+1);let _=y;f+1<t.length&&v<y&&(_=(y+v)/2);const T=(_-g)/c;for(let b=0;b<u.length;b++){let L=0;typeof h[b]=="number"?L=h[b]:L=b/u.length;let x=Math.min(1,Math.max(0,g/c+L*T));x=Number(x.toFixed(5)),n.addColorStop(x,u[b])}}}else{n=this.context.createLinearGradient(a,c/2,l+a,c/2);const d=u.length+1;let f=1;for(let p=0;p<u.length;p++){let m;typeof h[p]=="number"?m=h[p]:m=f/d,n.addColorStop(m,u[p]),f++}}return n}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},uk,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Ls(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Ls(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof zs?this._style=e:this._style=new zs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};V0.defaultAutoResolution=!0;let W0=V0;class hk{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function dk(r,e){let t=!1;if(r?._textures?.length){for(let s=0;s<r._textures.length;s++)if(r._textures[s]instanceof fe){const i=r._textures[s].baseTexture;e.includes(i)||(e.push(i),t=!0)}}return t}function fk(r,e){if(r.baseTexture instanceof we){const t=r.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function pk(r,e){if(r._texture&&r._texture instanceof fe){const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function mk(r,e){return e instanceof W0?(e.updateText(!0),!0):!1}function gk(r,e){if(e instanceof zs){const t=e.toFontString();return Ps.measureFont(t),!0}return!1}function yk(r,e){if(r instanceof W0){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const t=r._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function vk(r,e){return r instanceof zs?(e.includes(r)||e.push(r),!0):!1}const X0=class Y0{constructor(e){this.limiter=new hk(Y0.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(yk),this.registerFindHook(vk),this.registerFindHook(dk),this.registerFindHook(fk),this.registerFindHook(pk),this.registerUploadHook(mk),this.registerUploadHook(gk)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Yt.system.addOnce(this.tick,this,Ci.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let s=0,i=this.uploadHooks.length;s<i;s++)if(this.uploadHooks[s](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Yt.system.addOnce(this.tick,this,Ci.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,s=e.length;t<s;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,s=this.addHooks.length;t<s&&!this.addHooks[t](e,this.queue);t++);if(e instanceof xr)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Yt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};X0.uploadsPerFrame=4;let ed=X0;Object.defineProperties(ae,{UPLOADS_PER_FRAME:{get(){return ed.uploadsPerFrame},set(r){Re("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),ed.uploadsPerFrame=r}}});function q0(r,e){return e instanceof we?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function _k(r,e){if(!(e instanceof U0))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:s}=t;for(let i=0;i<s.length;i++){const{texture:n}=s[i].style;n&&q0(r,n.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function bk(r,e){return r instanceof U0?(e.push(r),!0):!1}class Z0 extends ed{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(bk),this.registerUploadHook(q0),this.registerUploadHook(_k)}}Z0.extension={name:"prepare",type:ee.RendererSystem};pe.add(Z0);var xk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Tk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,wk=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,_g=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ak=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const ua=new Ye;class K0 extends zl{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new e0,this.state=Xr.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=$r.from(_g,Ak,t),this.shader=e.context.webGLVersion>1?$r.from(Tk,xk,t):$r.from(_g,wk,t)}render(e){const t=this.renderer,s=this.quad;let i=s.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const n=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=s.uvs,i[0]=i[6]=-n,i[1]=i[3]=-o,i[2]=i[4]=1-n,i[5]=i[7]=1-o,s.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,u=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[t.CONTEXT_UID]?d=l.wrapMode!==Bs.CLAMP:l.wrapMode===Bs.CLAMP&&(l.wrapMode=Bs.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,y=e._height;ua.set(u.a*p/g,u.b*p/y,u.c*m/g,u.d*m/y,u.tx/g,u.ty/y),ua.invert(),d?ua.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=ua.toArray(!0),f.uniforms.uColor=We.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,t.shader.bind(f),t.geometry.bind(s),this.state.blendMode=j_(e.blendMode,c),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}K0.extension={name:"tilingSprite",type:ee.RendererPlugin};pe.add(K0);const J0=class Zn{constructor(e,t,s){this.linkedSheets=[],(e instanceof we||e instanceof fe)&&(e={texture:e,data:t,resolutionFilename:s});const{texture:i,data:n,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof fe?i:null,this.baseTexture=i instanceof we?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let s=fs(e,null);return s===null&&(s=typeof t=="number"?t:parseFloat(t??"1")),s!==1&&this.baseTexture.setResolution(s),s}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Zn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const s=Zn.BATCH_SIZE;for(;t-e<s&&t<this._frameKeys.length;){const i=this._frameKeys[t],n=this._frames[i],o=n.frame;if(o){let a=null,l=null;const c=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,u=new Se(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);n.rotated?a=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(l=new Se(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new fe(this.baseTexture,a,u,l,n.rotated?2:0,n.anchor,n.borders),fe.addToCache(this.textures[i],this.cachePrefix+i.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let s=0;s<e[t].length;s++){const i=e[t][s];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Zn.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Zn.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};J0.BATCH_SIZE=1e3;let bg=J0;const Sk=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Q0(r,e,t){const s={};if(r.forEach(i=>{s[i]=e}),Object.keys(e.textures).forEach(i=>{s[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=mt.dirname(r[0]);e.linkedSheets.forEach((n,o)=>{Object.assign(s,Q0([`${i}/${e.data.meta.related_multi_packs[o]}`],n,!0))})}return s}const Ek={extension:ee.Asset,cache:{test:r=>r instanceof bg,getCacheableAssets:(r,e)=>Q0(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),t=e.pop(),s=e.pop();return t==="json"&&Sk.includes(s)},parse:r=>{const e=r.split(".");return{resolution:parseFloat(ae.RETINA_PREFIX.exec(r)?.[1]??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:ee.LoadParser,priority:Ar.Normal},async testParse(r,e){return mt.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,t){const{texture:s,imageFilename:i,cachePrefix:n}=e?.data??{};let o=mt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(s&&s.baseTexture)a=s;else{const u=qh(o+(i??r.meta.image),e.src);a=(await t.load([u]))[u]}const l=new bg({texture:a.baseTexture,data:r,resolutionFilename:e.src,cachePrefix:n});await l.parse();const c=r?.meta?.related_multi_packs;if(Array.isArray(c)){const u=[];for(const d of c){if(typeof d!="string")continue;let f=o+d;e.data?.ignoreMultiPack||(f=qh(f,e.src),u.push(t.load({src:f,data:{ignoreMultiPack:!0}})))}const h=await Promise.all(u);l.linkedSheets=h,h.forEach(d=>{d.linkedSheets=[l].concat(l.linkedSheets.filter(f=>f!==d))})}return l},unload(r){r.destroy(!0)}}};pe.add(Ek);class fl{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ua{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),s={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const n in t){const o=t[n].match(/^[a-z]+/gm)[0],a=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const u=a[c].split("="),h=u[0],d=u[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}s[o].push(l)}const i=new fl;return s.info.forEach(n=>i.info.push({face:n.face,size:parseInt(n.size,10)})),s.common.forEach(n=>i.common.push({lineHeight:parseInt(n.lineHeight,10)})),s.page.forEach(n=>i.page.push({id:parseInt(n.id,10),file:n.file})),s.char.forEach(n=>i.char.push({id:parseInt(n.id,10),page:parseInt(n.page,10),x:parseInt(n.x,10),y:parseInt(n.y,10),width:parseInt(n.width,10),height:parseInt(n.height,10),xoffset:parseInt(n.xoffset,10),yoffset:parseInt(n.yoffset,10),xadvance:parseInt(n.xadvance,10)})),s.kerning.forEach(n=>i.kerning.push({first:parseInt(n.first,10),second:parseInt(n.second,10),amount:parseInt(n.amount,10)})),s.distanceField.forEach(n=>i.distanceField.push({distanceRange:parseInt(n.distanceRange,10),fieldType:n.fieldType})),i}}class td{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new fl,s=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<s.length;c++)t.info.push({face:s[c].getAttribute("face"),size:parseInt(s[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)t.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<n.length;c++)t.page.push({id:parseInt(n[c].getAttribute("id"),10)||0,file:n[c].getAttribute("file")});for(let c=0;c<o.length;c++){const u=o[c];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)t.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)t.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return t}}class rd{static test(e){return typeof e=="string"&&e.includes("<font>")?td.test(ae.ADAPTER.parseXML(e)):!1}static parse(e){return td.parse(ae.ADAPTER.parseXML(e))}}const Bu=[Ua,td,rd];function Ck(r){for(let e=0;e<Bu.length;e++)if(Bu[e].test(r))return Bu[e];return null}function Pk(r,e,t,s,i,n){const o=t.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,u=r.width/s-l-c*2,h=r.height/s-l-c*2,d=o.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),t.fillGradientType===Vl.LINEAR_VERTICAL){a=e.createLinearGradient(u/2,c,u/2,h+c);let p=0;const m=(n.fontProperties.fontSize+t.strokeThickness)/h;for(let g=0;g<i.length;g++){const y=n.lineHeight*g;for(let v=0;v<d.length;v++){let _=0;typeof f[v]=="number"?_=f[v]:_=v/d.length;const T=y/h+_*m;let b=Math.max(p,T);b=Math.min(b,1),a.addColorStop(b,d[v]),p=b}}}else{a=e.createLinearGradient(c,h/2,u+c,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let y;typeof f[g]=="number"?y=f[g]:y=m/p,a.addColorStop(y,d[g]),m++}}return a}function Rk(r,e,t,s,i,n,o){const a=t.text,l=t.fontProperties;e.translate(s,i),e.scale(n,n);const c=o.strokeThickness/2,u=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Pk(r,e,o,n,[a],t),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=o.dropShadowBlur*n,f=o.dropShadowDistance*n;e.shadowColor=We.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,u+t.lineHeight-l.descent),o.fill&&e.fillText(a,c,u+t.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ja(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function eb(r){return Array.from?Array.from(r):r.split("")}function Ik(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,s=r.length;t<s;t++){const i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const n=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<n)throw new Error("[BitmapFont]: Invalid character range.");for(let a=n,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...eb(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const As=class kr{constructor(e,t,s){const[i]=e.info,[n]=e.common,[o]=e.page,[a]=e.distanceField,l=fs(o.file),c={};this._ownsTextures=s,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/l,this.chars={},this.pageTextures=c;for(let u=0;u<e.page.length;u++){const{id:h,file:d}=e.page[u];c[h]=t instanceof Array?t[u]:t[d],a?.fieldType&&a.fieldType!=="none"&&(c[h].baseTexture.alphaMode=$t.NO_PREMULTIPLIED_ALPHA,c[h].baseTexture.mipmap=Hr.OFF)}for(let u=0;u<e.char.length;u++){const{id:h,page:d}=e.char[u];let{x:f,y:p,width:m,height:g,xoffset:y,yoffset:v,xadvance:_}=e.char[u];f/=l,p/=l,m/=l,g/=l,y/=l,v/=l,_/=l;const T=new Se(f+c[d].frame.x/l,p+c[d].frame.y/l,m,g);this.chars[h]={xOffset:y,yOffset:v,xAdvance:_,kerning:{},texture:new fe(c[d].baseTexture,T),page:d}}for(let u=0;u<e.kerning.length;u++){let{first:h,second:d,amount:f}=e.kerning[u];h/=l,d/=l,f/=l,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,s){let i;if(e instanceof fl)i=e;else{const o=Ck(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}t instanceof fe&&(t=[t]);const n=new kr(i,t,s);return kr.available[n.font]=n,n}static uninstall(e){const t=kr.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete kr.available[e]}static from(e,t,s){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:n,resolution:o,textureWidth:a,textureHeight:l,...c}=Object.assign({},kr.defaultOptions,s),u=Ik(i),h=t instanceof zs?t:new zs(t),d=a,f=new fl;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};let p=0,m=0,g,y,v,_=0;const T=[];for(let L=0;L<u.length;L++){g||(g=ae.ADAPTER.createCanvas(),g.width=a,g.height=l,y=g.getContext("2d"),v=new we(g,{resolution:o,...c}),T.push(new fe(v)),f.page.push({id:T.length-1,file:""}));const x=u[L],I=Ps.measureText(x,h,!1,g),k=I.width,O=Math.ceil(I.height),M=Math.ceil((h.fontStyle==="italic"?2:1)*k);if(m>=l-O*o){if(m===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${x}')`);--L,g=null,y=null,v=null,m=0,p=0,_=0;continue}if(_=Math.max(O+I.fontProperties.descent,_),M*o+p>=d){if(p===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${x}')`);--L,m+=_*o,m=Math.ceil(m),p=0,_=0;continue}Rk(g,y,I,p,m,o,h);const P=ja(I.text);f.char.push({id:P,page:T.length-1,x:p/o,y:m/o,width:M,height:O,xoffset:0,yoffset:0,xadvance:k-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),p+=(M+2*n)*o,p=Math.ceil(p)}if(!s?.skipKerning)for(let L=0,x=u.length;L<x;L++){const I=u[L];for(let k=0;k<x;k++){const O=u[k],M=y.measureText(I).width,P=y.measureText(O).width,B=y.measureText(I+O).width-(M+P);B&&f.kerning.push({first:ja(I),second:ja(O),amount:B})}}const b=new kr(f,T,!0);return kr.available[e]!==void 0&&kr.uninstall(e),kr.available[e]=b,b}};As.ALPHA=[["a","z"],["A","Z"]," "],As.NUMERIC=[["0","9"]],As.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],As.ASCII=[[" ","~"]],As.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:As.ALPHANUMERIC},As.available={};let Ss=As;var kk=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Lk=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const xg=[],Tg=[],wg=[],Mk=class tb extends xr{constructor(e,t={}){super();const{align:s,tint:i,maxWidth:n,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},tb.styleDefaults,t);if(!Ss.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=s,this._tintColor=new We(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=n,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new is(()=>{this.dirty=!0},this,0,0),this._roundPixels=ae.ROUND_PIXELS,this.dirty=!0,this._resolution=ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=Ss.available[this._fontName],t=this.fontSize,s=t/e.size,i=new Me,n=[],o=[],a=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=eb(l),u=this._maxWidth*e.size/t,h=e.distanceFieldType==="none"?xg:Tg;let d=null,f=0,p=0,m=0,g=-1,y=0,v=0,_=0,T=0;for(let M=0;M<c.length;M++){const P=c[M],B=ja(P);if(/(?:\s)/.test(P)&&(g=M,y=f,T++),P==="\r"||P===`
`){o.push(f),a.push(-1),p=Math.max(p,f),++m,++v,i.x=0,i.y+=e.lineHeight,d=null,T=0;continue}const R=e.chars[B];if(!R)continue;d&&R.kerning[d]&&(i.x+=R.kerning[d]);const G=wg.pop()||{texture:fe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Me};G.texture=R.texture,G.line=m,G.charCode=B,G.position.x=Math.round(i.x+R.xOffset+this._letterSpacing/2),G.position.y=Math.round(i.y+R.yOffset),G.prevSpaces=T,n.push(G),f=G.position.x+Math.max(R.xAdvance-R.xOffset,R.texture.orig.width),i.x+=R.xAdvance+this._letterSpacing,_=Math.max(_,R.yOffset+R.texture.height),d=B,g!==-1&&u>0&&i.x>u&&(++v,sn(n,1+g-v,1+M-g),M=g,g=-1,o.push(y),a.push(n.length>0?n[n.length-1].prevSpaces:0),p=Math.max(p,y),m++,i.x=0,i.y+=e.lineHeight,d=null,T=0)}const b=c[c.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(f=y),o.push(f),p=Math.max(p,f),a.push(-1));const L=[];for(let M=0;M<=m;M++){let P=0;this._align==="right"?P=p-o[M]:this._align==="center"?P=(p-o[M])/2:this._align==="justify"&&(P=a[M]<0?0:(p-o[M])/a[M]),L.push(P)}const x=n.length,I={},k=[],O=this._activePagesMeshData;h.push(...O);for(let M=0;M<x;M++){const P=n[M].texture,B=P.baseTexture.uid;if(!I[B]){let R=h.pop();if(!R){const A=new sk;let S,w;e.distanceFieldType==="none"?(S=new yg(fe.EMPTY),w=_e.NORMAL):(S=new yg(fe.EMPTY,{program:ns.from(Lk,kk),uniforms:{uFWidth:0}}),w=_e.NORMAL_NPM);const C=new gg(A,S);C.blendMode=w,R={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:C,vertices:null,uvs:null,indices:null}}R.index=0,R.indexCount=0,R.vertexCount=0,R.uvsCount=0,R.total=0;const{_textureCache:G}=this;G[B]=G[B]||new fe(P.baseTexture),R.mesh.texture=G[B],R.mesh.tint=this._tintColor.value,k.push(R),I[B]=R}I[B].total++}for(let M=0;M<O.length;M++)k.includes(O[M])||this.removeChild(O[M].mesh);for(let M=0;M<k.length;M++)k[M].mesh.parent!==this&&this.addChild(k[M].mesh);this._activePagesMeshData=k;for(const M in I){const P=I[M],B=P.total;if(!(P.indices?.length>6*B)||P.vertices.length<gg.BATCHABLE_SIZE*2)P.vertices=new Float32Array(8*B),P.uvs=new Float32Array(8*B),P.indices=new Uint16Array(6*B);else{const R=P.total,G=P.vertices;for(let A=R*4*2;A<G.length;A++)G[A]=0}P.mesh.size=6*B}for(let M=0;M<x;M++){const P=n[M];let B=P.position.x+L[P.line]*(this._align==="justify"?P.prevSpaces:1);this._roundPixels&&(B=Math.round(B));const R=B*s,G=P.position.y*s,A=P.texture,S=I[A.baseTexture.uid],w=A.frame,C=A._uvs,E=S.index++;S.indices[E*6+0]=0+E*4,S.indices[E*6+1]=1+E*4,S.indices[E*6+2]=2+E*4,S.indices[E*6+3]=0+E*4,S.indices[E*6+4]=2+E*4,S.indices[E*6+5]=3+E*4,S.vertices[E*8+0]=R,S.vertices[E*8+1]=G,S.vertices[E*8+2]=R+w.width*s,S.vertices[E*8+3]=G,S.vertices[E*8+4]=R+w.width*s,S.vertices[E*8+5]=G+w.height*s,S.vertices[E*8+6]=R,S.vertices[E*8+7]=G+w.height*s,S.uvs[E*8+0]=C.x0,S.uvs[E*8+1]=C.y0,S.uvs[E*8+2]=C.x1,S.uvs[E*8+3]=C.y1,S.uvs[E*8+4]=C.x2,S.uvs[E*8+5]=C.y2,S.uvs[E*8+6]=C.x3,S.uvs[E*8+7]=C.y3}this._textWidth=p*s,this._textHeight=(i.y+e.lineHeight)*s;for(const M in I){const P=I[M];if(this.anchor.x!==0||this.anchor.y!==0){let A=0;const S=this._textWidth*this.anchor.x,w=this._textHeight*this.anchor.y;for(let C=0;C<P.total;C++)P.vertices[A++]-=S,P.vertices[A++]-=w,P.vertices[A++]-=S,P.vertices[A++]-=w,P.vertices[A++]-=S,P.vertices[A++]-=w,P.vertices[A++]-=S,P.vertices[A++]-=w}this._maxLineHeight=_*s;const B=P.mesh.geometry.getBuffer("aVertexPosition"),R=P.mesh.geometry.getBuffer("aTextureCoord"),G=P.mesh.geometry.getIndex();B.data=P.vertices,R.data=P.uvs,G.data=P.indices,B.update(),R.update(),G.update()}for(let M=0;M<n.length;M++)wg.push(n[M]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:s,size:i}=Ss.available[this._fontName];if(s!=="none"){const{a:n,b:o,c:a,d:l}=this.worldTransform,c=Math.sqrt(n*n+o*o),u=Math.sqrt(a*a+l*l),h=(Math.abs(c)+Math.abs(u))/2,d=this.fontSize/i,f=e._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=h*t*d*f}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ss.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ss.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ss.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,s=Ss.available[this._fontName].distanceFieldType==="none"?xg:Tg;s.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],s.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=fe.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Mk.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Dk=[".xml",".fnt"],Ok={extension:{type:ee.LoadParser,priority:Ar.Normal},name:"loadBitmapFont",test(r){return Dk.includes(mt.extname(r).toLowerCase())},async testParse(r){return Ua.test(r)||rd.test(r)},async parse(r,e,t){const s=Ua.test(r)?Ua.parse(r):rd.parse(r),{src:i}=e,{page:n}=s,o=[];for(let c=0;c<n.length;++c){const u=n[c].file;let h=mt.join(mt.dirname(i),u);h=qh(h,i),o.push(h)}const a=await t.load(o),l=o.map(c=>a[c]);return Ss.install(s,l,!0)},async load(r,e){return(await ae.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};pe.add(Ok);const sd=class Yi extends zs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Yi(Object.keys(Yi.defaultOptions).reduce((t,s)=>({...t,[s]:e[s]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Yi.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:s}=Yi;if(s[e]){const i=s[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ae.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((n,o)=>{const a=URL.createObjectURL(i),l=new FileReader;l.onload=()=>n([a,l.result]),l.onerror=o,l.readAsDataURL(i)})).then(async([i,n])=>{const o=Object.assign({family:mt.basename(e,mt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:n,refs:1,originalUrl:e,fontFace:null},t);s[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(s=>!this._overrides.includes(s));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(s=>this._overrides.includes(s));t.length>0&&(this._overrides=this._overrides.filter(s=>!t.includes(s)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=w2(e)),typeof e=="number"?T2(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,s=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const n=`${s}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${n} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${n} ${e}`}reset(){Object.assign(this,Yi.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};sd.availableFonts={},sd.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Fu=sd;const ha=class qi extends Cn{constructor(e="",t={}){super(fe.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const s=new Image,i=fe.from(s,{scaleMode:ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Se,i.trim=new Se,this.texture=i;const n="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(n,"svg"),l=document.createElementNS(n,"foreignObject"),c=document.createElementNS(o,"div"),u=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=qi.defaultMaxWidth,this.maxHeight=qi.defaultMaxHeight,this._domElement=c,this._styleElement=u,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(u),this._foreignObject.appendChild(c),this._image=s,this._loadImage=new Image,this._autoResolution=qi.defaultAutoResolution,this._resolution=qi.defaultResolution??ae.RESOLUTION,this.text=e,this.style=t}measureText(e){const{text:t,style:s,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:s.toCSS(i)}),this._styleElement.textContent=s.toGlobalCSS(),document.body.appendChild(this._svgRoot);const n=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=n;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",c.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),s!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(i)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:l+s.padding*2,height:c+s.padding*2}}async updateText(e=!0){const{style:t,_image:s,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:n,height:o}=this.measureText();s.width=i.width=Math.ceil(Math.max(1,n)),s.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(l=>{i.onload=async()=>{if(a<this._updateID){l();return}await t.onBeforeDraw(),s.src=i.src,i.onload=null,i.src="",this.updateTexture(),l()};const c=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:s,resolution:i}=this,{padding:n}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=s.width/i,t.trim.height=t._frame.height=s.height/i,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-n*2,t.orig.height=t._frame.height-n*2,this._onTextureUpdate(),o.setRealSize(s.width,s.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},qi.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=t,this._svgRoot?.remove(),this._svgRoot=t,this._domElement?.remove(),this._domElement=t,this._foreignObject?.remove(),this._foreignObject=t,this._styleElement?.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Ls(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Ls(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Fu?(this.ownsStyle=!1,this._style=e):e instanceof zs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Fu.from(e)):(this.ownsStyle=!0,this._style=new Fu(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};ha.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ha.defaultMaxWidth=2024,ha.defaultMaxHeight=2024,ha.defaultAutoResolution=!0;const Bk=ge({__name:"App",setup(r){return Ol(),ky(i1)||(Ma.value=(void 0)()),(e,t)=>(z(),Y(et,null,[ce(yC),ce(fC)],64))}}),Fk=[{component:KE,props:{id:"5176495148",server:"netease",type:"playlist",theme:"#4FBCCD",preload:"auto",mutex:!0,autoplay:!1,fixed:!0,lyricColor:"#4FBCCD",volume:.3}},{component:Bk,props:{}}],Nk=ge({__name:"ValaxyAddons",setup(r){return(e,t)=>(z(!0),Y(et,null,Vs(j(Fk),({component:s,props:i},n)=>(z(),Te(wx(s),pn({ref_for:!0},i,{key:n}),null,16))),128))}}),$k={class:"progress-circle-container",viewBox:"0 0 100 100"},Uk=["stroke-dasharray","stroke-dashoffset"],Ag=48,jk=ge({__name:"YunBackToTop",setup(r){const{show:e,percentage:t,backToTop:s}=TA({offset:100}),i=2*Ag*Math.PI,n=K(()=>{const o=(1-t.value)*i;return o<0?0:o});return(o,a)=>(z(),Y("a",{href:"#",class:He(["back-to-top yun-icon-btn bg-$va-c-bg-soft shadow-md",j(e)&&"show"]),onClick:a[0]||(a[0]=(...l)=>j(s)&&j(s)(...l))},[a[1]||(a[1]=X("div",{class:"size-8","i-ri-arrow-up-s-line":""},null,-1)),(z(),Y("svg",$k,[X("circle",{"stroke-dasharray":`${i} ${i}`,"stroke-dashoffset":n.value,stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",class:"progress-circle",cx:"50",cy:"50",r:Ag,fill:"none"},null,8,Uk)]))],2))}}),zk={},Hk={class:"yun-page-loading",absolute:"","left-0":"","right-0":"","bottom-0":"","top-0":"",flex:"",justify:"center","items-center":"","z-10":"",bg:"$va-c-bg"};function Gk(r,e){return z(),Y("div",Hk,[...e[0]||(e[0]=[X("div",{class:"spinner"},null,-1)])])}const Vk=Vr(zk,[["render",Gk],["__scopeId","data-v-673bc094"]]),Wk={class:"yun-bg"},Xk=ge({__name:"YunBg",setup(r){const e=hs(),t=Xs();if(typeof t.value.bg_image.url<"u"){const s=Ju("--yun-bg-img-opacity");t.value.bg_image.opacity&&(s.value=t.value.bg_image.opacity.toString()||"1");const i=K(()=>e.isDark?t.value.bg_image.dark:t.value.bg_image.url),n=Ju("--yun-bg-img");Ze(()=>i.value,()=>{n.value=`url('${i.value}')`},{immediate:!0})}return(s,i)=>(z(),Y("div",Wk))}});/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const qs=typeof window<"u",Nu=qs?window:null,ho=qs?document:null,Qe={OBJECT:0,ATTRIBUTE:1,CSS:2,TRANSFORM:3,CSS_VAR:4},De={NUMBER:0,UNIT:1,COLOR:2,COMPLEX:3},Xt={NONE:0,AUTO:1,FORCE:2},kt={replace:0,none:1,blend:2},Sg=Symbol(),df=Symbol(),rb=Symbol(),Wl=Symbol(),Yk=Symbol(),Fe=1e-11,id=1e12,gn=1e3,nd=120,bi="",qk="var(",sb=(()=>{const r=new Map;return r.set("x","translateX"),r.set("y","translateY"),r.set("z","translateZ"),r})(),ib=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","matrix","matrix3d","perspective"],nb=ib.reduce((r,e)=>({...r,[e]:e+"("}),{}),er=()=>{},Zk=/(^#([\da-f]{3}){1,2}$)|(^#([\da-f]{4}){1,2}$)/i,Kk=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,Jk=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Qk=/hsl\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*\)/i,eL=/hsla\(\s*(-?\d+|-?\d*.\d+)\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)%\s*,\s*(-?\d+|-?\d*.\d+)\s*\)/i,Eg=/[-+]?\d*\.?\d+(?:e[-+]?\d)?/gi,tL=/^([-+]?\d*\.?\d+(?:e[-+]?\d+)?)([a-z]+|%)$/i,rL=/([a-z])([A-Z])/g,sL=/(\w+)(\([^)]+\)+)/g,iL=/(\*=|\+=|-=)/,nL=/var\(\s*(--[\w-]+)(?:\s*,\s*([^)]+))?\s*\)/;/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const ob={id:null,keyframes:null,playbackEase:null,playbackRate:1,frameRate:nd,loop:0,reversed:!1,alternate:!1,autoplay:!0,persist:!1,duration:gn,delay:0,loopDelay:0,ease:"out(2)",composition:kt.replace,modifier:r=>r,onBegin:er,onBeforeUpdate:er,onUpdate:er,onLoop:er,onPause:er,onComplete:er,onRender:er},oL={root:ho},pt={defaults:ob,precision:4,timeScale:1,tickThreshold:200},ab={version:"4.2.2",engine:null};qs&&(Nu.AnimeJS||(Nu.AnimeJS=[]),Nu.AnimeJS.push(ab));/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const lb=r=>r.replace(rL,"$1-$2").toLowerCase(),ls=(r,e)=>r.indexOf(e)===0,yn=Date.now,vn=Array.isArray,to=r=>r&&r.constructor===Object,ff=r=>typeof r=="number"&&!isNaN(r),fo=r=>typeof r=="string",_n=r=>typeof r=="function",Be=r=>typeof r>"u",cn=r=>Be(r)||r===null,cb=r=>qs&&r instanceof SVGElement,ub=r=>Zk.test(r),hb=r=>ls(r,"rgb"),db=r=>ls(r,"hsl"),aL=r=>ub(r)||hb(r)||db(r),za=r=>!pt.defaults.hasOwnProperty(r),lL=["opacity","rotate","overflow","color"],cL=(r,e)=>{if(lL.includes(e))return!1;if(r.getAttribute(e)||e in r){if(e==="scale"){const t=r.parentNode;return t&&t.tagName==="filter"}return!0}},Zi=Math.pow,uL=Math.sqrt,hL=Math.sin,dL=Math.cos,fL=Math.floor,pL=Math.asin,pf=Math.PI,Cg=Math.round,Nt=(r,e,t)=>r<e?e:r>t?t:r,Pg={},rt=(r,e)=>{if(e<0)return r;if(!e)return Cg(r);let t=Pg[e];return t||(t=Pg[e]=10**e),Cg(r*t)/t},si=(r,e,t)=>r+(e-r)*t,Xl=r=>r===1/0?id:r===-1/0?-id:r,un=r=>r<=Fe?Fe:Xl(rt(r,11)),It=r=>vn(r)?[...r]:r,fb=(r,e)=>{const t={...r};for(let s in e){const i=r[s];t[s]=Be(i)?e[s]:i}return t},Xe=(r,e,t,s="_prev",i="_next")=>{let n=r._head,o=i;for(t&&(n=r._tail,o=s);n;){const a=n[o];e(n),n=a}},gi=(r,e,t="_prev",s="_next")=>{const i=e[t],n=e[s];i?i[s]=n:r._head=n,n?n[t]=i:r._tail=i,e[t]=null,e[s]=null},yi=(r,e,t,s="_prev",i="_next")=>{let n=r._tail;for(;n&&t&&t(n,e);)n=n[s];const o=n?n[i]:r._head;n?n[i]=e:r._head=e,o?o[s]=e:r._tail=e,e[s]=n,e[i]=o};/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const mL=(r,e,t)=>{const s=r.style.transform;let i;if(s){const n=r[Wl];let o;for(;o=sL.exec(s);){const a=o[1],l=o[2].slice(1,-1);n[a]=l,a===e&&(i=l,t&&(t[e]=l))}}return s&&!Be(i)?i:ls(e,"scale")?"1":ls(e,"rotate")||ls(e,"skew")?"0deg":"0px"};/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const gL=r=>{const e=Kk.exec(r)||Jk.exec(r),t=Be(e[4])?1:+e[4];return[+e[1],+e[2],+e[3],t]},yL=r=>{const e=r.length,t=e===4||e===5;return[+("0x"+r[1]+r[t?1:2]),+("0x"+r[t?2:3]+r[t?2:4]),+("0x"+r[t?3:5]+r[t?3:6]),e===5||e===9?+(+("0x"+r[t?4:7]+r[t?4:8])/255).toFixed(3):1]},$u=(r,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r),vL=r=>{const e=Qk.exec(r)||eL.exec(r),t=+e[1]/360,s=+e[2]/100,i=+e[3]/100,n=Be(e[4])?1:+e[4];let o,a,l;if(s===0)o=a=l=i;else{const c=i<.5?i*(1+s):i+s-i*s,u=2*i-c;o=rt($u(u,c,t+1/3)*255,0),a=rt($u(u,c,t)*255,0),l=rt($u(u,c,t-1/3)*255,0)}return[o,a,l,n]},_L=r=>hb(r)?gL(r):ub(r)?yL(r):db(r)?vL(r):[0,0,0,1];/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Ct=(r,e)=>Be(r)?e:r,xs=(r,e,t,s,i)=>{let n;if(_n(r))n=()=>{const o=r(e,t,s);return isNaN(+o)?o||0:+o};else if(fo(r)&&ls(r,qk))n=()=>{const o=r.match(nL),a=o[1],l=o[2];let c=getComputedStyle(e)?.getPropertyValue(a);return(!c||c.trim()===bi)&&l&&(c=l.trim()),c||0};else return r;return i&&(i.func=n),n()},pb=(r,e)=>r[df]?r[rb]&&cL(r,e)?Qe.ATTRIBUTE:ib.includes(e)||sb.get(e)?Qe.TRANSFORM:ls(e,"--")?Qe.CSS_VAR:e in r.style?Qe.CSS:e in r?Qe.OBJECT:Qe.ATTRIBUTE:Qe.OBJECT,Rg=(r,e,t)=>{const s=r.style[e];s&&t&&(t[e]=s);const i=s||getComputedStyle(r[Yk]||r).getPropertyValue(e);return i==="auto"?"0":i},Nn=(r,e,t,s)=>{const i=Be(t)?pb(r,e):t;return i===Qe.OBJECT?r[e]||0:i===Qe.ATTRIBUTE?r.getAttribute(e):i===Qe.TRANSFORM?mL(r,e,s):i===Qe.CSS_VAR?Rg(r,e,s).trimStart():Rg(r,e,s)},Ha=(r,e,t)=>t==="-"?r-e:t==="+"?r+e:r*e,mf=()=>({t:De.NUMBER,n:0,u:null,o:null,d:null,s:null}),Sr=(r,e)=>{if(e.t=De.NUMBER,e.n=0,e.u=null,e.o=null,e.d=null,e.s=null,!r)return e;const t=+r;if(isNaN(t)){let s=r;s[1]==="="&&(e.o=s[0],s=s.slice(2));const i=s.includes(" ")?!1:tL.exec(s);if(i)return e.t=De.UNIT,e.n=+i[1],e.u=i[2],e;if(e.o)return e.n=+s,e;if(aL(s))return e.t=De.COLOR,e.d=_L(s),e;{const n=s.match(Eg);return e.t=De.COMPLEX,e.d=n?n.map(Number):[],e.s=s.split(Eg)||[],e}}else return e.n=t,e},Ig=(r,e)=>(e.t=r._valueType,e.n=r._toNumber,e.u=r._unit,e.o=null,e.d=It(r._toNumbers),e.s=It(r._strings),e),Ts=mf();/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Ga=(r,e,t,s,i)=>{const n=r.parent,o=r.duration,a=r.completed,l=r.iterationDuration,c=r.iterationCount,u=r._currentIteration,h=r._loopDelay,d=r._reversed,f=r._alternate,p=r._hasChildren,m=r._delay,g=r._currentTime,y=m+l,v=e-m,_=Nt(g,-m,o),T=Nt(v,-m,o),b=v-g,L=T>0,x=T>=o,I=o<=Fe,k=i===Xt.FORCE;let O=0,M=v,P=0;if(c>1){const S=~~(T/(l+(x?0:h)));r._currentIteration=Nt(S,0,c),x&&r._currentIteration--,O=r._currentIteration%2,M=T%(l+h)||0}const B=d^(f&&O),R=r._ease;let G=x?B?0:o:B?l-M:M;R&&(G=l*R(G/l)||0);const A=(n?n.backwards:v<g)?!B:!!B;if(r._currentTime=v,r._iterationTime=G,r.backwards=A,L&&!r.began?(r.began=!0,!t&&!(n&&(A||!n.began))&&r.onBegin(r)):v<=0&&(r.began=!1),!t&&!p&&L&&r._currentIteration!==u&&r.onLoop(r),k||i===Xt.AUTO&&(e>=m&&e<=y||e<=m&&_>m||e>=y&&_!==o)||G>=y&&_!==o||G<=m&&_>0||e<=_&&_===o&&a||x&&!a&&I){if(L&&(r.computeDeltaTime(_),t||r.onBeforeUpdate(r)),!p){const S=k||(A?b*-1:b)>=pt.tickThreshold,w=r._offset+(n?n._offset:0)+m+G;let C=r._head,E,D,$,N,H=0;for(;C;){const V=C._composition,Z=C._currentTime,te=C._changeDuration,ie=C._absoluteStartTime+C._changeDuration,re=C._nextRep,W=C._prevRep,se=V!==kt.none;if((S||(Z!==te||w<=ie+(re?re._delay:0))&&(Z!==0||w>=C._absoluteStartTime))&&(!se||!C._isOverridden&&(!C._isOverlapped||w<=ie)&&(!re||re._isOverridden||w<=re._absoluteStartTime)&&(!W||W._isOverridden||w>=W._absoluteStartTime+W._changeDuration+C._delay))){const ne=C._currentTime=Nt(G-C._startTime,0,te),le=C._ease(ne/C._updateDuration),ve=C._modifier,Q=C._valueType,J=C._tweenType,$e=J===Qe.OBJECT,Ue=Q===De.NUMBER,wt=Ue&&$e||le===0||le===1?-1:pt.precision;let qe,at;if(Ue)qe=at=ve(rt(si(C._fromNumber,C._toNumber,le),wt));else if(Q===De.UNIT)at=ve(rt(si(C._fromNumber,C._toNumber,le),wt)),qe=`${at}${C._unit}`;else if(Q===De.COLOR){const je=C._fromNumbers,ut=C._toNumbers,ht=rt(Nt(ve(si(je[0],ut[0],le)),0,255),0),Yr=rt(Nt(ve(si(je[1],ut[1],le)),0,255),0),gs=rt(Nt(ve(si(je[2],ut[2],le)),0,255),0),ys=Nt(ve(rt(si(je[3],ut[3],le),wt)),0,1);if(qe=`rgba(${ht},${Yr},${gs},${ys})`,se){const ir=C._numbers;ir[0]=ht,ir[1]=Yr,ir[2]=gs,ir[3]=ys}}else if(Q===De.COMPLEX){qe=C._strings[0];for(let je=0,ut=C._toNumbers.length;je<ut;je++){const ht=ve(rt(si(C._fromNumbers[je],C._toNumbers[je],le),wt)),Yr=C._strings[je+1];qe+=`${Yr?ht+Yr:ht}`,se&&(C._numbers[je]=ht)}}if(se&&(C._number=at),!s&&V!==kt.blend){const je=C.property;E=C.target,$e?E[je]=qe:J===Qe.ATTRIBUTE?E.setAttribute(je,qe):(D=E.style,J===Qe.TRANSFORM?(E!==$&&($=E,N=E[Wl]),N[je]=qe,H=1):J===Qe.CSS?D[je]=qe:J===Qe.CSS_VAR&&D.setProperty(je,qe)),L&&(P=1)}else C._value=qe}if(H&&C._renderTransforms){let ne=bi;for(let le in N)ne+=`${nb[le]}${N[le]}) `;D.transform=ne,H=0}C=C._next}!t&&P&&r.onRender(r)}!t&&L&&r.onUpdate(r)}return n&&I?!t&&(n.began&&!A&&v>0&&!a||A&&v<=Fe&&a)&&(r.onComplete(r),r.completed=!A):L&&x?c===1/0?r._startTime+=r.duration:r._currentIteration>=c-1&&(r.paused=!0,!a&&!p&&(r.completed=!0,!t&&!(n&&(A||!n.began))&&(r.onComplete(r),r._resolve(r)))):r.completed=!1,P},pi=(r,e,t,s,i)=>{const n=r._currentIteration;if(Ga(r,e,t,s,i),r._hasChildren){const o=r,a=o.backwards,l=s?e:o._iterationTime,c=yn();let u=0,h=!0;if(!s&&o._currentIteration!==n){const d=o.iterationDuration;Xe(o,f=>{if(!a)!f.completed&&!f.backwards&&f._currentTime<f.iterationDuration&&Ga(f,d,t,1,Xt.FORCE),f.began=!1,f.completed=!1;else{const p=f.duration,m=f._offset+f._delay,g=m+p;!t&&p<=Fe&&(!m||g===d)&&f.onComplete(f)}}),t||o.onLoop(o)}Xe(o,d=>{const f=rt((l-d._offset)*d._speed,12),p=d._fps<o._fps?d.requestTick(c):i;u+=Ga(d,f,t,s,p),!d.completed&&h&&(h=!1)},a),!t&&u&&o.onRender(o),(h||a)&&o._currentTime>=o.duration&&(o.paused=!0,o.completed||(o.completed=!0,t||(o.onComplete(o),o._resolve(o))))}};/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const kg={},mb=(r,e,t)=>{if(t===Qe.TRANSFORM){const s=sb.get(r);return s||r}else if(t===Qe.CSS||t===Qe.ATTRIBUTE&&cb(e)&&r in e.style){const s=kg[r];if(s)return s;{const i=r&&lb(r);return kg[r]=i,i}}else return r},gf=r=>{if(r._hasChildren)Xe(r,gf,!0);else{const e=r;e.pause(),Xe(e,t=>{const s=t.property,i=t.target;if(i[df]){const n=i.style,o=t._inlineValue,a=cn(o)||o===bi;if(t._tweenType===Qe.TRANSFORM){const l=i[Wl];if(a?delete l[s]:l[s]=o,t._renderTransforms)if(!Object.keys(l).length)n.removeProperty("transform");else{let c=bi;for(let u in l)c+=nb[u]+l[u]+") ";n.transform=c}}else a?n.removeProperty(lb(s)):n[s]=o;e._tail===t&&e.targets.forEach(l=>{l.getAttribute&&l.getAttribute("style")===bi&&l.removeAttribute("style")})}})}return r};/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */class gb{constructor(e=0){this.deltaTime=0,this._currentTime=e,this._elapsedTime=e,this._startTime=e,this._lastTime=e,this._scheduledTime=0,this._frameDuration=rt(gn/nd,0),this._fps=nd,this._speed=1,this._hasChildren=!1,this._head=null,this._tail=null}get fps(){return this._fps}set fps(e){const t=this._frameDuration,s=+e,i=s<Fe?Fe:s,n=rt(gn/i,0);this._fps=i,this._frameDuration=n,this._scheduledTime+=n-t}get speed(){return this._speed}set speed(e){const t=+e;this._speed=t<Fe?Fe:t}requestTick(e){const t=this._scheduledTime,s=this._elapsedTime;if(this._elapsedTime+=e-s,s<t)return Xt.NONE;const i=this._frameDuration,n=s-t;return this._scheduledTime+=n<i?i:n,Xt.AUTO}computeDeltaTime(e){const t=e-this._lastTime;return this.deltaTime=t,this._lastTime=e,t}}/**
 * Anime.js - animation - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const hn={animation:null,update:er},bL=r=>{let e=hn.animation;return e||(e={duration:Fe,computeDeltaTime:er,_offset:0,_delay:0,_head:null,_tail:null},hn.animation=e,hn.update=()=>{r.forEach(t=>{for(let s in t){const i=t[s],n=i._head;if(n){const o=n._valueType,a=o===De.COMPLEX||o===De.COLOR?It(n._fromNumbers):null;let l=n._fromNumber,c=i._tail;for(;c&&c!==n;){if(a)for(let u=0,h=c._numbers.length;u<h;u++)a[u]+=c._numbers[u];else l+=c._number;c=c._prevAdd}n._toNumber=l,n._toNumbers=a}}}),Ga(e,1,1,0,Xt.FORCE)}),e};/**
 * Anime.js - engine - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const yb=qs?requestAnimationFrame:setImmediate,xL=qs?cancelAnimationFrame:clearImmediate;class TL extends gb{constructor(e){super(e),this.useDefaultMainLoop=!0,this.pauseOnDocumentHidden=!0,this.defaults=ob,this.paused=!0,this.reqId=0}update(){const e=this._currentTime=yn();if(this.requestTick(e)){this.computeDeltaTime(e);const t=this._speed,s=this._fps;let i=this._head;for(;i;){const n=i._next;i.paused?(gi(this,i),this._hasChildren=!!this._tail,i._running=!1,i.completed&&!i._cancelled&&i.cancel()):pi(i,(e-i._startTime)*i._speed*t,0,0,i._fps<s?i.requestTick(e):Xt.AUTO),i=n}hn.update()}}wake(){return this.useDefaultMainLoop&&!this.reqId&&(this.requestTick(yn()),this.reqId=yb(vb)),this}pause(){if(this.reqId)return this.paused=!0,wL()}resume(){if(this.paused)return this.paused=!1,Xe(this,e=>e.resetTime()),this.wake()}get speed(){return this._speed*(pt.timeScale===1?1:gn)}set speed(e){this._speed=e*pt.timeScale,Xe(this,t=>t.speed=t._speed)}get timeUnit(){return pt.timeScale===1?"ms":"s"}set timeUnit(e){const s=e==="s",i=s?.001:1;if(pt.timeScale!==i){pt.timeScale=i,pt.tickThreshold=200*i;const n=s?.001:gn;this.defaults.duration*=n,this._speed*=n}}get precision(){return pt.precision}set precision(e){pt.precision=e}}const vt=(()=>{const r=new TL(yn());return qs&&(ab.engine=r,ho.addEventListener("visibilitychange",()=>{r.pauseOnDocumentHidden&&(ho.hidden?r.pause():r.resume())})),r})(),vb=()=>{vt._head?(vt.reqId=yb(vb),vt.update()):vt.reqId=0},wL=()=>(xL(vt.reqId),vt.reqId=0,vt);/**
 * Anime.js - animation - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const pl={_rep:new WeakMap,_add:new Map},yf=(r,e,t="_rep")=>{const s=pl[t];let i=s.get(r);return i||(i={},s.set(r,i)),i[e]?i[e]:i[e]={_head:null,_tail:null}},AL=(r,e)=>r._isOverridden||r._absoluteStartTime>e._absoluteStartTime,Va=r=>{r._isOverlapped=1,r._isOverridden=1,r._changeDuration=Fe,r._currentTime=Fe},_b=(r,e)=>{const t=r._composition;if(t===kt.replace){const s=r._absoluteStartTime;yi(e,r,AL,"_prevRep","_nextRep");const i=r._prevRep;if(i){const n=i.parent,o=i._absoluteStartTime+i._changeDuration;if(r.parent.id!==n.id&&n.iterationCount>1&&o+(n.duration-n.iterationDuration)>s){Va(i);let c=i._prevRep;for(;c&&c.parent.id===n.id;)Va(c),c=c._prevRep}const a=s-r._delay;if(o>a){const c=i._startTime,u=o-(c+i._updateDuration),h=rt(a-u-c,12);i._changeDuration=h,i._currentTime=h,i._isOverlapped=1,h<Fe&&Va(i)}let l=!0;if(Xe(n,c=>{c._isOverlapped||(l=!1)}),l){const c=n.parent;if(c){let u=!0;Xe(c,h=>{h!==n&&Xe(h,d=>{d._isOverlapped||(u=!1)})}),u&&c.cancel()}else n.cancel()}}}else if(t===kt.blend){const s=yf(r.target,r.property,"_add"),i=bL(pl._add);let n=s._head;n||(n={...r},n._composition=kt.replace,n._updateDuration=Fe,n._startTime=0,n._numbers=It(r._fromNumbers),n._number=0,n._next=null,n._prev=null,yi(s,n),yi(i,n));const o=r._toNumber;if(r._fromNumber=n._fromNumber-o,r._toNumber=0,r._numbers=It(r._fromNumbers),r._number=0,n._fromNumber=o,r._toNumbers){const a=It(r._toNumbers);a&&a.forEach((l,c)=>{r._fromNumbers[c]=n._fromNumbers[c]-l,r._toNumbers[c]=0}),n._fromNumbers=a}yi(s,r,null,"_prevAdd","_nextAdd")}return r},bb=r=>{const e=r._composition;if(e!==kt.none){const t=r.target,s=r.property,o=pl._rep.get(t)[s];if(gi(o,r,"_prevRep","_nextRep"),e===kt.blend){const a=pl._add,l=a.get(t);if(!l)return;const c=l[s],u=hn.animation;gi(c,r,"_prevAdd","_nextAdd");const h=c._head;if(h&&h===c._tail){gi(c,h,"_prevAdd","_nextAdd"),gi(u,h);let d=!0;for(let f in l)if(l[f]._head){d=!1;break}d&&a.delete(t)}}}return r},Lg=(r,e,t)=>{let s=!1;return Xe(e,i=>{const n=i.target;if(r.includes(n)){const o=i.property,a=i._tweenType,l=mb(t,n,a);(!l||l&&l===o)&&(i.parent._tail===i&&i._tweenType===Qe.TRANSFORM&&i._prev&&i._prev._tweenType===Qe.TRANSFORM&&(i._prev._renderTransforms=1),gi(e,i),bb(i),s=!0)}},!0),s},xb=(r,e,t)=>{const s=e||vt;let i;if(s._hasChildren){let n=0;Xe(s,o=>{if(!o._hasChildren)if(i=Lg(r,o,t),i&&!o._head)o.cancel(),gi(s,o);else{const l=o._offset+o._delay+o.duration;l>n&&(n=l)}o._head?xb(r,o,t):o._hasChildren=!1},!0),Be(s.iterationDuration)||(s.iterationDuration=n)}else i=Lg(r,s,t);i&&!s._head&&(s._hasChildren=!1,s.cancel&&s.cancel())};/**
 * Anime.js - timer - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Mg=r=>(r.paused=!0,r.began=!1,r.completed=!1,r),od=r=>(r._cancelled&&(r._hasChildren?Xe(r,od):Xe(r,e=>{e._composition!==kt.none&&_b(e,yf(e.target,e.property))}),r._cancelled=0),r);let SL=0;class vf extends gb{constructor(e={},t=null,s=0){super(0);const{id:i,delay:n,duration:o,reversed:a,alternate:l,loop:c,loopDelay:u,autoplay:h,frameRate:d,playbackRate:f,onComplete:p,onLoop:m,onPause:g,onBegin:y,onBeforeUpdate:v,onUpdate:_}=e,T=t?0:vt._elapsedTime,b=t?t.defaults:pt.defaults,L=_n(n)||Be(n)?b.delay:+n,x=_n(o)||Be(o)?1/0:+o,I=Ct(c,b.loop),k=Ct(u,b.loopDelay),O=I===!0||I===1/0||I<0?1/0:I+1;let M=0;t?M=s:(vt.reqId||vt.requestTick(yn()),M=(vt._elapsedTime-vt._startTime)*pt.timeScale),this.id=Be(i)?++SL:i,this.parent=t,this.duration=Xl((x+k)*O-k)||Fe,this.backwards=!1,this.paused=!0,this.began=!1,this.completed=!1,this.onBegin=y||b.onBegin,this.onBeforeUpdate=v||b.onBeforeUpdate,this.onUpdate=_||b.onUpdate,this.onLoop=m||b.onLoop,this.onPause=g||b.onPause,this.onComplete=p||b.onComplete,this.iterationDuration=x,this.iterationCount=O,this._autoplay=t?!1:Ct(h,b.autoplay),this._offset=M,this._delay=L,this._loopDelay=k,this._iterationTime=0,this._currentIteration=0,this._resolve=er,this._running=!1,this._reversed=+Ct(a,b.reversed),this._reverse=this._reversed,this._cancelled=0,this._alternate=Ct(l,b.alternate),this._prev=null,this._next=null,this._elapsedTime=T,this._startTime=T,this._lastTime=T,this._fps=Ct(d,b.frameRate),this._speed=Ct(f,b.playbackRate)}get cancelled(){return!!this._cancelled}set cancelled(e){e?this.cancel():this.reset(!0).play()}get currentTime(){return Nt(rt(this._currentTime,pt.precision),-this._delay,this.duration)}set currentTime(e){const t=this.paused;this.pause().seek(+e),t||this.resume()}get iterationCurrentTime(){return rt(this._iterationTime,pt.precision)}set iterationCurrentTime(e){this.currentTime=this.iterationDuration*this._currentIteration+e}get progress(){return Nt(rt(this._currentTime/this.duration,10),0,1)}set progress(e){this.currentTime=this.duration*e}get iterationProgress(){return Nt(rt(this._iterationTime/this.iterationDuration,10),0,1)}set iterationProgress(e){const t=this.iterationDuration;this.currentTime=t*this._currentIteration+t*e}get currentIteration(){return this._currentIteration}set currentIteration(e){this.currentTime=this.iterationDuration*Nt(+e,0,this.iterationCount-1)}get reversed(){return!!this._reversed}set reversed(e){e?this.reverse():this.play()}get speed(){return super.speed}set speed(e){super.speed=e,this.resetTime()}reset(e=!1){return od(this),this._reversed&&!this._reverse&&(this.reversed=!1),this._iterationTime=this.iterationDuration,pi(this,0,1,~~e,Xt.FORCE),Mg(this),this._hasChildren&&Xe(this,Mg),this}init(e=!1){this.fps=this._fps,this.speed=this._speed,!e&&this._hasChildren&&pi(this,this.duration,1,~~e,Xt.FORCE),this.reset(e);const t=this._autoplay;return t===!0?this.resume():t&&!Be(t.linked)&&t.link(this),this}resetTime(){const e=1/(this._speed*vt._speed);return this._startTime=yn()-(this._currentTime+this._delay)*e,this}pause(){return this.paused?this:(this.paused=!0,this.onPause(this),this)}resume(){return this.paused?(this.paused=!1,this.duration<=Fe&&!this._hasChildren?pi(this,Fe,0,0,Xt.FORCE):(this._running||(yi(vt,this),vt._hasChildren=!0,this._running=!0),this.resetTime(),this._startTime-=12,vt.wake()),this):this}restart(){return this.reset().resume()}seek(e,t=0,s=0){od(this),this.completed=!1;const i=this.paused;return this.paused=!0,pi(this,e+this._delay,~~t,~~s,Xt.AUTO),i?this:this.resume()}alternate(){const e=this._reversed,t=this.iterationCount,s=this.iterationDuration,i=t===1/0?fL(id/s):t;return this._reversed=+(this._alternate&&!(i%2)?e:!e),t===1/0?this.iterationProgress=this._reversed?1-this.iterationProgress:this.iterationProgress:this.seek(s*i-this._currentTime),this.resetTime(),this}play(){return this._reversed&&this.alternate(),this.resume()}reverse(){return this._reversed||this.alternate(),this.resume()}cancel(){return this._hasChildren?Xe(this,e=>e.cancel(),!0):Xe(this,bb),this._cancelled=1,this.pause()}stretch(e){const t=this.duration,s=un(e);if(t===s)return this;const i=e/t,n=e<=Fe;return this.duration=n?Fe:s,this.iterationDuration=n?Fe:un(this.iterationDuration*i),this._offset*=i,this._delay*=i,this._loopDelay*=i,this}revert(){pi(this,0,1,0,Xt.AUTO);const e=this._autoplay;return e&&e.linked&&e.linked===this&&e.revert(),this.cancel()}complete(){return this.seek(this.duration).cancel()}then(e=er){const t=this.then,s=()=>{this.then=null,e(this),this.then=t,this._resolve=er};return new Promise(i=>(this._resolve=()=>i(s()),this.completed&&this._resolve(),this))}}/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */function Dg(r){const e=fo(r)?oL.root.querySelectorAll(r):r;if(e instanceof NodeList||e instanceof HTMLCollection)return e}function ad(r){if(cn(r))return[];if(!qs)return vn(r)&&r.flat(1/0)||[r];if(vn(r)){const t=r.flat(1/0),s=[];for(let i=0,n=t.length;i<n;i++){const o=t[i];if(!cn(o)){const a=Dg(o);if(a)for(let l=0,c=a.length;l<c;l++){const u=a[l];if(!cn(u)){let h=!1;for(let d=0,f=s.length;d<f;d++)if(s[d]===u){h=!0;break}h||s.push(u)}}else{let l=!1;for(let c=0,u=s.length;c<u;c++)if(s[c]===o){l=!0;break}l||s.push(o)}}}return s}const e=Dg(r);return e?Array.from(e):[r]}function EL(r){const e=ad(r),t=e.length;if(t)for(let s=0;s<t;s++){const i=e[s];if(!i[Sg]){i[Sg]=!0;const n=cb(i);(i.nodeType||n)&&(i[df]=!0,i[rb]=n,i[Wl]={})}}return e}/**
 * Anime.js - core - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Uu={deg:1,rad:180/pf,turn:360},Og={},CL=(r,e,t,s=!1)=>{const i=e.u,n=e.n;if(e.t===De.UNIT&&i===t)return e;const o=n+i+t,a=Og[o];if(!Be(a)&&!s)e.n=a;else{let l;if(i in Uu)l=n*Uu[i]/Uu[t];else{const u=r.cloneNode(),h=r.parentNode,d=h&&h!==ho?h:ho.body;d.appendChild(u);const f=u.style;f.width=100+i;const p=u.offsetWidth||100;f.width=100+t;const m=u.offsetWidth||100,g=p/m;d.removeChild(u),l=g*n}e.n=l,Og[o]=l}return e.t,De.UNIT,e.u=t,e};/**
 * Anime.js - easings - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Hs=r=>r;/**
 * Anime.js - easings - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const $n=(r=1.68)=>e=>Zi(e,+r),ld={in:r=>e=>r(e),out:r=>e=>1-r(1-e),inOut:r=>e=>e<.5?r(e*2)/2:1-r(e*-2+2)/2,outIn:r=>e=>e<.5?(1-r(1-e*2))/2:(r(e*2-1)+1)/2},PL=pf/2,Bg=pf*2,Fg={[bi]:$n,Quad:$n(2),Cubic:$n(3),Quart:$n(4),Quint:$n(5),Sine:r=>1-dL(r*PL),Circ:r=>1-uL(1-r*r),Expo:r=>r?Zi(2,10*r-10):0,Bounce:r=>{let e,t=4;for(;r<((e=Zi(2,--t))-1)/11;);return 1/Zi(4,3-t)-7.5625*Zi((e*3-2)/22-r,2)},Back:(r=1.7)=>e=>(+r+1)*e*e*e-+r*e*e,Elastic:(r=1,e=.3)=>{const t=Nt(+r,1,10),s=Nt(+e,Fe,2),i=s/Bg*pL(1/t),n=Bg/s;return o=>o===0||o===1?o:-t*Zi(2,-10*(1-o))*hL((1-o-i)*n)}},ju=(()=>{const r={linear:Hs,none:Hs};for(let e in ld)for(let t in Fg){const s=Fg[t],i=ld[e];r[e+t]=t===bi||t==="Back"||t==="Elastic"?(n,o)=>i(s(n,o)):i(s)}return r})(),da={linear:Hs,none:Hs},RL=r=>{if(da[r])return da[r];if(r.indexOf("(")<=-1){const t=ld[r]||r.includes("Back")||r.includes("Elastic")?ju[r]():ju[r];return t?da[r]=t:Hs}else{const e=r.slice(0,-1).split("("),t=ju[e[0]];return t?da[r]=t(...e[1].split(",")):Hs}},Ng=["steps(","irregular(","linear(","cubicBezier("],cd=r=>{if(fo(r)){for(let t=0,s=Ng.length;t<s;t++)if(ls(r,Ng[t]))return console.warn(`String syntax for \`ease: "${r}"\` has been removed from the core and replaced by importing and passing the easing function directly: \`ease: ${r}\``),Hs}return _n(r)?r:fo(r)?RL(r):Hs};/**
 * Anime.js - animation - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Ae=mf(),Ce=mf(),ji={},fa={func:null},pa=[null],zi=[null,null],ma={to:null};let IL=0,ws,Er;const kL=(r,e)=>{const t={};if(vn(r)){const s=[].concat(...r.map(i=>Object.keys(i))).filter(za);for(let i=0,n=s.length;i<n;i++){const o=s[i],a=r.map(l=>{const c={};for(let u in l){const h=l[u];za(u)?u===o&&(c.to=h):c[u]=h}return c});t[o]=a}}else{const s=Ct(e.duration,pt.defaults.duration);Object.keys(r).map(n=>({o:parseFloat(n)/100,p:r[n]})).sort((n,o)=>n.o-o.o).forEach(n=>{const o=n.o,a=n.p;for(let l in a)if(za(l)){let c=t[l];c||(c=t[l]=[]);const u=o*s;let h=c.length,d=c[h-1];const f={to:a[l]};let p=0;for(let m=0;m<h;m++)p+=c[m].duration;h===1&&(f.from=d.to),a.ease&&(f.ease=a.ease),f.duration=u-(h?p:0),c.push(f)}return n});for(let n in t){const o=t[n];let a;for(let l=0,c=o.length;l<c;l++){const u=o[l],h=u.ease;u.ease=a||void 0,a=h}o[0].duration||o.shift()}}return t};class Tb extends vf{constructor(e,t,s,i,n=!1,o=0,a=0){super(t,s,i);const l=EL(e),c=l.length,u=t.keyframes,h=u?fb(kL(u,t),t):t,{delay:d,duration:f,ease:p,playbackEase:m,modifier:g,composition:y,onRender:v}=h,_=s?s.defaults:pt.defaults,T=Ct(m,_.playbackEase),b=T?cd(T):null,L=!Be(p)&&!Be(p.ease),x=L?p.ease:Ct(p,b?"linear":_.ease),I=L?p.settlingDuration:Ct(f,_.duration),k=Ct(d,_.delay),O=g||_.modifier,M=Be(y)&&c>=gn?kt.none:Be(y)?_.composition:y,P=this._offset+(s?s._offset:0);L&&(p.parent=this);let B=NaN,R=NaN,G=0,A=0;for(let S=0;S<c;S++){const w=l[S],C=o||S,E=a||c;let D=NaN,$=NaN;for(let N in h)if(za(N)){const H=pb(w,N),V=mb(N,w,H);let Z=h[N];const te=vn(Z);if(n&&!te&&(zi[0]=Z,zi[1]=Z,Z=zi),te){const le=Z.length,ve=!to(Z[0]);le===2&&ve?(ma.to=Z,pa[0]=ma,ws=pa):le>2&&ve?(ws=[],Z.forEach((Q,J)=>{J?J===1?(zi[1]=Q,ws.push(zi)):ws.push(Q):zi[0]=Q})):ws=Z}else pa[0]=Z,ws=pa;let ie=null,re=null,W=NaN,se=0,ne=0;for(let le=ws.length;ne<le;ne++){const ve=ws[ne];to(ve)?Er=ve:(ma.to=ve,Er=ma),fa.func=null;const Q=xs(Er.to,w,C,E,fa);let J;to(Q)&&!Be(Q.to)?(Er=Q,J=Q.to):J=Q;const $e=xs(Er.from,w,C,E),Ue=Er.ease,wt=!Be(Ue)&&!Be(Ue.ease),qe=wt?Ue.ease:Ue||x,at=wt?Ue.settlingDuration:xs(Ct(Er.duration,le>1?xs(I,w,C,E)/le:I),w,C,E),je=xs(Ct(Er.delay,ne?0:k),w,C,E),ut=xs(Ct(Er.composition,M),w,C,E),ht=ff(ut)?ut:kt[ut],Yr=Er.modifier||O,gs=!Be($e),ys=!Be(J),ir=vn(J),Zs=ir||gs&&ys,Ks=re?se+je:je,Oi=rt(P+Ks,12);!A&&(gs||ir)&&(A=1);let Bt=re;if(ht!==kt.none){ie||(ie=yf(w,V));let F=ie._head;for(;F&&!F._isOverridden&&F._absoluteStartTime<=Oi;)if(Bt=F,F=F._nextRep,F&&F._absoluteStartTime>=Oi)for(;F;)Va(F),F=F._nextRep}if(Zs?(Sr(ir?xs(J[0],w,C,E):$e,Ae),Sr(ir?xs(J[1],w,C,E,fa):J,Ce),Ae.t===De.NUMBER&&(Bt?Bt._valueType===De.UNIT&&(Ae.t=De.UNIT,Ae.u=Bt._unit):(Sr(Nn(w,V,H,ji),Ts),Ts.t===De.UNIT&&(Ae.t=De.UNIT,Ae.u=Ts.u)))):(ys?Sr(J,Ce):re?Ig(re,Ce):Sr(s&&Bt&&Bt.parent.parent===s?Bt._value:Nn(w,V,H,ji),Ce),gs?Sr($e,Ae):re?Ig(re,Ae):Sr(s&&Bt&&Bt.parent.parent===s?Bt._value:Nn(w,V,H,ji),Ae)),Ae.o&&(Ae.n=Ha(Bt?Bt._toNumber:Sr(Nn(w,V,H,ji),Ts).n,Ae.n,Ae.o)),Ce.o&&(Ce.n=Ha(Ae.n,Ce.n,Ce.o)),Ae.t!==Ce.t){if(Ae.t===De.COMPLEX||Ce.t===De.COMPLEX){const F=Ae.t===De.COMPLEX?Ae:Ce,U=Ae.t===De.COMPLEX?Ce:Ae;U.t=De.COMPLEX,U.s=It(F.s),U.d=F.d.map(()=>U.n)}else if(Ae.t===De.UNIT||Ce.t===De.UNIT){const F=Ae.t===De.UNIT?Ae:Ce,U=Ae.t===De.UNIT?Ce:Ae;U.t=De.UNIT,U.u=F.u}else if(Ae.t===De.COLOR||Ce.t===De.COLOR){const F=Ae.t===De.COLOR?Ae:Ce,U=Ae.t===De.COLOR?Ce:Ae;U.t=De.COLOR,U.s=F.s,U.d=[0,0,0,1]}}if(Ae.u!==Ce.u){let F=Ce.u?Ae:Ce;F=CL(w,F,Ce.u?Ce.u:Ae.u,!1)}if(Ce.d&&Ae.d&&Ce.d.length!==Ae.d.length){const F=Ae.d.length>Ce.d.length?Ae:Ce,U=F===Ae?Ce:Ae;U.d=F.d.map((Oe,ze)=>Be(U.d[ze])?0:U.d[ze]),U.s=It(F.s)}const In=rt(+at||Fe,12);let Bi=ji[V];cn(Bi)||(ji[V]=null);const qr={parent:this,id:IL++,property:V,target:w,_value:null,_func:fa.func,_ease:cd(qe),_fromNumbers:It(Ae.d),_toNumbers:It(Ce.d),_strings:It(Ce.s),_fromNumber:Ae.n,_toNumber:Ce.n,_numbers:It(Ae.d),_number:Ae.n,_unit:Ce.u,_modifier:Yr,_currentTime:0,_startTime:Ks,_delay:+je,_updateDuration:In,_changeDuration:In,_absoluteStartTime:Oi,_tweenType:H,_valueType:Ce.t,_composition:ht,_isOverlapped:0,_isOverridden:0,_renderTransforms:0,_inlineValue:Bi,_prevRep:null,_nextRep:null,_prevAdd:null,_nextAdd:null,_prev:null,_next:null};ht!==kt.none&&_b(qr,ie),isNaN(W)&&(W=qr._startTime),se=rt(Ks+In,12),re=qr,G++,yi(this,qr)}(isNaN(R)||W<R)&&(R=W),(isNaN(B)||se>B)&&(B=se),H===Qe.TRANSFORM&&(D=G-ne,$=G)}if(!isNaN(D)){let N=0;Xe(this,H=>{N>=D&&N<$&&(H._renderTransforms=1,H._composition===kt.blend&&Xe(hn.animation,V=>{V.id===H.id&&(V._renderTransforms=1)})),N++})}}c||console.warn("No target found. Make sure the element you're trying to animate is accessible before creating your animation."),R?(Xe(this,S=>{S._startTime-S._delay||(S._delay-=R),S._startTime-=R}),B-=R):R=0,B||(B=Fe,this.iterationCount=0),this.targets=l,this.duration=B===Fe?Fe:Xl((B+this._loopDelay)*this.iterationCount-this._loopDelay)||Fe,this.onRender=v||_.onRender,this._ease=b,this._delay=R,this.iterationDuration=B,!this._autoplay&&A&&this.onRender(this)}stretch(e){const t=this.duration;if(t===un(e))return this;const s=e/t;return Xe(this,i=>{i._updateDuration=un(i._updateDuration*s),i._changeDuration=un(i._changeDuration*s),i._currentTime*=s,i._startTime*=s,i._absoluteStartTime*=s}),super.stretch(e)}refresh(){return Xe(this,e=>{const t=e._func;if(t){const s=Nn(e.target,e.property,e._tweenType);Sr(s,Ts),Sr(t(),Ce),e._fromNumbers=It(Ts.d),e._fromNumber=Ts.n,e._toNumbers=It(Ce.d),e._strings=It(Ce.s),e._toNumber=Ce.o?Ha(Ts.n,Ce.n,Ce.o):Ce.n}}),this.duration===Fe&&this.restart(),this}revert(){return super.revert(),gf(this)}then(e){return super.then(e)}}const LL=(r,e)=>new Tb(r,e,null,0,!1).init();/**
 * Anime.js - timeline - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const ML=(r,e)=>{if(ls(e,"<")){const t=e[1]==="<",s=r._tail,i=s?s._offset+s._delay:0;return t?i:i+s.duration}},ga=(r,e)=>{let t=r.iterationDuration;if(t===Fe&&(t=0),Be(e))return t;if(ff(+e))return+e;const s=e,i=r?r.labels:null,n=!cn(i),o=ML(r,s),a=!Be(o),l=iL.exec(s);if(l){const c=l[0],u=s.split(c),h=n&&u[0]?i[u[0]]:t,d=a?o:n?h:t,f=+u[1];return Ha(d,f,c[0])}else return a?o:n?Be(i[s])?t:i[s]:t};/**
 * Anime.js - timeline - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */function DL(r){return Xl((r.iterationDuration+r._loopDelay)*r.iterationCount-r._loopDelay)||Fe}function zu(r,e,t,s,i,n){const a=ff(r.duration)&&r.duration<=Fe?t-Fe:t;pi(e,a,1,1,Xt.AUTO);const l=s?new Tb(s,r,e,a,!1,i,n):new vf(r,e,a);return l.init(!0),yi(e,l),Xe(e,c=>{const h=c._offset+c._delay+c.duration;h>e.iterationDuration&&(e.iterationDuration=h)}),e.duration=DL(e),e}class OL extends vf{constructor(e={}){super(e,null,0),this.duration=0,this.labels={};const t=e.defaults,s=pt.defaults;this.defaults=t?fb(t,s):s,this.onRender=e.onRender||s.onRender;const i=Ct(e.playbackEase,s.playbackEase);this._ease=i?cd(i):null,this.iterationDuration=0}add(e,t,s){const i=to(t),n=to(e);if(i||n){if(this._hasChildren=!0,i){const o=t;if(_n(s)){const a=s,l=ad(e),c=this.duration,u=this.iterationDuration,h=o.id;let d=0;const f=l.length;l.forEach(p=>{const m={...o};this.duration=c,this.iterationDuration=u,Be(h)||(m.id=h+"-"+d),zu(m,this,ga(this,a(p,d,f,this)),p,d,f),d++})}else zu(o,this,ga(this,s),e)}else zu(e,this,ga(this,t));return this.init(!0)}}sync(e,t){if(Be(e)||e&&Be(e.pause))return this;e.pause();const s=+(e.effect?e.effect.getTiming().duration:e.duration);return this.add(e,{currentTime:[0,s],duration:s,ease:"linear"},t)}set(e,t,s){return Be(t)?this:(t.duration=Fe,t.composition=kt.replace,this.add(e,t,s))}call(e,t){return Be(e)||e&&!_n(e)?this:this.add({duration:0,onComplete:()=>e(this)},t)}label(e,t){return Be(e)||e&&!fo(e)?this:(this.labels[e]=ga(this,t),this)}remove(e,t){return xb(ad(e),this,t),this}stretch(e){const t=this.duration;if(t===un(e))return this;const s=e/t,i=this.labels;Xe(this,n=>n.stretch(n.duration*s));for(let n in i)i[n]*=s;return super.stretch(e)}refresh(){return Xe(this,e=>{e.refresh&&e.refresh()}),this}revert(){return super.revert(),Xe(this,e=>e.revert,!0),gf(this)}then(e){return super.then(e)}}const BL=r=>new OL(r).init();/**
 * Anime.js - utils - ESM
 * @version v4.2.2
 * @license MIT
 * @copyright 2025 - Julian Garnier
 */const Qr=(r=0,e=1,t=0)=>{const s=10**t;return Math.floor((Math.random()*(e-r+1/s)+r)*s)/s},$g=r=>r[Qr(0,r.length-1)];function FL(r){const e="clientX"in r?r.clientX:r.touches[0]?r.touches[0].clientX:r.changedTouches[0].clientX,t="clientY"in r?r.clientY:r.touches[0]?r.touches[0].clientY:r.changedTouches[0].clientY;return{x:e,y:t}}function Ug(r,e=window.innerWidth,t=window.innerHeight){r.width=e,r.height=t,r.style.width=`${e}px`,r.style.height=`${t}px`}function NL(r){const{selector:e="canvas.fireworks",numberOfParticles:t=20,circleRadius:s={min:10,max:20},diffuseRadius:i={min:50,max:100},orbitRadius:n={min:50,max:100},animeDuration:o={min:900,max:1500}}=r,a=r.colors&&r.colors.length>0?r.colors:["#66A7DD","#3E83E1","#214EC2"],l=document.querySelector(e),c=l.getContext("2d");if(!c)return;function u(m){const g=Qr(0,360)*Math.PI/180,v=Qr(i.min,i.max)*$g([-1,1]);return{x:m.x+v*Math.cos(g),y:m.y+v*Math.sin(g)}}function h(m,g){const y=new st($g(a));y.setAlpha(Qr(.2,.8,2));const v={x:m,y:g,color:y.toRgbString(),radius:Qr(s.min,s.max),endPos:u({x:m,y:g}),draw:()=>{}};return v.draw=function(){c&&(c.beginPath(),c.arc(v.x,v.y,v.radius,0,2*Math.PI,!0),c.fillStyle=v.color,c.fill())},v}function d(m,g){const y={x:m,y:g,color:"#000",radius:.1,alpha:.5,lineWidth:6,draw(){}};return y.draw=()=>{c&&(c.globalAlpha=y.alpha,c.beginPath(),c.arc(y.x,y.y,y.radius,0,2*Math.PI,!0),c.lineWidth=y.lineWidth,c.strokeStyle=y.color,c.stroke(),c.globalAlpha=1)},y}function f(m){for(const g of m.targets)g.draw()}function p(m){const{x:g,y}=m,v=d(g,y),_=[];for(let b=0;b<t;b++)_.push(h(g,y));BL({}).add(_,{x:b=>b.endPos.x,y:b=>b.endPos.y,radius:.1,duration:Qr(o.min,o.max),ease:"outExpo",onUpdate:f}).add(v,{radius:Qr(n.min,n.max),lineWidth:0,alpha:{to:0,ease:"linear",duration:Qr(600,800)},duration:Qr(1200,1800),ease:"outExpo",onUpdate:b=>{b.targets[0].draw()}},0)}document.addEventListener("mousedown",m=>{LL({n:0},{n:1,duration:2e3,onUpdate(){c?.clearRect(0,0,l.width,l.height)}});const g=FL(m),y=l.getBoundingClientRect();p({x:g.x-y.left,y:g.y-y.top})},!1),Ug(l),window.addEventListener("resize",()=>{Ug(l)},!1)}const $L={class:"fireworks"},UL=ge({__name:"YunFireworks",setup(r){const e=Nd();return Zt(()=>{NL({selector:"canvas.fireworks",colors:e.value.fireworks.colors})}),(t,s)=>(z(),Y("canvas",$L))}}),jL=["title"],_f=ge({__name:"YunToggleLocale",setup(r){const{t:e,locale:t}=Rt(),{toggleLocales:s}=gv();return(i,n)=>(z(),Y("button",{class:"yun-icon-btn",title:j(e)("button.toggle_langs"),style:{color:"var(--va-c-text)"},onClick:n[0]||(n[0]=(...o)=>j(s)&&j(s)(...o))},[X("div",{"i-ri-translate":"",class:He(["transition transform",j(t)==="en"?"rotate-y-180":""])},null,2)],8,jL))}}),zL=["title"],bf=ge({__name:"YunToggleDark",props:{transition:{type:Boolean}},setup(r){const e=r,t=hs(),{t:s}=Rt(),i=K(()=>t.isDark?s("button.toggle_light"):s("button.toggle_dark")),n=K(()=>({color:t.isDark?"":"#f1cb64"}));function o(a){e.transition?t.toggleDarkWithTransition(a):t.toggleDark()}return(a,l)=>(z(),Y("button",{class:"yun-icon-btn",title:i.value,style:as(n.value),onMousedown:Ax(()=>{},["prevent"]),onClick:o},[...l[0]||(l[0]=[X("div",{i:"ri-sun-line dark:ri-moon-line"},null,-1)])],44,zL))}}),wb=ge({__name:"YunConfig",setup(r){const e=hs();return(t,s)=>{const i=bf,n=_f;return z(),Y("div",null,[ce(i),j(e).showToggleLocale?(z(),Te(n,{key:0})):de("v-if",!0)])}}}),HL={class:"site-nav","text-xl":"","mt-6":""},GL={class:"count"},VL={class:"count"},WL={class:"count"},XL=ge({__name:"YunSidebarNav",setup(r){const{t:e}=Rt(),t=kl(),s=Xs(),i=lv(),n=Ev();return(o,a)=>{const l=Ut("RouterLink"),c=Io;return z(),Y("nav",HL,[ce(l,{class:"site-link-item yun-icon-btn",to:"/",title:j(e)("menu.home")},{default:Ge(()=>[...a[0]||(a[0]=[X("div",{"i-ri-home-4-line":""},null,-1)])]),_:1},8,["title"]),ce(l,{class:"site-link-item",to:"/archives/",title:j(e)("menu.archives")},{default:Ge(()=>[a[1]||(a[1]=X("div",{class:"icon","i-ri-archive-line":""},null,-1)),X("span",GL,Ie(j(t).postList.length),1)]),_:1},8,["title"]),ce(l,{class:"site-link-item",to:"/categories/",title:j(e)("menu.categories")},{default:Ge(()=>[a[2]||(a[2]=X("div",{class:"icon","i-ri-folder-2-line":""},null,-1)),X("span",VL,Ie(Array.from(j(i).children).length),1)]),_:1},8,["title"]),ce(l,{class:"site-link-item",to:"/tags/",title:j(e)("menu.tags")},{default:Ge(()=>[a[3]||(a[3]=X("div",{class:"icon","i-ri-price-tag-3-line":""},null,-1)),X("span",WL,Ie(Array.from(j(n)).length),1)]),_:1},8,["title"]),ce(c,{class:"site-link-item yun-icon-btn",to:j(s).menu.custom.url,title:j(e)(j(s).menu.custom.title)},{default:Ge(()=>[X("div",{class:He(j(s).menu.custom.icon)},null,2)]),_:1},8,["to","title"])])}}}),YL={class:"sidebar-panel",p:"2"},qL=ge({__name:"YunOverview",setup(r){return(e,t)=>{const s=Jd,i=XL,n=Kd,o=Zd,a=wb;return z(),Y(et,null,[X("div",YL,[ce(s),ce(i),t[0]||(t[0]=X("hr",{m:"t-4 b-2",op:"20"},null,-1)),ce(n),t[1]||(t[1]=X("hr",{m:"y-2",op:"20"},null,-1)),ce(o),t[2]||(t[2]=X("br",null,null,-1))]),ce(a)],64)}}}),ZL={key:0,class:"sidebar-nav",m:"t-6"},KL={key:2},JL=ge({__name:"YunStratoSidebar",props:{showHamburger:{type:Boolean}},setup(r){const e=Kt(),t=Ee(!1);return(s,i)=>{const n=m_,o=qL;return z(),Y(et,null,[de(' class="md:hidden"  '),ce(n,{show:j(e).leftSidebar.isOpen,onClick:i[0]||(i[0]=a=>j(e).leftSidebar.toggle())},null,8,["show"]),de(` <ValaxyHamburger
    :active="yunStore.leftSidebar.isOpen"
    class="menu-btn sidebar-toggle yun-icon-btn leading-4 fixed left-0.8rem top-0.6rem"
    inline-flex cursor="pointer" z="$yun-z-menu-btn"
    :class="showHamburger ? '' : 'md:hidden'"
    @click="yunStore.leftSidebar.toggle()"
  /> `),X("aside",{id:"yun-left-sidebar",class:He(["va-card transition yun-sidebar fixed inset-y-0 left-0 overflow-y-auto",{open:j(e).leftSidebar.isOpen,"md:translate-x-0":!r.showHamburger}]),text:"center",bg:"$yun-sidebar-bg-color contain no-repeat",z:"$yun-z-left-sidebar"},[s.$slots.default?(z(),Y("div",ZL,[X("button",{m:"x-4",class:He(["sidebar-nav-item yun-icon-btn",t.value&&"active"]),onClick:i[1]||(i[1]=a=>t.value=!0)},[...i[3]||(i[3]=[X("div",{"i-ri-passport-line":""},null,-1)])],2),X("button",{m:"x-4",class:He(["sidebar-nav-item yun-icon-btn",!t.value&&"active"]),onClick:i[2]||(i[2]=a=>t.value=!1)},[...i[4]||(i[4]=[X("div",{"i-ri-list-ordered":""},null,-1)])],2)])):de("v-if",!0),t.value||!s.$slots.default?(z(),Y("div",{key:1,class:He(s.$slots.default&&"-mt-4")},[ce(o)],2)):(z(),Y("div",KL,[Mt(s.$slots,"default")]))],2)],64)}}}),QL={class:"flex-center"},eM=ge({__name:"YunFullscreenMenu",setup(r){const e=Kt(),t=Ee(),s=hs();return(i,n)=>{const o=Jd,a=y_,l=g_,c=Kd,u=Zd,h=wb;return z(),Te(Pi,{name:j(s).isMobile?"slide-down":"slide-left"},{default:Ge(()=>[j(e).fullscreenMenu.isOpen?(z(),Y("div",{key:0,ref_key:"fullscreenMenuRef",ref:t,p:"t-12 md:t-20",class:"yun-fullscreen-menu fixed left-0 right-0 bottom-0 top-0 bg-$va-c-bg-soft z-$yun-z-fullscreen-menu overflow-auto max-w-md shadow-2xl"},[de(` <div v-if="app.isMobile" class="flex-center gap-2">
        <YunToggleDark transition />
        <YunToggleLocale v-if="app.showToggleLocale" />
      </div> `),de(" <YunFullscreenMenuList /> "),ce(o,{class:"text-center"}),ce(a,{class:"my-2 op-20"}),ce(l),ce(a,{class:"my-2 op-20"}),ce(c),ce(a,{class:"my-2 op-20"}),ce(u),j(e).size.isLg?de("v-if",!0):(z(),Te(a,{key:0,class:"my-2 op-20"})),X("div",QL,[ce(h)])],512)):de("v-if",!0)]),_:1},8,["name"])}}}),tM={class:"yun-search-input-container flex-center",w:"full"},rM=["placeholder"],sM={key:0,class:"flex-center",w:"full",py:"4"},iM={key:1,overflow:"auto",flex:"~",w:"full",class:"justify-center"},nM={class:"yun-fuse-result-container max-w-3xl",flex:"~ col",w:"full"},oM={font:"medium"},aM={text:"sm",font:"light",opacity:"80"},lM={class:"flex justify-between op-50","text-xs":"",mt:"1",font:"light"},cM={flex:"~ gap-1"},uM={class:"text-right w-4"},hM=ge({__name:"YunFuseSearch",props:{open:{type:Boolean}},emits:["close"],setup(r,{emit:e}){const t=r,s=e,i=Ee(""),n=Vx(Tl?document.documentElement:null),{t:o}=Rt(),{results:a,fetchFuseListData:l}=bA(i),c=Ee(),u=Ee();return Wx(c),Ze(()=>t.open,()=>{t.open&&l()}),(h,d)=>{const f=Io;return z(),Te(Pi,{name:"fade",onEnter:d[2]||(d[2]=p=>n.value=!0),onAfterLeave:d[3]||(d[3]=p=>n.value=!1)},{default:Ge(()=>[r.open?(z(),Y("div",{key:0,ref_key:"searchContainer",ref:u,class:"yun-popup yun-search-popup yun-fuse-search flex-center pointer-events-auto",flex:"col",justify:"start","pt-12":""},[X("div",tM,[Ao(X("input",{ref_key:"searchInputRef",ref:c,"onUpdate:modelValue":d[0]||(d[0]=p=>i.value=p),class:"yun-search-input",placeholder:j(o)("search.placeholder")},null,8,rM),[[Sx,i.value]])]),i.value?(z(),Y("div",sM,Ie(j(o)("search.hits",j(a).length||0)),1)):de("v-if",!0),j(a).length>0?(z(),Y("div",iM,[X("div",nM,[(z(!0),Y(et,null,Vs(j(a),p=>(z(),Te(f,{key:p.item.title,to:p.item.link,class:"yun-fuse-result-item text-$va-c-text hover:text-$va-c-bg hover:bg-$va-c-text-dark hover:bg-opacity-100 text-left p-2",flex:"~ col",onClick:d[1]||(d[1]=m=>s("close"))},{default:Ge(()=>[X("h3",oM,Ie(p.item.title),1),X("span",aM,Ie(p.item.excerpt),1),X("div",lM,[X("span",null,Ie(p.item.link),1),X("span",cM,[d[4]||(d[4]=X("span",null,"Score Index:",-1)),X("div",uM,Ie(p.refIndex),1)])])]),_:2},1032,["to"]))),128)),d[5]||(d[5]=X("div",{class:"flex op-30 justify-end text-xs p-4"}," Search by Local ",-1))])])):de("v-if",!0)],512)):de("v-if",!0)]),_:1})}}}),dM=["title"],fM={key:0,"i-ri-search-line":"","op-80":"",hover:"op-100"},pM={key:1,text:"!2xl","i-ri-close-line":""},mM=ge({__name:"YunSearchBtn",props:{open:{type:Boolean,default:!1}},emits:["close","open"],setup(r,{emit:e}){const t=r,s=e,{t:i}=Rt();function n(){t.open?s("close"):s("open")}return(o,a)=>(z(),Y("button",{class:"yun-search-btn yun-icon-btn popup-trigger rounded-none! size-12 inline-flex justify-center items-center",text:"xl $va-c-text",title:j(i)("menu.search"),onClick:n},[r.open?(z(),Y("div",pM)):(z(),Y("div",fM))],8,dM))}}),Ab=ge({__name:"YunSearchTrigger",setup(r){const e=Tt(),t=K(()=>e.value.search.type==="algolia"),s=K(()=>e.value.search.type==="fuse"),i=Ee(!1);function n(){i.value=!i.value}const o=Ee();Zt(()=>{s.value&&dS("k",n)});function a(){i.value=!0,t.value&&(o.value.load(),o.value.dispatchEvent())}function l(){i.value=!1}const c=t.value?Ex(()=>nt(()=>import("./YunAlgoliaSearch.CUEuasrA.js"),__vite__mapDeps([54,2,3,6,5,7,8,9,11]))):()=>null;return(u,h)=>{const d=mM,f=hM;return z(),Y(et,null,[ce(d,{open:i.value&&!t.value,onOpen:a,onClose:l},null,8,["open"]),t.value?(z(),Te(j(c),{key:0,ref_key:"algoliaRef",ref:o,open:i.value,onClose:l},null,8,["open"])):s.value?(z(),Te(f,{key:1,open:i.value,onClose:l},null,8,["open"])):de("v-if",!0)],64)}}}),gM={key:0,flex:"~ col",class:"nav-menu-post-title text-xs font-bold flex items-center gap-1 lt-sm:max-w-40"},yM={class:"gap-1",flex:"~"},vM={class:"truncate"},_M={key:0,class:"font-light op-80"},bM={key:1,class:"font-light truncate"},Sb=ge({__name:"YunNavMenuTitle",setup(r){const{$t:e,$tO:t}=Wr(),s=Kt(),i=ms(),n=Tt(),o=Tr(),a=Ee(!1),l=K(()=>o.path==="/"?!1:s.isStrato?s.scrollY<10:!a.value);Ze(()=>s.scrollY,()=>{s.isNimbo&&(a.value=s.scrollY>200)});const c=xl();function u(){a.value||c.push("/")}return(h,d)=>{const f=Cx("motion");return Ao((z(),Y("div",{flex:"~ center col h-full",class:He({"cursor-pointer":!a.value}),initial:{opacity:0,y:10},enter:{opacity:1,y:0,transition:{duration:400,delay:1200}},onClick:u},[j(i).title&&a.value?(z(),Y("div",gM,[X("div",yM,[j(i).icon?(z(),Y("div",{key:0,class:He(["size-4",j(i).icon])},null,2)):de("v-if",!0),X("span",vM,Ie(j(t)(j(i).title||"")),1)]),j(i).subtitle?(z(),Y("span",_M,Ie(j(t)(j(i).subtitle||"")),1)):de("v-if",!0)])):de("v-if",!0),l.value?(z(),Y("span",bM,Ie(j(e)(j(n).title)),1)):de("v-if",!0)],2)),[[f]])}}}),Eb=ge({__name:"YunNavMenuItem",props:{icon:{},to:{}},setup(r){return(e,t)=>{const s=Io;return z(),Te(s,{class:"size-12 inline-flex-center cursor-pointer z-$yun-z-nav-menu text-$va-c-text",hover:"bg-white/80 dark:bg-black/80 op-100","op-80":"",to:r.to},{default:Ge(()=>[X("div",{class:He(["size-6",r.icon])},null,2)]),_:1},8,["to"])}}}),xM=["aria-expanded"],Cb=ge({__name:"ValaxyHamburger",props:{active:{type:Boolean}},setup(r){return(e,t)=>(z(),Y("button",{type:"button",class:He(["vt-hamburger",{"is-active":r.active}]),"aria-label":"mobile navigation","aria-expanded":r.active},[...t[0]||(t[0]=[X("span",{class:"vt-hamburger-container"},[X("span",{class:"vt-hamburger-top"}),X("span",{class:"vt-hamburger-middle"}),X("span",{class:"vt-hamburger-bottom"})],-1)])],10,xM))}}),TM={class:"inline-flex justify-start items-center flex-1"},wM={class:"flex flex-1 flex-center"},AM={class:"inline-flex-center justify-end items-center flex-1"},SM=ge({__name:"YunNimboNavMenu",setup(r){const{$t:e}=Wr(),t=Kt(),s=Tt(),i=Xs(),n=Ee(!1),o=Tr();Zt(()=>{o.meta.layout==="home"?setTimeout(()=>{n.value=!0},600):n.value=!0});const a=Ee(!1);Ze(()=>t.scrollY,()=>{t.scrollY>10?a.value=!0:a.value=!1});const l=hs();return(c,u)=>{const h=Cb,d=Eb,f=Sb,p=_f,m=bf,g=Ab;return z(),Te(Pi,{"enter-active-class":"animate-fade-in"},{default:Ge(()=>[n.value?(z(),Y("div",{key:0,class:He(["yun-nav-menu z-$yun-z-nav-menu fixed bg-transparent",{play:a.value}])},[de("  "),X("div",TM,[j(t).size.isLg?de("v-if",!0):(z(),Te(h,{key:0,active:j(t).fullscreenMenu.isOpen,class:"menu-btn sidebar-toggle leading-4 size-12","inline-flex":"",cursor:"pointer",hover:"bg-white/80 dark:bg-black/80",z:"$yun-z-menu-btn",onClick:u[0]||(u[0]=y=>j(t).fullscreenMenu.toggle())},null,8,["active"])),ce(d,{icon:"i-ri-home-4-line",to:"/"}),j(t).size.isLg?(z(!0),Y(et,{key:1},Vs(j(i).nav,(y,v)=>(z(),Te(d,{key:v,icon:y.icon,to:y.link,title:j(e)(y.text)},null,8,["icon","to","title"]))),128)):de("v-if",!0)]),X("div",wM,[ce(f)]),X("div",AM,[de(` <template v-if="!app.isMobile && themeConfig.nav">
          <template v-for="item in themeConfig.nav" :key="item.text">
            <AppLink
              v-if="'link' in item"
              :to="item.link"
              class="menu-btn inline-flex-center p-2 transition text-$va-c-text"
              inline-flex cursor="pointer"
              hover="bg-white/80 dark:bg-black/80"
              z="$yun-z-menu-btn"
            >
              {{ item.text }}
            </AppLink>
            <template v-else-if="'items' in item" />
          </template>
        </template> `),j(t).size.isSm&&j(l).showToggleLocale?(z(),Te(p,{key:0,class:"rounded-none!"})):de("v-if",!0),ce(m,{class:"rounded-none!",transition:""}),j(s).search.enable?(z(),Te(g,{key:1})):de("v-if",!0)])],2)):de("v-if",!0)]),_:1})}}}),EM=Vr(SM,[["__scopeId","data-v-83375ba1"]]),CM={class:"fixed left-0 top-0",z:"$yun-z-left-sidebar-menu"},PM={class:"flex flex-1 flex-center"},RM={class:"inline-flex flex-1 justify-end items-center"},IM=ge({__name:"YunStratoNavMenu",setup(r){const e=Kt(),t=Tt(),s=Ee(!1),i=Tr();Zt(()=>{i.meta.layout==="home"?setTimeout(()=>{s.value=!0},600):s.value=!0});const n=Ee(!1);Ze(()=>e.scrollY,()=>{e.scrollY>10?n.value=!0:n.value=!1});const o=hs(),a=K(()=>o.isMobile?!0:i.meta.layout==="home");return(l,c)=>{const u=Cb,h=Eb,d=Sb,f=_f,p=bf,m=Ab;return z(),Y(et,null,[X("div",CM,[a.value?(z(),Te(u,{key:0,active:j(e).leftSidebar.isOpen,class:"menu-btn sidebar-toggle leading-4 size-12 fixed","inline-flex":"",cursor:"pointer",hover:"bg-white/80 dark:bg-black/80",onClick:c[0]||(c[0]=g=>j(e).leftSidebar.toggle())},null,8,["active"])):(z(),Te(h,{key:1,icon:"i-ri-home-4-line",to:"/"}))]),ce(Pi,{"enter-active-class":"animate-fade-in"},{default:Ge(()=>[s.value?(z(),Y("div",{key:0,class:He(["yun-nav-menu z-$yun-z-nav-menu fixed w-full flex justify-between items-center top-0",{play:n.value}])},[de("  "),c[1]||(c[1]=X("div",{class:"inline-flex justify-start items-center flex-1"},null,-1)),X("div",PM,[ce(d)]),X("div",RM,[j(e).size.isSm&&j(o).showToggleLocale?(z(),Te(f,{key:0,class:"rounded-none!"})):de("v-if",!0),ce(p,{class:"rounded-none!",transition:""}),j(t).search.enable?(z(),Te(m,{key:1})):de("v-if",!0)])],2)):de("v-if",!0)]),_:1})],64)}}}),kM=ge({__name:"YunNavMenu",setup(r){const e=Kt();return(t,s)=>{const i=IM,n=EM;return j(e).isStrato?(z(),Te(i,{key:0})):j(e).isNimbo?(z(),Te(n,{key:1})):de("v-if",!0)}}}),LM=ge({__name:"YunPageHeaderGradient",setup(r){const{isDark:e}=zd(),t=K(()=>e.value?{"--gradient-from":"0 0 0","--gradient-to":"0 0 0"}:{"--gradient-from":"161 196 253","--gradient-to":"194 233 251"});return(s,i)=>(z(),Y("div",{class:"yun-page-header-gradient",style:as(t.value)},null,4))}}),MM={class:"w-6",font:"bold"},DM=ge({__name:"YunDebug",setup(r){const e=Kt(),t=K(()=>[{label:"xs",value:e.size.isXs},{label:"sm",value:e.size.isSm},{label:"md",value:e.size.isMd},{label:"lg",value:e.size.isLg},{label:"xl",value:e.size.isXl},{label:"2xl",value:e.size.is2xl}]),s=Ee(!0);return(i,n)=>s.value?(z(),Y("div",{key:0,class:"bg-black/50 fixed bottom-20 left-2 p-2 gap-1 rounded z-9999",text:"xs white",flex:"~ col",onClick:n[0]||(n[0]=o=>s.value=!1)},[(z(!0),Y(et,null,Vs(t.value,o=>(z(),Y("div",{key:o.label,class:"gap-2 inline-flex"},[X("span",MM,Ie(o.label)+": ",1),X("span",null,Ie(o.value?"✅":"❌"),1)]))),128))])):de("v-if",!0)}}),OM=ge({__name:"YunStratoApp",setup(r){const e=Ju("--yun-margin-top");return e.value="48px",(t,s)=>(z(),Y("div"))}}),BM=ge({__name:"App",setup(r){const e=hs();Eo({link:[{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&display=swap"}],meta:[{name:"theme-color",content:e.themeColor},{name:"msapplication-TileColor",content:e.themeColor}]});const t=Xs(),s=hs(),i=Kt(),n=Tr();Ze(()=>n.meta.layout,()=>{n.meta.layout==="home"||s.isMobile,i.leftSidebar.isOpen=!1},{immediate:!0}),Zt(()=>{document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`),s.showLoading=!1});const o=!1;return(a,l)=>{const c=OM,u=DM,h=LM,d=kM,f=eM,p=JL,m=UL,g=Xk,y=Vk,v=jk;return z(),Y(et,null,[j(i).isStrato?(z(),Te(c,{key:0})):de("v-if",!0),j(o)?(z(),Te(u,{key:1})):de("v-if",!0),ce(h),ce(d),j(i).isNimbo&&!j(i).size.isLg?(z(),Te(f,{key:2})):de("v-if",!0),j(i).isStrato?(z(),Te(p,{key:3})):de("v-if",!0),j(t).fireworks.enable?(z(),Te(m,{key:4})):de("v-if",!0),Mt(a.$slots,"bg",{},()=>[j(t).bg_image.enable?(z(),Te(g,{key:0})):de("v-if",!0)]),ce(Pi,{name:"fade"},{default:Ge(()=>[j(s).showLoading?(z(),Te(y,{key:0})):de("v-if",!0)]),_:1}),ce(v),de(" TODO "),de(" <YunDock /> ")],64)}}}),FM=ge({render:()=>null}),NM=ge({__name:"ValaxyApp",setup(r){const e=mv();return e.value!=="empty"&&NT(),(t,s)=>{const i=Ut("router-view");return z(),Y(et,null,[j(e)!=="empty"?(z(),Y(et,{key:0},[ce(j(BM)),ce(Nk),ce(j(FM))],64)):de("v-if",!0),ce(i)],64)}}}),$M=ge({__name:"App",setup(r){return(e,t)=>{const s=NM;return z(),Te(s)}}});function UM(r){return{page:K(()=>r.currentRoute.value.data),frontmatter:K(()=>r.currentRoute.value.meta.frontmatter)}}var jM=Object.defineProperty,jg=Object.getOwnPropertySymbols,zM=Object.prototype.hasOwnProperty,HM=Object.prototype.propertyIsEnumerable,zg=(r,e,t)=>e in r?jM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,GM=(r,e)=>{for(var t in e||(e={}))zM.call(e,t)&&zg(r,t,e[t]);if(jg)for(var t of jg(e))HM.call(e,t)&&zg(r,t,e[t]);return r};function xf(r){return r==null||r===""||Array.isArray(r)&&r.length===0||!(r instanceof Date)&&typeof r=="object"&&Object.keys(r).length===0}function VM(r){return typeof r=="function"&&"call"in r&&"apply"in r}function it(r){return!xf(r)}function xi(r,e=!0){return r instanceof Object&&r.constructor===Object&&(e||Object.keys(r).length!==0)}function Pb(r={},e={}){let t=GM({},r);return Object.keys(e).forEach(s=>{let i=s;xi(e[i])&&i in r&&xi(r[i])?t[i]=Pb(r[i],e[i]):t[i]=e[i]}),t}function WM(...r){return r.reduce((e,t,s)=>s===0?t:Pb(e,t),{})}function Ds(r,...e){return VM(r)?r(...e):r}function bn(r,e=!0){return typeof r=="string"&&(e||r!=="")}function XM(r){return it(r)&&!isNaN(r)}function Ti(r,e){if(e){let t=e.test(r);return e.lastIndex=0,t}return!1}function YM(...r){return WM(...r)}function ro(r){return r&&r.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function Rb(r){return bn(r)?r.replace(/(_)/g,"-").replace(/[A-Z]/g,(e,t)=>t===0?e:"-"+e.toLowerCase()).toLowerCase():r}function Tf(){let r=new Map;return{on(e,t){let s=r.get(e);return s?s.push(t):s=[t],r.set(e,s),this},off(e,t){let s=r.get(e);return s&&s.splice(s.indexOf(t)>>>0,1),this},emit(e,t){let s=r.get(e);s&&s.forEach(i=>{i(t)})},clear(){r.clear()}}}function qM(r){if(r){let e=r.parentNode;return e&&e instanceof ShadowRoot&&e.host&&(e=e.host),e}return null}function ZM(r){return!!(r!==null&&typeof r<"u"&&r.nodeName&&qM(r))}function Ib(r){return typeof Element<"u"?r instanceof Element:r!==null&&typeof r=="object"&&r.nodeType===1&&typeof r.nodeName=="string"}function ud(r,e={}){if(Ib(r)){let t=(s,i)=>{var n,o;let a=(n=r?.$attrs)!=null&&n[s]?[(o=r?.$attrs)==null?void 0:o[s]]:[];return[i].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let h=Array.isArray(c)?t(s,c):Object.entries(c).map(([d,f])=>s==="style"&&(f||f===0)?`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`:f?d:void 0);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(e).forEach(([s,i])=>{if(i!=null){let n=s.match(/^on(.+)/);n?r.addEventListener(n[1].toLowerCase(),i):s==="p-bind"||s==="pBind"?ud(r,i):(i=s==="class"?[...new Set(t("class",i))].join(" ").trim():s==="style"?t("style",i).join(";").trim():i,(r.$attrs=r.$attrs||{})&&(r.$attrs[s]=i),r.setAttribute(s,i))}})}}function KM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function JM(r,e="",t){Ib(r)&&t!==null&&t!==void 0&&r.setAttribute(e,t)}var QM=Object.defineProperty,eD=Object.defineProperties,tD=Object.getOwnPropertyDescriptors,ml=Object.getOwnPropertySymbols,kb=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable,Hg=(r,e,t)=>e in r?QM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hr=(r,e)=>{for(var t in e||(e={}))kb.call(e,t)&&Hg(r,t,e[t]);if(ml)for(var t of ml(e))Lb.call(e,t)&&Hg(r,t,e[t]);return r},Hu=(r,e)=>eD(r,tD(e)),Jr=(r,e)=>{var t={};for(var s in r)kb.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&ml)for(var s of ml(r))e.indexOf(s)<0&&Lb.call(r,s)&&(t[s]=r[s]);return t},rD=Tf(),es=rD,po=/{([^}]*)}/g,Mb=/(\d+\s+[\+\-\*\/]\s+\d+)/g,Db=/var\([^)]+\)/g;function Gg(r){return bn(r)?r.replace(/[A-Z]/g,(e,t)=>t===0?e:"."+e.toLowerCase()).toLowerCase():r}function sD(r){return xi(r)&&r.hasOwnProperty("$value")&&r.hasOwnProperty("$type")?r.$value:r}function iD(r){return r.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function hd(r="",e=""){return iD(`${bn(r,!1)&&bn(e,!1)?`${r}-`:r}${e}`)}function Ob(r="",e=""){return`--${hd(r,e)}`}function nD(r=""){let e=(r.match(/{/g)||[]).length,t=(r.match(/}/g)||[]).length;return(e+t)%2!==0}function Bb(r,e="",t="",s=[],i){if(bn(r)){let n=r.trim();if(nD(n))return;if(Ti(n,po)){let o=n.replaceAll(po,a=>{let l=a.replace(/{|}/g,"").split(".").filter(c=>!s.some(u=>Ti(c,u)));return`var(${Ob(t,Rb(l.join("-")))}${it(i)?`, ${i}`:""})`});return Ti(o.replace(Db,"0"),Mb)?`calc(${o})`:o}return n}else if(XM(r))return r}function oD(r,e,t){bn(e,!1)&&r.push(`${e}:${t};`)}function Ki(r,e){return r?`${r}{${e}}`:""}function Fb(r,e){if(r.indexOf("dt(")===-1)return r;function t(o,a){let l=[],c=0,u="",h=null,d=0;for(;c<=o.length;){let f=o[c];if((f==='"'||f==="'"||f==="`")&&o[c-1]!=="\\"&&(h=h===f?null:f),!h&&(f==="("&&d++,f===")"&&d--,(f===","||c===o.length)&&d===0)){let p=u.trim();p.startsWith("dt(")?l.push(Fb(p,a)):l.push(s(p)),u="",c++;continue}f!==void 0&&(u+=f),c++}return l}function s(o){let a=o[0];if((a==='"'||a==="'"||a==="`")&&o[o.length-1]===a)return o.slice(1,-1);let l=Number(o);return isNaN(l)?o:l}let i=[],n=[];for(let o=0;o<r.length;o++)if(r[o]==="d"&&r.slice(o,o+3)==="dt(")n.push(o),o+=2;else if(r[o]===")"&&n.length>0){let a=n.pop();n.length===0&&i.push([a,o])}if(!i.length)return r;for(let o=i.length-1;o>=0;o--){let[a,l]=i[o],c=r.slice(a+3,l),u=t(c,e),h=e(...u);r=r.slice(0,a)+h+r.slice(l+1)}return r}var wi=(...r)=>aD(St.getTheme(),...r),aD=(r={},e,t,s)=>{if(e){let{variable:i,options:n}=St.defaults||{},{prefix:o,transform:a}=r?.options||n||{},l=Ti(e,po)?e:`{${e}}`;return s==="value"||xf(s)&&a==="strict"?St.getTokenValue(e):Bb(l,void 0,o,[i.excludedKeyRegex],t)}return""};function ya(r,...e){if(r instanceof Array){let t=r.reduce((s,i,n)=>{var o;return s+i+((o=Ds(e[n],{dt:wi}))!=null?o:"")},"");return Fb(t,wi)}return Ds(r,{dt:wi})}function lD(r,e={}){let t=St.defaults.variable,{prefix:s=t.prefix,selector:i=t.selector,excludedKeyRegex:n=t.excludedKeyRegex}=e,o=[],a=[],l=[{node:r,path:s}];for(;l.length;){let{node:u,path:h}=l.pop();for(let d in u){let f=u[d],p=sD(f),m=Ti(d,n)?hd(h):hd(h,Rb(d));if(xi(p))l.push({node:p,path:m});else{let g=Ob(m),y=Bb(p,m,s,[n]);oD(a,g,y);let v=m;s&&v.startsWith(s+"-")&&(v=v.slice(s.length+1)),o.push(v.replace(/-/g,"."))}}}let c=a.join("");return{value:a,tokens:o,declarations:c,css:Ki(i,c)}}var lr={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(r){return{type:"class",selector:r,matched:this.pattern.test(r.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(r){return{type:"attr",selector:`:root${r},:host${r}`,matched:this.pattern.test(r.trim())}}},media:{pattern:/^@media (.*)$/,resolve(r){return{type:"media",selector:r,matched:this.pattern.test(r.trim())}}},system:{pattern:/^system$/,resolve(r){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(r.trim())}}},custom:{resolve(r){return{type:"custom",selector:r,matched:!0}}}},resolve(r){let e=Object.keys(this.rules).filter(t=>t!=="custom").map(t=>this.rules[t]);return[r].flat().map(t=>{var s;return(s=e.map(i=>i.resolve(t)).find(i=>i.matched))!=null?s:this.rules.custom.resolve(t)})}},_toVariables(r,e){return lD(r,{prefix:e?.prefix})},getCommon({name:r="",theme:e={},params:t,set:s,defaults:i}){var n,o,a,l,c,u,h;let{preset:d,options:f}=e,p,m,g,y,v,_,T;if(it(d)&&f.transform!=="strict"){let{primitive:b,semantic:L,extend:x}=d,I=L||{},{colorScheme:k}=I,O=Jr(I,["colorScheme"]),M=x||{},{colorScheme:P}=M,B=Jr(M,["colorScheme"]),R=k||{},{dark:G}=R,A=Jr(R,["dark"]),S=P||{},{dark:w}=S,C=Jr(S,["dark"]),E=it(b)?this._toVariables({primitive:b},f):{},D=it(O)?this._toVariables({semantic:O},f):{},$=it(A)?this._toVariables({light:A},f):{},N=it(G)?this._toVariables({dark:G},f):{},H=it(B)?this._toVariables({semantic:B},f):{},V=it(C)?this._toVariables({light:C},f):{},Z=it(w)?this._toVariables({dark:w},f):{},[te,ie]=[(n=E.declarations)!=null?n:"",E.tokens],[re,W]=[(o=D.declarations)!=null?o:"",D.tokens||[]],[se,ne]=[(a=$.declarations)!=null?a:"",$.tokens||[]],[le,ve]=[(l=N.declarations)!=null?l:"",N.tokens||[]],[Q,J]=[(c=H.declarations)!=null?c:"",H.tokens||[]],[$e,Ue]=[(u=V.declarations)!=null?u:"",V.tokens||[]],[wt,qe]=[(h=Z.declarations)!=null?h:"",Z.tokens||[]];p=this.transformCSS(r,te,"light","variable",f,s,i),m=ie;let at=this.transformCSS(r,`${re}${se}`,"light","variable",f,s,i),je=this.transformCSS(r,`${le}`,"dark","variable",f,s,i);g=`${at}${je}`,y=[...new Set([...W,...ne,...ve])];let ut=this.transformCSS(r,`${Q}${$e}color-scheme:light`,"light","variable",f,s,i),ht=this.transformCSS(r,`${wt}color-scheme:dark`,"dark","variable",f,s,i);v=`${ut}${ht}`,_=[...new Set([...J,...Ue,...qe])],T=Ds(d.css,{dt:wi})}return{primitive:{css:p,tokens:m},semantic:{css:g,tokens:y},global:{css:v,tokens:_},style:T}},getPreset({name:r="",preset:e={},options:t,params:s,set:i,defaults:n,selector:o}){var a,l,c;let u,h,d;if(it(e)&&t.transform!=="strict"){let f=r.replace("-directive",""),p=e,{colorScheme:m,extend:g,css:y}=p,v=Jr(p,["colorScheme","extend","css"]),_=g||{},{colorScheme:T}=_,b=Jr(_,["colorScheme"]),L=m||{},{dark:x}=L,I=Jr(L,["dark"]),k=T||{},{dark:O}=k,M=Jr(k,["dark"]),P=it(v)?this._toVariables({[f]:hr(hr({},v),b)},t):{},B=it(I)?this._toVariables({[f]:hr(hr({},I),M)},t):{},R=it(x)?this._toVariables({[f]:hr(hr({},x),O)},t):{},[G,A]=[(a=P.declarations)!=null?a:"",P.tokens||[]],[S,w]=[(l=B.declarations)!=null?l:"",B.tokens||[]],[C,E]=[(c=R.declarations)!=null?c:"",R.tokens||[]],D=this.transformCSS(f,`${G}${S}`,"light","variable",t,i,n,o),$=this.transformCSS(f,C,"dark","variable",t,i,n,o);u=`${D}${$}`,h=[...new Set([...A,...w,...E])],d=Ds(y,{dt:wi})}return{css:u,tokens:h,style:d}},getPresetC({name:r="",theme:e={},params:t,set:s,defaults:i}){var n;let{preset:o,options:a}=e,l=(n=o?.components)==null?void 0:n[r];return this.getPreset({name:r,preset:l,options:a,params:t,set:s,defaults:i})},getPresetD({name:r="",theme:e={},params:t,set:s,defaults:i}){var n,o;let a=r.replace("-directive",""),{preset:l,options:c}=e,u=((n=l?.components)==null?void 0:n[a])||((o=l?.directives)==null?void 0:o[a]);return this.getPreset({name:a,preset:u,options:c,params:t,set:s,defaults:i})},applyDarkColorScheme(r){return!(r.darkModeSelector==="none"||r.darkModeSelector===!1)},getColorSchemeOption(r,e){var t;return this.applyDarkColorScheme(r)?this.regex.resolve(r.darkModeSelector===!0?e.options.darkModeSelector:(t=r.darkModeSelector)!=null?t:e.options.darkModeSelector):[]},getLayerOrder(r,e={},t,s){let{cssLayer:i}=e;return i?`@layer ${Ds(i.order||i.name||"primeui",t)}`:""},getCommonStyleSheet({name:r="",theme:e={},params:t,props:s={},set:i,defaults:n}){let o=this.getCommon({name:r,theme:e,params:t,set:i,defaults:n}),a=Object.entries(s).reduce((l,[c,u])=>l.push(`${c}="${u}"`)&&l,[]).join(" ");return Object.entries(o||{}).reduce((l,[c,u])=>{if(xi(u)&&Object.hasOwn(u,"css")){let h=ro(u.css),d=`${c}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${d}" ${a}>${h}</style>`)}return l},[]).join("")},getStyleSheet({name:r="",theme:e={},params:t,props:s={},set:i,defaults:n}){var o;let a={name:r,theme:e,params:t,set:i,defaults:n},l=(o=r.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:o.css,c=Object.entries(s).reduce((u,[h,d])=>u.push(`${h}="${d}"`)&&u,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${r}-variables" ${c}>${ro(l)}</style>`:""},createTokens(r={},e,t="",s="",i={}){let n=function(a,l={},c=[]){if(c.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};c.push(this.path),l.name=this.path,l.binding||(l.binding={});let u=this.value;if(typeof this.value=="string"&&po.test(this.value)){let h=this.value.trim().replace(po,d=>{var f;let p=d.slice(1,-1),m=this.tokens[p];if(!m)return console.warn(`Token not found for path: ${p}`),"__UNRESOLVED__";let g=m.computed(a,l,c);return Array.isArray(g)&&g.length===2?`light-dark(${g[0].value},${g[1].value})`:(f=g?.value)!=null?f:"__UNRESOLVED__"});u=Mb.test(h.replace(Db,"0"))?`calc(${h})`:h}return xf(l.binding)&&delete l.binding,c.pop(),{colorScheme:a,path:this.path,paths:l,value:u.includes("__UNRESOLVED__")?void 0:u}},o=(a,l,c)=>{Object.entries(a).forEach(([u,h])=>{let d=Ti(u,e.variable.excludedKeyRegex)?l:l?`${l}.${Gg(u)}`:Gg(u),f=c?`${c}.${u}`:u;xi(h)?o(h,d,f):(i[d]||(i[d]={paths:[],computed:(p,m={},g=[])=>{if(i[d].paths.length===1)return i[d].paths[0].computed(i[d].paths[0].scheme,m.binding,g);if(p&&p!=="none")for(let y=0;y<i[d].paths.length;y++){let v=i[d].paths[y];if(v.scheme===p)return v.computed(p,m.binding,g)}return i[d].paths.map(y=>y.computed(y.scheme,m[y.scheme],g))}}),i[d].paths.push({path:f,value:h,scheme:f.includes("colorScheme.light")?"light":f.includes("colorScheme.dark")?"dark":"none",computed:n,tokens:i}))})};return o(r,t,s),i},getTokenValue(r,e,t){var s;let i=(a=>a.split(".").filter(l=>!Ti(l.toLowerCase(),t.variable.excludedKeyRegex)).join("."))(e),n=e.includes("colorScheme.light")?"light":e.includes("colorScheme.dark")?"dark":void 0,o=[(s=r[i])==null?void 0:s.computed(n)].flat().filter(a=>a);return o.length===1?o[0].value:o.reduce((a={},l)=>{let c=l,{colorScheme:u}=c,h=Jr(c,["colorScheme"]);return a[u]=h,a},void 0)},getSelectorRule(r,e,t,s){return t==="class"||t==="attr"?Ki(it(e)?`${r}${e},${r} ${e}`:r,s):Ki(r,Ki(e??":root,:host",s))},transformCSS(r,e,t,s,i={},n,o,a){if(it(e)){let{cssLayer:l}=i;if(s!=="style"){let c=this.getColorSchemeOption(i,o);e=t==="dark"?c.reduce((u,{type:h,selector:d})=>(it(d)&&(u+=d.includes("[CSS]")?d.replace("[CSS]",e):this.getSelectorRule(d,a,h,e)),u),""):Ki(a??":root,:host",e)}if(l){let c={name:"primeui"};xi(l)&&(c.name=Ds(l.name,{name:r,type:s})),it(c.name)&&(e=Ki(`@layer ${c.name}`,e),n?.layerNames(c.name))}return e}return""}},St={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(r={}){let{theme:e}=r;e&&(this._theme=Hu(hr({},e),{options:hr(hr({},this.defaults.options),e.options)}),this._tokens=lr.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var r;return((r=this.theme)==null?void 0:r.preset)||{}},get options(){var r;return((r=this.theme)==null?void 0:r.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(r){this.update({theme:r}),es.emit("theme:change",r)},getPreset(){return this.preset},setPreset(r){this._theme=Hu(hr({},this.theme),{preset:r}),this._tokens=lr.createTokens(r,this.defaults),this.clearLoadedStyleNames(),es.emit("preset:change",r),es.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(r){this._theme=Hu(hr({},this.theme),{options:r}),this.clearLoadedStyleNames(),es.emit("options:change",r),es.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(r){this._layerNames.add(r)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(r){return this._loadedStyleNames.has(r)},setLoadedStyleName(r){this._loadedStyleNames.add(r)},deleteLoadedStyleName(r){this._loadedStyleNames.delete(r)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(r){return lr.getTokenValue(this.tokens,r,this.defaults)},getCommon(r="",e){return lr.getCommon({name:r,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(r="",e){let t={name:r,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lr.getPresetC(t)},getDirective(r="",e){let t={name:r,theme:this.theme,params:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lr.getPresetD(t)},getCustomPreset(r="",e,t,s){let i={name:r,preset:e,options:this.options,selector:t,params:s,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return lr.getPreset(i)},getLayerOrderCSS(r=""){return lr.getLayerOrder(r,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(r="",e,t="style",s){return lr.transformCSS(r,e,s,t,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(r="",e,t={}){return lr.getCommonStyleSheet({name:r,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(r,e,t={}){return lr.getStyleSheet({name:r,theme:this.theme,params:e,props:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(r){this._loadingStyles.add(r)},onStyleUpdated(r){this._loadingStyles.add(r)},onStyleLoaded(r,{name:e}){this._loadingStyles.size&&(this._loadingStyles.delete(e),es.emit(`theme:${e}:load`,r),!this._loadingStyles.size&&es.emit("theme:load"))}},At={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},cD=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;function mo(r){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(r)}function Vg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,s)}return t}function Wg(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vg(Object(t),!0).forEach(function(s){uD(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Vg(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function uD(r,e,t){return(e=hD(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hD(r){var e=dD(r,"string");return mo(e)=="symbol"?e:e+""}function dD(r,e){if(mo(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(mo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fD(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;fn()&&fn().components?Zt(r):e?r():wo(r)}var pD=0;function mD(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Ee(!1),s=Ee(r),i=Ee(null),n=KM()?window.document:void 0,o=e.document,a=o===void 0?n:o,l=e.immediate,c=l===void 0?!0:l,u=e.manual,h=u===void 0?!1:u,d=e.name,f=d===void 0?"style_".concat(++pD):d,p=e.id,m=p===void 0?void 0:p,g=e.media,y=g===void 0?void 0:g,v=e.nonce,_=v===void 0?void 0:v,T=e.first,b=T===void 0?!1:T,L=e.onMounted,x=L===void 0?void 0:L,I=e.onUpdated,k=I===void 0?void 0:I,O=e.onLoad,M=O===void 0?void 0:O,P=e.props,B=P===void 0?{}:P,R=function(){},G=function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var E=Wg(Wg({},B),C),D=E.name||f,$=E.id||m,N=E.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(D,'"]'))||a.getElementById($)||a.createElement("style"),i.value.isConnected||(s.value=w||r,ud(i.value,{type:"text/css",id:$,media:y,nonce:N}),b?a.head.prepend(i.value):a.head.appendChild(i.value),JM(i.value,"data-primevue-style-id",D),ud(i.value,E),i.value.onload=function(H){return M?.(H,{name:D})},x?.(D)),!t.value&&(R=Ze(s,function(H){i.value.textContent=H,k?.(D)},{immediate:!0}),t.value=!0)}},A=function(){!a||!t.value||(R(),ZM(i.value)&&a.head.removeChild(i.value),t.value=!1,i.value=null)};return c&&!h&&fD(G),{id:m,name:f,el:i,css:s,unload:A,load:G,isLoaded:Td(t)}}function go(r){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(r)}var Xg,Yg,qg,Zg;function Kg(r,e){return _D(r)||vD(r,e)||yD(r,e)||gD()}function gD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yD(r,e){if(r){if(typeof r=="string")return Jg(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Jg(r,e):void 0}}function Jg(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function vD(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var s,i,n,o,a=[],l=!0,c=!1;try{if(n=(t=t.call(r)).next,e!==0)for(;!(l=(s=n.call(t)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function _D(r){if(Array.isArray(r))return r}function Qg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,s)}return t}function Gu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(t),!0).forEach(function(s){bD(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Qg(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function bD(r,e,t){return(e=xD(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xD(r){var e=TD(r,"string");return go(e)=="symbol"?e:e+""}function TD(r,e){if(go(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(go(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function va(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}var wD=function(e){var t=e.dt;return`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: `.concat(t("scrollbar.width"),`;
}
`)},AD={},SD={},Hi={name:"base",css:wD,style:cD,classes:AD,inlineStyles:SD,load:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(n){return n},i=s(ya(Xg||(Xg=va(["",""])),e));return it(i)?mD(ro(i),Gu({name:this.name},t)):{}},loadCSS:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.load(this.css,e)},loadStyle:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.load(this.style,t,function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return St.transformCSS(t.name||e.name,"".concat(i).concat(ya(Yg||(Yg=va(["",""])),s)))})},getCommonTheme:function(e){return St.getCommon(this.name,e)},getComponentTheme:function(e){return St.getComponent(this.name,e)},getDirectiveTheme:function(e){return St.getDirective(this.name,e)},getPresetTheme:function(e,t,s){return St.getCustomPreset(this.name,e,t,s)},getLayerOrderThemeCSS:function(){return St.getLayerOrderCSS(this.name)},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var s=Ds(this.css,{dt:wi})||"",i=ro(ya(qg||(qg=va(["","",""])),s,e)),n=Object.entries(t).reduce(function(o,a){var l=Kg(a,2),c=l[0],u=l[1];return o.push("".concat(c,'="').concat(u,'"'))&&o},[]).join(" ");return it(i)?'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(n,">").concat(i,"</style>"):""}return""},getCommonThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return St.getCommonStyleSheet(this.name,e,t)},getThemeStyleSheet:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=[St.getStyleSheet(this.name,e,t)];if(this.style){var i=this.name==="base"?"global-style":"".concat(this.name,"-style"),n=ya(Zg||(Zg=va(["",""])),Ds(this.style,{dt:wi})),o=ro(St.transformCSS(i,n)),a=Object.entries(t).reduce(function(l,c){var u=Kg(c,2),h=u[0],d=u[1];return l.push("".concat(h,'="').concat(d,'"'))&&l},[]).join(" ");it(o)&&s.push('<style type="text/css" data-primevue-style-id="'.concat(i,'" ').concat(a,">").concat(o,"</style>"))}return s.join("")},extend:function(e){return Gu(Gu({},this),{},{css:void 0,style:void 0},e)}},_a=Tf();function yo(r){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(r)}function ey(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,s)}return t}function ba(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(t),!0).forEach(function(s){ED(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ey(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function ED(r,e,t){return(e=CD(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function CD(r){var e=PD(r,"string");return yo(e)=="symbol"?e:e+""}function PD(r,e){if(yo(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(yo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var RD={ripple:!1,inputStyle:null,inputVariant:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",fileChosenMessage:"{0} files",noFileChosenMessage:"No file chosen",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[At.STARTS_WITH,At.CONTAINS,At.NOT_CONTAINS,At.ENDS_WITH,At.EQUALS,At.NOT_EQUALS],numeric:[At.EQUALS,At.NOT_EQUALS,At.LESS_THAN,At.LESS_THAN_OR_EQUAL_TO,At.GREATER_THAN,At.GREATER_THAN_OR_EQUAL_TO],date:[At.DATE_IS,At.DATE_IS_NOT,At.DATE_BEFORE,At.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},theme:void 0,unstyled:!1,pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},csp:{nonce:void 0}},ID=Symbol();function kD(r,e){var t={config:Ku(e)};return r.config.globalProperties.$primevue=t,r.provide(ID,t),LD(),MD(r,t),t}var en=[];function LD(){es.clear(),en.forEach(function(r){return r?.()}),en=[]}function MD(r,e){var t=Ee(!1),s=function(){var c;if(((c=e.config)===null||c===void 0?void 0:c.theme)!=="none"&&!St.isStyleNameLoaded("common")){var u,h,d=((u=Hi.getCommonTheme)===null||u===void 0?void 0:u.call(Hi))||{},f=d.primitive,p=d.semantic,m=d.global,g=d.style,y={nonce:(h=e.config)===null||h===void 0||(h=h.csp)===null||h===void 0?void 0:h.nonce};Hi.load(f?.css,ba({name:"primitive-variables"},y)),Hi.load(p?.css,ba({name:"semantic-variables"},y)),Hi.load(m?.css,ba({name:"global-variables"},y)),Hi.loadStyle(ba({name:"global-style"},y),g),St.setLoadedStyleName("common")}};es.on("theme:change",function(l){t.value||(r.config.globalProperties.$primevue.config.theme=l,t.value=!0)});var i=Ze(e.config,function(l,c){_a.emit("config:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),n=Ze(function(){return e.config.ripple},function(l,c){_a.emit("config:ripple:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0}),o=Ze(function(){return e.config.theme},function(l,c){t.value||St.setTheme(l),e.config.unstyled||s(),t.value=!1,_a.emit("config:theme:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!1}),a=Ze(function(){return e.config.unstyled},function(l,c){!l&&e.config.theme&&s(),_a.emit("config:unstyled:change",{newValue:l,oldValue:c})},{immediate:!0,deep:!0});en.push(i),en.push(n),en.push(o),en.push(a)}var DD={install:function(e,t){var s=YM(RD,t);kD(e,s)}},xa=Tf(),OD=Symbol(),BD={install:function(e){var t={add:function(i){xa.emit("add",i)},remove:function(i){xa.emit("remove",i)},removeGroup:function(i){xa.emit("remove-group",i)},removeAllGroups:function(){xa.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(OD,t)}};const FD={root:{class:["yun-tooltip","yun-tooltip-top"]},arrow:{class:"yun-tooltip-arrow"},text:{class:"yun-tooltip-text"}},ND={directives:{tooltip:FD}},$D=r=>{const{router:e,app:t}=r;t.use(Xx),t.use(DD,{unstyled:!0,pt:{...ND,dock:{root:"yun-dock",list:"yun-dock-list",listContainer:"yun-dock-list-container",item:"yun-dock-item",itemLink:"yun-dock-item-link"}}}),t.use(BD),e.afterEach(()=>{const s=Kt();s.fullscreenMenu.isOpen&&s.fullscreenMenu.toggle()})},Ht={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},ty={silent:{level:-1},fatal:{level:Ht.fatal},error:{level:Ht.error},warn:{level:Ht.warn},log:{level:Ht.log},info:{level:Ht.info},success:{level:Ht.success},fail:{level:Ht.fail},ready:{level:Ht.info},start:{level:Ht.info},box:{level:Ht.info},debug:{level:Ht.debug},trace:{level:Ht.trace},verbose:{level:Ht.verbose}};function Vu(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in r?!1:Symbol.toStringTag in r?Object.prototype.toString.call(r)==="[object Module]":!0}function dd(r,e,t=".",s){if(!Vu(e))return dd(r,{},t);const i=Object.assign({},e);for(const n in r){if(n==="__proto__"||n==="constructor")continue;const o=r[n];o!=null&&(Array.isArray(o)&&Array.isArray(i[n])?i[n]=[...o,...i[n]]:Vu(o)&&Vu(i[n])?i[n]=dd(o,i[n],(t?`${t}.`:"")+n.toString()):i[n]=o)}return i}function UD(r){return(...e)=>e.reduce((t,s)=>dd(t,s,""),{})}const jD=UD();function zD(r){return Object.prototype.toString.call(r)==="[object Object]"}function HD(r){return!(!zD(r)||!r.message&&!r.args||r.stack)}let Wu=!1;const ry=[];class xt{options;_lastLog;_mockFn;constructor(e={}){const t=e.types||ty;this.options=jD({...e,defaults:{...e.defaults},level:Xu(e.level,t),reporters:[...e.reporters||[]]},{types:ty,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const s in t){const i={type:s,...this.options.defaults,...t[s]};this[s]=this._wrapLogFn(i),this[s].raw=this._wrapLogFn(i,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=Xu(e,this.options.types,this.options.level)}prompt(e,t){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,t)}create(e){const t=new xt({...this.options,...e});return this._mockFn&&t.mockTypes(this._mockFn),t}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const t=this.options.reporters.indexOf(e);if(t!==-1)return this.options.reporters.splice(t,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,t){e&&(e.__write||(e.__write=e.write),e.write=s=>{this[t].raw(String(s).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){Wu=!0}resumeLogs(){Wu=!1;const e=ry.splice(0);for(const t of e)t[0]._logFn(t[1],t[2])}mockTypes(e){const t=e||this.options.mockFn;if(this._mockFn=t,typeof t=="function")for(const s in this.options.types)this[s]=t(s,this.options.types[s])||this[s],this[s].raw=this[s]}_wrapLogFn(e,t){return(...s)=>{if(Wu){ry.push([this,e,s,t]);return}return this._logFn(e,s,t)}}_logFn(e,t,s){if((e.level||0)>this.level)return!1;const i={date:new Date,args:[],...e,level:Xu(e.level,this.options.types)};!s&&t.length===1&&HD(t[0])?Object.assign(i,t[0]):i.args=[...t],i.message&&(i.args.unshift(i.message),delete i.message),i.additional&&(Array.isArray(i.additional)||(i.additional=i.additional.split(`
`)),i.args.push(`
`+i.additional.join(`
`)),delete i.additional),i.type=typeof i.type=="string"?i.type.toLowerCase():"log",i.tag=typeof i.tag=="string"?i.tag:"";const n=(a=!1)=>{const l=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&l>0){const c=[...this._lastLog.object.args];l>1&&c.push(`(repeated ${l} times)`),this._log({...this._lastLog.object,args:c}),this._lastLog.count=1}a&&(this._lastLog.object=i,this._log(i))};clearTimeout(this._lastLog.timeout);const o=this._lastLog.time&&i.date?i.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=i.date,o<this.options.throttle)try{const a=JSON.stringify([i.type,i.tag,i.args]),l=this._lastLog.serialized===a;if(this._lastLog.serialized=a,l&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(n,this.options.throttle);return}}catch{}n(!0)}_log(e){for(const t of this.options.reporters)t.log(e,{options:this.options})}}function Xu(r,e={},t=3){return r===void 0?t:typeof r=="number"?r:e[r]&&e[r].level!==void 0?e[r].level:t}xt.prototype.add=xt.prototype.addReporter;xt.prototype.remove=xt.prototype.removeReporter;xt.prototype.clear=xt.prototype.removeReporter;xt.prototype.withScope=xt.prototype.withTag;xt.prototype.mock=xt.prototype.mockTypes;xt.prototype.pause=xt.prototype.pauseLogs;xt.prototype.resume=xt.prototype.resumeLogs;function GD(r={}){return new xt(r)}class VD{options;defaultColor;levelColorMap;typeColorMap;constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const t=this._getLogFn(e.level),s=e.type==="log"?"":e.type,i=e.tag||"",o=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,a=`%c${[i,s].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?t(`${a}%c ${e.args[0]}`,o,"",...e.args.slice(1)):t(a,o,...e.args)}}function WD(r={}){return GD({reporters:r.reporters||[new VD({})],prompt(t,s={}){return s.type==="confirm"?Promise.resolve(confirm(t)):Promise.resolve(prompt(t))},...r})}WD();const XD=ge({__name:"ValaxyTranslate",props:{content:{}},setup(r){const{t:e}=Rt();return(t,s)=>Ie(j(e)(r.content))}});function YD(r){r.app.component("AppLink",Io),r.app.component("VT",XD)}const qD=["top","right","bottom","left"],sy=["start","end"],iy=qD.reduce((r,e)=>r.concat(e,e+"-"+sy[0],e+"-"+sy[1]),[]),vo=Math.min,hi=Math.max,ZD={left:"right",right:"left",bottom:"top",top:"bottom"},KD={start:"end",end:"start"};function fd(r,e,t){return hi(r,vo(e,t))}function Di(r,e){return typeof r=="function"?r(e):r}function Gr(r){return r.split("-")[0]}function vr(r){return r.split("-")[1]}function Nb(r){return r==="x"?"y":"x"}function wf(r){return r==="y"?"height":"width"}const JD=new Set(["top","bottom"]);function os(r){return JD.has(Gr(r))?"y":"x"}function Af(r){return Nb(os(r))}function $b(r,e,t){t===void 0&&(t=!1);const s=vr(r),i=Af(r),n=wf(i);let o=i==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[n]>e.floating[n]&&(o=yl(o)),[o,yl(o)]}function QD(r){const e=yl(r);return[gl(r),e,gl(e)]}function gl(r){return r.replace(/start|end/g,e=>KD[e])}const ny=["left","right"],oy=["right","left"],e3=["top","bottom"],t3=["bottom","top"];function r3(r,e,t){switch(r){case"top":case"bottom":return t?e?oy:ny:e?ny:oy;case"left":case"right":return e?e3:t3;default:return[]}}function s3(r,e,t,s){const i=vr(r);let n=r3(Gr(r),t==="start",s);return i&&(n=n.map(o=>o+"-"+i),e&&(n=n.concat(n.map(gl)))),n}function yl(r){return r.replace(/left|right|bottom|top/g,e=>ZD[e])}function i3(r){return{top:0,right:0,bottom:0,left:0,...r}}function Ub(r){return typeof r!="number"?i3(r):{top:r,right:r,bottom:r,left:r}}function so(r){const{x:e,y:t,width:s,height:i}=r;return{width:s,height:i,top:t,left:e,right:e+s,bottom:t+i,x:e,y:t}}function ay(r,e,t){let{reference:s,floating:i}=r;const n=os(e),o=Af(e),a=wf(o),l=Gr(e),c=n==="y",u=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,d=s[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:s.y-i.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-i.width,y:h};break;default:f={x:s.x,y:s.y}}switch(vr(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const n3=async(r,e,t)=>{const{placement:s="bottom",strategy:i="absolute",middleware:n=[],platform:o}=t,a=n.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:r,floating:e,strategy:i}),{x:u,y:h}=ay(c,s,l),d=s,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:_,data:T,reset:b}=await y({x:u,y:h,initialPlacement:s,placement:d,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:r,floating:e}});u=v??u,h=_??h,f={...f,[g]:{...f[g],...T}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:i}):b.rects),{x:u,y:h}=ay(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}};async function Yl(r,e){var t;e===void 0&&(e={});const{x:s,y:i,platform:n,rects:o,elements:a,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Di(e,r),p=Ub(f),g=a[d?h==="floating"?"reference":"floating":h],y=so(await n.getClippingRect({element:(t=await(n.isElement==null?void 0:n.isElement(g)))==null||t?g:g.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(n.getOffsetParent==null?void 0:n.getOffsetParent(a.floating)),T=await(n.isElement==null?void 0:n.isElement(_))?await(n.getScale==null?void 0:n.getScale(_))||{x:1,y:1}:{x:1,y:1},b=so(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-b.top+p.top)/T.y,bottom:(b.bottom-y.bottom+p.bottom)/T.y,left:(y.left-b.left+p.left)/T.x,right:(b.right-y.right+p.right)/T.x}}const o3=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:s,placement:i,rects:n,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Di(r,e)||{};if(c==null)return{};const h=Ub(u),d={x:t,y:s},f=Af(i),p=wf(f),m=await o.getDimensions(c),g=f==="y",y=g?"top":"left",v=g?"bottom":"right",_=g?"clientHeight":"clientWidth",T=n.reference[p]+n.reference[f]-d[f]-n.floating[p],b=d[f]-n.reference[f],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=L?L[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(L)))&&(x=a.floating[_]||n.floating[p]);const I=T/2-b/2,k=x/2-m[p]/2-1,O=vo(h[y],k),M=vo(h[v],k),P=O,B=x-m[p]-M,R=x/2-m[p]/2+I,G=fd(P,R,B),A=!l.arrow&&vr(i)!=null&&R!==G&&n.reference[p]/2-(R<P?O:M)-m[p]/2<0,S=A?R<P?R-P:R-B:0;return{[f]:d[f]+S,data:{[f]:G,centerOffset:R-G-S,...A&&{alignmentOffset:S}},reset:A}}});function a3(r,e,t){return(r?[...t.filter(i=>vr(i)===r),...t.filter(i=>vr(i)!==r)]:t.filter(i=>Gr(i)===i)).filter(i=>r?vr(i)===r||(e?gl(i)!==i:!1):!0)}const l3=function(r){return r===void 0&&(r={}),{name:"autoPlacement",options:r,async fn(e){var t,s,i;const{rects:n,middlewareData:o,placement:a,platform:l,elements:c}=e,{crossAxis:u=!1,alignment:h,allowedPlacements:d=iy,autoAlignment:f=!0,...p}=Di(r,e),m=h!==void 0||d===iy?a3(h||null,f,d):d,g=await Yl(e,p),y=((t=o.autoPlacement)==null?void 0:t.index)||0,v=m[y];if(v==null)return{};const _=$b(v,n,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(a!==v)return{reset:{placement:m[0]}};const T=[g[Gr(v)],g[_[0]],g[_[1]]],b=[...((s=o.autoPlacement)==null?void 0:s.overflows)||[],{placement:v,overflows:T}],L=m[y+1];if(L)return{data:{index:y+1,overflows:b},reset:{placement:L}};const x=b.map(O=>{const M=vr(O.placement);return[O.placement,M&&u?O.overflows.slice(0,2).reduce((P,B)=>P+B,0):O.overflows[0],O.overflows]}).sort((O,M)=>O[1]-M[1]),k=((i=x.filter(O=>O[2].slice(0,vr(O[0])?2:3).every(M=>M<=0))[0])==null?void 0:i[0])||x[0][0];return k!==a?{data:{index:y+1,overflows:b},reset:{placement:k}}:{}}}},c3=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,s;const{placement:i,middlewareData:n,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Di(r,e);if((t=n.arrow)!=null&&t.alignmentOffset)return{};const y=Gr(i),v=os(a),_=Gr(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=d||(_||!m?[yl(a)]:QD(a)),L=p!=="none";!d&&L&&b.push(...s3(a,m,p,T));const x=[a,...b],I=await Yl(e,g),k=[];let O=((s=n.flip)==null?void 0:s.overflows)||[];if(u&&k.push(I[y]),h){const R=$b(i,o,T);k.push(I[R[0]],I[R[1]])}if(O=[...O,{placement:i,overflows:k}],!k.every(R=>R<=0)){var M,P;const R=(((M=n.flip)==null?void 0:M.index)||0)+1,G=x[R];if(G&&(!(h==="alignment"?v!==os(G):!1)||O.every(w=>os(w.placement)===v?w.overflows[0]>0:!0)))return{data:{index:R,overflows:O},reset:{placement:G}};let A=(P=O.filter(S=>S.overflows[0]<=0).sort((S,w)=>S.overflows[1]-w.overflows[1])[0])==null?void 0:P.placement;if(!A)switch(f){case"bestFit":{var B;const S=(B=O.filter(w=>{if(L){const C=os(w.placement);return C===v||C==="y"}return!0}).map(w=>[w.placement,w.overflows.filter(C=>C>0).reduce((C,E)=>C+E,0)]).sort((w,C)=>w[1]-C[1])[0])==null?void 0:B[0];S&&(A=S);break}case"initialPlacement":A=a;break}if(i!==A)return{reset:{placement:A}}}return{}}}},u3=new Set(["left","top"]);async function h3(r,e){const{placement:t,platform:s,elements:i}=r,n=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=Gr(t),a=vr(t),l=os(t)==="y",c=u3.has(o)?-1:1,u=n&&l?-1:1,h=Di(e,r);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const d3=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,s;const{x:i,y:n,placement:o,middlewareData:a}=e,l=await h3(e,r);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:n+l.y,data:{...l,placement:o}}}}},f3=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:s,placement:i}=e,{mainAxis:n=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Di(r,e),c={x:t,y:s},u=await Yl(e,l),h=os(Gr(i)),d=Nb(h);let f=c[d],p=c[h];if(n){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=f+u[g],_=f-u[y];f=fd(v,f,_)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+u[g],_=p-u[y];p=fd(v,p,_)}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-t,y:m.y-s,enabled:{[d]:n,[h]:o}}}}}},p3=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,s;const{placement:i,rects:n,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Di(r,e),u=await Yl(e,c),h=Gr(i),d=vr(i),f=os(i)==="y",{width:p,height:m}=n.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,g=d==="end"?"top":"bottom");const v=m-u.top-u.bottom,_=p-u.left-u.right,T=vo(m-u[g],v),b=vo(p-u[y],_),L=!e.middlewareData.shift;let x=T,I=b;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=_),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(x=v),L&&!d){const O=hi(u.left,0),M=hi(u.right,0),P=hi(u.top,0),B=hi(u.bottom,0);f?I=p-2*(O!==0||M!==0?O+M:hi(u.left,u.right)):x=m-2*(P!==0||B!==0?P+B:hi(u.top,u.bottom))}await l({...e,availableWidth:I,availableHeight:x});const k=await o.getDimensions(a.floating);return p!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function sr(r){var e;return((e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(r){return sr(r).getComputedStyle(r)}const ly=Math.min,io=Math.max,vl=Math.round;function jb(r){const e=Ur(r);let t=parseFloat(e.width),s=parseFloat(e.height);const i=r.offsetWidth,n=r.offsetHeight,o=vl(t)!==i||vl(s)!==n;return o&&(t=i,s=n),{width:t,height:s,fallback:o}}function Gs(r){return Hb(r)?(r.nodeName||"").toLowerCase():""}let Ta;function zb(){if(Ta)return Ta;const r=navigator.userAgentData;return r&&Array.isArray(r.brands)?(Ta=r.brands.map((e=>e.brand+"/"+e.version)).join(" "),Ta):navigator.userAgent}function jr(r){return r instanceof sr(r).HTMLElement}function Fs(r){return r instanceof sr(r).Element}function Hb(r){return r instanceof sr(r).Node}function cy(r){return typeof ShadowRoot>"u"?!1:r instanceof sr(r).ShadowRoot||r instanceof ShadowRoot}function ql(r){const{overflow:e,overflowX:t,overflowY:s,display:i}=Ur(r);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(i)}function m3(r){return["table","td","th"].includes(Gs(r))}function pd(r){const e=/firefox/i.test(zb()),t=Ur(r),s=t.backdropFilter||t.WebkitBackdropFilter;return t.transform!=="none"||t.perspective!=="none"||!!s&&s!=="none"||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"||["transform","perspective"].some((i=>t.willChange.includes(i)))||["paint","layout","strict","content"].some((i=>{const n=t.contain;return n!=null&&n.includes(i)}))}function Gb(){return!/^((?!chrome|android).)*safari/i.test(zb())}function Sf(r){return["html","body","#document"].includes(Gs(r))}function Vb(r){return Fs(r)?r:r.contextElement}const Wb={x:1,y:1};function dn(r){const e=Vb(r);if(!jr(e))return Wb;const t=e.getBoundingClientRect(),{width:s,height:i,fallback:n}=jb(e);let o=(n?vl(t.width):t.width)/s,a=(n?vl(t.height):t.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function _o(r,e,t,s){var i,n;e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),a=Vb(r);let l=Wb;e&&(s?Fs(s)&&(l=dn(s)):l=dn(r));const c=a?sr(a):window,u=!Gb()&&t;let h=(o.left+(u&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(u&&((n=c.visualViewport)==null?void 0:n.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=sr(a),g=s&&Fs(s)?sr(s):s;let y=m.frameElement;for(;y&&s&&g!==m;){const v=dn(y),_=y.getBoundingClientRect(),T=getComputedStyle(y);_.x+=(y.clientLeft+parseFloat(T.paddingLeft))*v.x,_.y+=(y.clientTop+parseFloat(T.paddingTop))*v.y,h*=v.x,d*=v.y,f*=v.x,p*=v.y,h+=_.x,d+=_.y,y=sr(y).frameElement}}return{width:f,height:p,top:d,right:h+f,bottom:d+p,left:h,x:h,y:d}}function Ns(r){return((Hb(r)?r.ownerDocument:r.document)||window.document).documentElement}function Zl(r){return Fs(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function Xb(r){return _o(Ns(r)).left+Zl(r).scrollLeft}function bo(r){if(Gs(r)==="html")return r;const e=r.assignedSlot||r.parentNode||cy(r)&&r.host||Ns(r);return cy(e)?e.host:e}function Yb(r){const e=bo(r);return Sf(e)?e.ownerDocument.body:jr(e)&&ql(e)?e:Yb(e)}function _l(r,e){var t;e===void 0&&(e=[]);const s=Yb(r),i=s===((t=r.ownerDocument)==null?void 0:t.body),n=sr(s);return i?e.concat(n,n.visualViewport||[],ql(s)?s:[]):e.concat(s,_l(s))}function uy(r,e,t){return e==="viewport"?so((function(s,i){const n=sr(s),o=Ns(s),a=n.visualViewport;let l=o.clientWidth,c=o.clientHeight,u=0,h=0;if(a){l=a.width,c=a.height;const d=Gb();(d||!d&&i==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:u,y:h}})(r,t)):Fs(e)?so((function(s,i){const n=_o(s,!0,i==="fixed"),o=n.top+s.clientTop,a=n.left+s.clientLeft,l=jr(s)?dn(s):{x:1,y:1};return{width:s.clientWidth*l.x,height:s.clientHeight*l.y,x:a*l.x,y:o*l.y}})(e,t)):so((function(s){const i=Ns(s),n=Zl(s),o=s.ownerDocument.body,a=io(i.scrollWidth,i.clientWidth,o.scrollWidth,o.clientWidth),l=io(i.scrollHeight,i.clientHeight,o.scrollHeight,o.clientHeight);let c=-n.scrollLeft+Xb(s);const u=-n.scrollTop;return Ur(o).direction==="rtl"&&(c+=io(i.clientWidth,o.clientWidth)-a),{width:a,height:l,x:c,y:u}})(Ns(r)))}function hy(r){return jr(r)&&Ur(r).position!=="fixed"?r.offsetParent:null}function dy(r){const e=sr(r);let t=hy(r);for(;t&&m3(t)&&Ur(t).position==="static";)t=hy(t);return t&&(Gs(t)==="html"||Gs(t)==="body"&&Ur(t).position==="static"&&!pd(t))?e:t||(function(s){let i=bo(s);for(;jr(i)&&!Sf(i);){if(pd(i))return i;i=bo(i)}return null})(r)||e}function g3(r,e,t){const s=jr(e),i=Ns(e),n=_o(r,!0,t==="fixed",e);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(s||!s&&t!=="fixed")if((Gs(e)!=="body"||ql(i))&&(o=Zl(e)),jr(e)){const l=_o(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=Xb(i));return{x:n.left+o.scrollLeft-a.x,y:n.top+o.scrollTop-a.y,width:n.width,height:n.height}}const y3={getClippingRect:function(r){let{element:e,boundary:t,rootBoundary:s,strategy:i}=r;const n=t==="clippingAncestors"?(function(c,u){const h=u.get(c);if(h)return h;let d=_l(c).filter((g=>Fs(g)&&Gs(g)!=="body")),f=null;const p=Ur(c).position==="fixed";let m=p?bo(c):c;for(;Fs(m)&&!Sf(m);){const g=Ur(m),y=pd(m);(p?y||f:y||g.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=g:d=d.filter((v=>v!==m)),m=bo(m)}return u.set(c,d),d})(e,this._c):[].concat(t),o=[...n,s],a=o[0],l=o.reduce(((c,u)=>{const h=uy(e,u,i);return c.top=io(h.top,c.top),c.right=ly(h.right,c.right),c.bottom=ly(h.bottom,c.bottom),c.left=io(h.left,c.left),c}),uy(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(r){let{rect:e,offsetParent:t,strategy:s}=r;const i=jr(t),n=Ns(t);if(t===n)return e;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&s!=="fixed")&&((Gs(t)!=="body"||ql(n))&&(o=Zl(t)),jr(t))){const c=_o(t);a=dn(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}},isElement:Fs,getDimensions:function(r){return jr(r)?jb(r):r.getBoundingClientRect()},getOffsetParent:dy,getDocumentElement:Ns,getScale:dn,async getElementRects(r){let{reference:e,floating:t,strategy:s}=r;const i=this.getOffsetParent||dy,n=this.getDimensions;return{reference:g3(e,await i(t),s),floating:{x:0,y:0,...await n(t)}}},getClientRects:r=>Array.from(r.getClientRects()),isRTL:r=>Ur(r).direction==="rtl"},v3=(r,e,t)=>{const s=new Map,i={platform:y3,...t},n={...i.platform,_c:s};return n3(r,e,{...i,platform:n})};function qb(r,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(typeof e[t]=="object"&&r[t]?qb(r[t],e[t]):r[t]=e[t])}const _r={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:r=>[...r,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function xo(r,e){let t=_r.themes[r]||{},s;do s=t[e],typeof s>"u"?t.$extend?t=_r.themes[t.$extend]||{}:(t=null,s=_r[e]):t=null;while(t);return s}function _3(r){const e=[r];let t=_r.themes[r]||{};do t.$extend&&!t.$resetCss?(e.push(t.$extend),t=_r.themes[t.$extend]||{}):t=null;while(t);return e.map(s=>`v-popper--theme-${s}`)}function fy(r){const e=[r];let t=_r.themes[r]||{};do t.$extend?(e.push(t.$extend),t=_r.themes[t.$extend]||{}):t=null;while(t);return e}let xn=!1;if(typeof window<"u"){xn=!1;try{const r=Object.defineProperty({},"passive",{get(){xn=!0}});window.addEventListener("test",null,r)}catch{}}let Zb=!1;typeof window<"u"&&typeof navigator<"u"&&(Zb=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const Kb=["auto","top","bottom","left","right"].reduce((r,e)=>r.concat([e,`${e}-start`,`${e}-end`]),[]),py={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},my={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function gy(r,e){const t=r.indexOf(e);t!==-1&&r.splice(t,1)}function Yu(){return new Promise(r=>requestAnimationFrame(()=>{requestAnimationFrame(r)}))}const fr=[];let ii=null;const yy={};function vy(r){let e=yy[r];return e||(e=yy[r]=[]),e}let md=function(){};typeof window<"u"&&(md=window.Element);function Le(r){return function(e){return xo(e.theme,r)}}const qu="__floating-vue__popper",Jb=()=>ge({name:"VPopper",provide(){return{[qu]:{parentPopper:this}}},inject:{[qu]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Le("disabled")},positioningDisabled:{type:Boolean,default:Le("positioningDisabled")},placement:{type:String,default:Le("placement"),validator:r=>Kb.includes(r)},delay:{type:[String,Number,Object],default:Le("delay")},distance:{type:[Number,String],default:Le("distance")},skidding:{type:[Number,String],default:Le("skidding")},triggers:{type:Array,default:Le("triggers")},showTriggers:{type:[Array,Function],default:Le("showTriggers")},hideTriggers:{type:[Array,Function],default:Le("hideTriggers")},popperTriggers:{type:Array,default:Le("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Le("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Le("popperHideTriggers")},container:{type:[String,Object,md,Boolean],default:Le("container")},boundary:{type:[String,md],default:Le("boundary")},strategy:{type:String,validator:r=>["absolute","fixed"].includes(r),default:Le("strategy")},autoHide:{type:[Boolean,Function],default:Le("autoHide")},handleResize:{type:Boolean,default:Le("handleResize")},instantMove:{type:Boolean,default:Le("instantMove")},eagerMount:{type:Boolean,default:Le("eagerMount")},popperClass:{type:[String,Array,Object],default:Le("popperClass")},computeTransformOrigin:{type:Boolean,default:Le("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Le("autoMinSize")},autoSize:{type:[Boolean,String],default:Le("autoSize")},autoMaxSize:{type:Boolean,default:Le("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Le("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Le("preventOverflow")},overflowPadding:{type:[Number,String],default:Le("overflowPadding")},arrowPadding:{type:[Number,String],default:Le("arrowPadding")},arrowOverflow:{type:Boolean,default:Le("arrowOverflow")},flip:{type:Boolean,default:Le("flip")},shift:{type:Boolean,default:Le("shift")},shiftCrossAxis:{type:Boolean,default:Le("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Le("noAutoFocus")},disposeTimeout:{type:Number,default:Le("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":r=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(r=>r.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var r;return(r=this[qu])==null?void 0:r.parentPopper},hasPopperShowTriggerHover(){var r,e;return((r=this.popperTriggers)==null?void 0:r.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(r){r?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((r,e)=>(r[e]="$_computePosition",r),{})},created(){this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:r=null,skipDelay:e=!1,force:t=!1}={}){var s,i;(s=this.parentPopper)!=null&&s.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(t||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(r,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:r=null,skipDelay:e=!1}={}){var t;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((t=this.parentPopper)==null?void 0:t.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(r,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var r;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((r=this.referenceNode)==null?void 0:r.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const r={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&r.middleware.push(d3({mainAxis:this.distance,crossAxis:this.skidding}));const e=this.placement.startsWith("auto");if(e?r.middleware.push(l3({alignment:this.placement.split("-")[1]??""})):r.placement=this.placement,this.preventOverflow&&(this.shift&&r.middleware.push(f3({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!e&&this.flip&&r.middleware.push(c3({padding:this.overflowPadding,boundary:this.boundary}))),r.middleware.push(o3({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&r.middleware.push({name:"arrowOverflow",fn:({placement:s,rects:i,middlewareData:n})=>{let o;const{centerOffset:a}=n.arrow;return s.startsWith("top")||s.startsWith("bottom")?o=Math.abs(a)>i.reference.width/2:o=Math.abs(a)>i.reference.height/2,{data:{overflow:o}}}}),this.autoMinSize||this.autoSize){const s=this.autoSize?this.autoSize:this.autoMinSize?"min":null;r.middleware.push({name:"autoSize",fn:({rects:i,placement:n,middlewareData:o})=>{var a;if((a=o.autoSize)!=null&&a.skip)return{};let l,c;return n.startsWith("top")||n.startsWith("bottom")?l=i.reference.width:c=i.reference.height,this.$_innerNode.style[s==="min"?"minWidth":s==="max"?"maxWidth":"width"]=l!=null?`${l}px`:null,this.$_innerNode.style[s==="min"?"minHeight":s==="max"?"maxHeight":"height"]=c!=null?`${c}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,r.middleware.push(p3({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:s,availableHeight:i})=>{this.$_innerNode.style.maxWidth=s!=null?`${s}px`:null,this.$_innerNode.style.maxHeight=i!=null?`${i}px`:null}})));const t=await v3(this.$_referenceNode,this.$_popperNode,r);Object.assign(this.result,{x:t.x,y:t.y,placement:t.placement,strategy:t.strategy,arrow:{...t.middlewareData.arrow,...t.middlewareData.arrowOverflow}})},$_scheduleShow(r,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),ii&&this.instantMove&&ii.instantMove&&ii!==this.parentPopper){ii.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(r,e=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(ii=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(r){const e=this.delay;return parseInt(e&&e[r]||e||0)},async $_applyShow(r=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=r,!this.isShown&&(this.$_ensureTeleport(),await Yu(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([..._l(this.$_referenceNode),..._l(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),t=this.$_popperNode.querySelector(".v-popper__wrapper"),s=t.parentNode.getBoundingClientRect(),i=e.x+e.width/2-(s.left+t.offsetLeft),n=e.y+e.height/2-(s.top+t.offsetTop);this.result.transformOrigin=`${i}px ${n}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const r=this.showGroup;if(r){let e;for(let t=0;t<fr.length;t++)e=fr[t],e.showGroup!==r&&(e.hide(),e.$emit("close-group"))}fr.push(this),document.body.classList.add("v-popper--some-open");for(const e of fy(this.theme))vy(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await Yu(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(r=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=r,gy(fr,this),fr.length===0&&document.body.classList.remove("v-popper--some-open");for(const t of fy(this.theme)){const s=vy(t);gy(s,this),s.length===0&&document.body.classList.remove(`v-popper--some-open--${t}`)}ii===this&&(ii=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=this.disposeTimeout;e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await Yu(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let r=this.container;if(typeof r=="string"?r=window.document.querySelector(r):r===!1&&(r=this.$_targetNodes[0].parentNode),!r)throw new Error("No container for popover: "+this.container);r.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const r=t=>{this.isShown&&!this.$_hideInProgress||(t.usedByTooltip=!0,!this.$_preventShow&&this.show({event:t}))};this.$_registerTriggerListeners(this.$_targetNodes,py,this.triggers,this.showTriggers,r),this.$_registerTriggerListeners([this.$_popperNode],py,this.popperTriggers,this.popperShowTriggers,r);const e=t=>{t.usedByTooltip||this.hide({event:t})};this.$_registerTriggerListeners(this.$_targetNodes,my,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],my,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(r,e,t){this.$_events.push({targetNodes:r,eventType:e,handler:t}),r.forEach(s=>s.addEventListener(e,t,xn?{passive:!0}:void 0))},$_registerTriggerListeners(r,e,t,s,i){let n=t;s!=null&&(n=typeof s=="function"?s(n):s),n.forEach(o=>{const a=e[o];a&&this.$_registerEventListeners(r,a,i)})},$_removeEventListeners(r){const e=[];this.$_events.forEach(t=>{const{targetNodes:s,eventType:i,handler:n}=t;!r||r===i?s.forEach(o=>o.removeEventListener(i,n)):e.push(t)}),this.$_events=e},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(r,e=!1){this.$_showFrameLocked||(this.hide({event:r}),r.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(r,e){for(const t of this.$_targetNodes){const s=t.getAttribute(r);s&&(t.removeAttribute(r),t.setAttribute(e,s))}},$_applyAttrsToTarget(r){for(const e of this.$_targetNodes)for(const t in r){const s=r[t];s==null?e.removeAttribute(t):e.setAttribute(t,s)}},$_updateParentShownChildren(r){let e=this.parentPopper;for(;e;)r?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const r=this.$_referenceNode.getBoundingClientRect();if(no>=r.left&&no<=r.right&&oo>=r.top&&oo<=r.bottom){const e=this.$_popperNode.getBoundingClientRect(),t=no-Es,s=oo-Cs,i=e.left+e.width/2-Es+(e.top+e.height/2)-Cs+e.width+e.height,n=Es+t*i,o=Cs+s*i;return wa(Es,Cs,n,o,e.left,e.top,e.left,e.bottom)||wa(Es,Cs,n,o,e.left,e.top,e.right,e.top)||wa(Es,Cs,n,o,e.right,e.top,e.right,e.bottom)||wa(Es,Cs,n,o,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(Zb){const r=xn?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",e=>_y(e,!0),r),document.addEventListener("touchend",e=>by(e,!0),r)}else window.addEventListener("mousedown",r=>_y(r,!1),!0),window.addEventListener("click",r=>by(r,!1),!0);window.addEventListener("resize",x3)}function _y(r,e){if(_r.autoHideOnMousedown)Qb(r,e);else for(let t=0;t<fr.length;t++){const s=fr[t];try{s.mouseDownContains=s.popperNode().contains(r.target)}catch{}}}function by(r,e){_r.autoHideOnMousedown||Qb(r,e)}function Qb(r,e){const t={};for(let s=fr.length-1;s>=0;s--){const i=fr[s];try{const n=i.containsGlobalTarget=i.mouseDownContains||i.popperNode().contains(r.target);i.pendingHide=!1,requestAnimationFrame(()=>{if(i.pendingHide=!1,!t[i.randomId]&&xy(i,n,r)){if(i.$_handleGlobalClose(r,e),!r.closeAllPopover&&r.closePopover&&n){let a=i.parentPopper;for(;a;)t[a.randomId]=!0,a=a.parentPopper;return}let o=i.parentPopper;for(;o&&xy(o,o.containsGlobalTarget,r);)o.$_handleGlobalClose(r,e),o=o.parentPopper}})}catch{}}}function xy(r,e,t){return t.closeAllPopover||t.closePopover&&e||b3(r,t)&&!e}function b3(r,e){if(typeof r.autoHide=="function"){const t=r.autoHide(e);return r.lastAutoHide=t,t}return r.autoHide}function x3(){for(let r=0;r<fr.length;r++)fr[r].$_computePosition()}let Es=0,Cs=0,no=0,oo=0;typeof window<"u"&&window.addEventListener("mousemove",r=>{Es=no,Cs=oo,no=r.clientX,oo=r.clientY},xn?{passive:!0}:void 0);function wa(r,e,t,s,i,n,o,a){const l=((o-i)*(e-n)-(a-n)*(r-i))/((a-n)*(t-r)-(o-i)*(s-e)),c=((t-r)*(e-n)-(s-e)*(r-i))/((a-n)*(t-r)-(o-i)*(s-e));return l>=0&&l<=1&&c>=0&&c<=1}const T3={extends:Jb()},Kl=(r,e)=>{const t=r.__vccOpts||r;for(const[s,i]of e)t[s]=i;return t};function w3(r,e,t,s,i,n){return z(),Y("div",{ref:"reference",class:He(["v-popper",{"v-popper--shown":r.slotData.isShown}])},[Mt(r.$slots,"default",Lx(Mx(r.slotData)))],2)}const A3=Kl(T3,[["render",w3]]);function S3(){var r=window.navigator.userAgent,e=r.indexOf("MSIE ");if(e>0)return parseInt(r.substring(e+5,r.indexOf(".",e)),10);var t=r.indexOf("Trident/");if(t>0){var s=r.indexOf("rv:");return parseInt(r.substring(s+3,r.indexOf(".",s)),10)}var i=r.indexOf("Edge/");return i>0?parseInt(r.substring(i+5,r.indexOf(".",i)),10):-1}let Wa;function gd(){gd.init||(gd.init=!0,Wa=S3()!==-1)}var Jl={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){gd(),wo(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const r=document.createElement("object");this._resizeObject=r,r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex",-1),r.onload=this.addResizeHandlers,r.type="text/html",Wa&&this.$el.appendChild(r),r.data="about:blank",Wa||this.$el.appendChild(r)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Wa&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const E3=Ix();Px("data-v-b329ee4c");const C3={class:"resize-observer",tabindex:"-1"};Rx();const P3=E3((r,e,t,s,i,n)=>(z(),Te("div",C3)));Jl.render=P3;Jl.__scopeId="data-v-b329ee4c";Jl.__file="src/components/ResizeObserver.vue";const ex=(r="theme")=>({computed:{themeClass(){return _3(this[r])}}}),R3=ge({name:"VPopperContent",components:{ResizeObserver:Jl},mixins:[ex()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(r){return r!=null&&!isNaN(r)?`${r}px`:null}}}),I3=["id","aria-hidden","tabindex","data-popper-placement"],k3={ref:"inner",class:"v-popper__inner"},L3=X("div",{class:"v-popper__arrow-outer"},null,-1),M3=X("div",{class:"v-popper__arrow-inner"},null,-1),D3=[L3,M3];function O3(r,e,t,s,i,n){const o=Ut("ResizeObserver");return z(),Y("div",{id:r.popperId,ref:"popover",class:He(["v-popper__popper",[r.themeClass,r.classes.popperClass,{"v-popper__popper--shown":r.shown,"v-popper__popper--hidden":!r.shown,"v-popper__popper--show-from":r.classes.showFrom,"v-popper__popper--show-to":r.classes.showTo,"v-popper__popper--hide-from":r.classes.hideFrom,"v-popper__popper--hide-to":r.classes.hideTo,"v-popper__popper--skip-transition":r.skipTransition,"v-popper__popper--arrow-overflow":r.result&&r.result.arrow.overflow,"v-popper__popper--no-positioning":!r.result}]]),style:as(r.result?{position:r.result.strategy,transform:`translate3d(${Math.round(r.result.x)}px,${Math.round(r.result.y)}px,0)`}:void 0),"aria-hidden":r.shown?"false":"true",tabindex:r.autoHide?0:void 0,"data-popper-placement":r.result?r.result.placement:void 0,onKeyup:e[2]||(e[2]=kx(a=>r.autoHide&&r.$emit("hide"),["esc"]))},[X("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=a=>r.autoHide&&r.$emit("hide"))}),X("div",{class:"v-popper__wrapper",style:as(r.result?{transformOrigin:r.result.transformOrigin}:void 0)},[X("div",k3,[r.mounted?(z(),Y(et,{key:0},[X("div",null,[Mt(r.$slots,"default")]),r.handleResize?(z(),Te(o,{key:0,onNotify:e[1]||(e[1]=a=>r.$emit("resize",a))})):de("",!0)],64)):de("",!0)],512),X("div",{ref:"arrow",class:"v-popper__arrow-container",style:as(r.result?{left:r.toPx(r.result.arrow.x),top:r.toPx(r.result.arrow.y)}:void 0)},D3,4)],4)],46,I3)}const tx=Kl(R3,[["render",O3]]),rx={methods:{show(...r){return this.$refs.popper.show(...r)},hide(...r){return this.$refs.popper.hide(...r)},dispose(...r){return this.$refs.popper.dispose(...r)},onResize(...r){return this.$refs.popper.onResize(...r)}}};let yd=function(){};typeof window<"u"&&(yd=window.Element);const B3=ge({name:"VPopperWrapper",components:{Popper:A3,PopperContent:tx},mixins:[rx,ex("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,yd,Boolean],default:void 0},boundary:{type:[String,yd],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":r=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(r=>r!==this.$refs.popperContent.$el)}}});function F3(r,e,t,s,i,n){const o=Ut("PopperContent"),a=Ut("Popper");return z(),Te(a,pn({ref:"popper"},r.$props,{theme:r.finalTheme,"target-nodes":r.getTargetNodes,"popper-node":()=>r.$refs.popperContent.$el,class:[r.themeClass],onShow:e[0]||(e[0]=()=>r.$emit("show")),onHide:e[1]||(e[1]=()=>r.$emit("hide")),"onUpdate:shown":e[2]||(e[2]=l=>r.$emit("update:shown",l)),onApplyShow:e[3]||(e[3]=()=>r.$emit("apply-show")),onApplyHide:e[4]||(e[4]=()=>r.$emit("apply-hide")),onCloseGroup:e[5]||(e[5]=()=>r.$emit("close-group")),onCloseDirective:e[6]||(e[6]=()=>r.$emit("close-directive")),onAutoHide:e[7]||(e[7]=()=>r.$emit("auto-hide")),onResize:e[8]||(e[8]=()=>r.$emit("resize"))}),{default:Ge(({popperId:l,isShown:c,shouldMountContent:u,skipTransition:h,autoHide:d,show:f,hide:p,handleResize:m,onResize:g,classes:y,result:v})=>[Mt(r.$slots,"default",{shown:c,show:f,hide:p}),ce(o,{ref:"popperContent","popper-id":l,theme:r.finalTheme,shown:c,mounted:u,"skip-transition":h,"auto-hide":d,"handle-resize":m,classes:y,result:v,onHide:p,onResize:g},{default:Ge(()=>[Mt(r.$slots,"popper",{shown:c,hide:p})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const Ef=Kl(B3,[["render",F3]]),N3={...Ef,name:"VDropdown",vPopperTheme:"dropdown"},$3={...Ef,name:"VMenu",vPopperTheme:"menu"},U3={...Ef,name:"VTooltip",vPopperTheme:"tooltip"},j3=ge({name:"VTooltipDirective",components:{Popper:Jb(),PopperContent:tx},mixins:[rx],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:r=>xo(r.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:r=>xo(r.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(r){if(typeof this.content=="function"&&this.$_isShown&&(r||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,t=this.content(this);t.then?t.then(s=>this.onResult(e,s)):this.onResult(e,t)}},onResult(r,e){r===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),z3=["innerHTML"],H3=["textContent"];function G3(r,e,t,s,i,n){const o=Ut("PopperContent"),a=Ut("Popper");return z(),Te(a,pn({ref:"popper"},r.$attrs,{theme:r.theme,"target-nodes":r.targetNodes,"popper-node":()=>r.$refs.popperContent.$el,onApplyShow:r.onShow,onApplyHide:r.onHide}),{default:Ge(({popperId:l,isShown:c,shouldMountContent:u,skipTransition:h,autoHide:d,hide:f,handleResize:p,onResize:m,classes:g,result:y})=>[ce(o,{ref:"popperContent",class:He({"v-popper--tooltip-loading":r.loading}),"popper-id":l,theme:r.theme,shown:c,mounted:u,"skip-transition":h,"auto-hide":d,"handle-resize":p,classes:g,result:y,onHide:f,onResize:m},{default:Ge(()=>[r.html?(z(),Y("div",{key:0,innerHTML:r.finalContent},null,8,z3)):(z(),Y("div",{key:1,textContent:Ie(r.finalContent)},null,8,H3))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const V3=Kl(j3,[["render",G3]]),sx="v-popper--has-tooltip";function W3(r,e){let t=r.placement;if(!t&&e)for(const s of Kb)e[s]&&(t=s);return t||(t=xo(r.theme||"tooltip","placement")),t}function ix(r,e,t){let s;const i=typeof e;return i==="string"?s={content:e}:e&&i==="object"?s=e:s={content:!1},s.placement=W3(s,t),s.targetNodes=()=>[r],s.referenceNode=()=>r,s}let Zu,To,X3=0;function Y3(){if(Zu)return;To=Ee([]),Zu=Cy({name:"VTooltipDirectiveApp",setup(){return{directives:To}},render(){return this.directives.map(e=>Dx(V3,{...e.options,shown:e.shown||e.options.shown,key:e.id}))},devtools:{hide:!0}});const r=document.createElement("div");document.body.appendChild(r),Zu.mount(r)}function q3(r,e,t){Y3();const s=Ee(ix(r,e,t)),i=Ee(!1),n={id:X3++,options:s,shown:i};return To.value.push(n),r.classList&&r.classList.add(sx),r.$_popper={options:s,item:n,show(){i.value=!0},hide(){i.value=!1}}}function nx(r){if(r.$_popper){const e=To.value.indexOf(r.$_popper.item);e!==-1&&To.value.splice(e,1),delete r.$_popper,delete r.$_popperOldShown,delete r.$_popperMountTarget}r.classList&&r.classList.remove(sx)}function Ty(r,{value:e,modifiers:t}){const s=ix(r,e,t);if(!s.content||xo(s.theme||"tooltip","disabled"))nx(r);else{let i;r.$_popper?(i=r.$_popper,i.options.value=s):i=q3(r,e,t),typeof e.shown<"u"&&e.shown!==r.$_popperOldShown&&(r.$_popperOldShown=e.shown,e.shown?i.show():i.hide())}}const Z3={beforeMount:Ty,updated:Ty,beforeUnmount(r){nx(r)}};function wy(r){r.addEventListener("mousedown",bl),r.addEventListener("click",bl),r.addEventListener("touchstart",ox,xn?{passive:!0}:!1)}function Ay(r){r.removeEventListener("mousedown",bl),r.removeEventListener("click",bl),r.removeEventListener("touchstart",ox),r.removeEventListener("touchend",ax),r.removeEventListener("touchcancel",lx)}function bl(r){const e=r.currentTarget;r.closePopover=!e.$_vclosepopover_touch,r.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function ox(r){if(r.changedTouches.length===1){const e=r.currentTarget;e.$_vclosepopover_touch=!0;const t=r.changedTouches[0];e.$_vclosepopover_touchPoint=t,e.addEventListener("touchend",ax),e.addEventListener("touchcancel",lx)}}function ax(r){const e=r.currentTarget;if(e.$_vclosepopover_touch=!1,r.changedTouches.length===1){const t=r.changedTouches[0],s=e.$_vclosepopover_touchPoint;r.closePopover=Math.abs(t.screenY-s.screenY)<20&&Math.abs(t.screenX-s.screenX)<20,r.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function lx(r){const e=r.currentTarget;e.$_vclosepopover_touch=!1}const K3={beforeMount(r,{value:e,modifiers:t}){r.$_closePopoverModifiers=t,(typeof e>"u"||e)&&wy(r)},updated(r,{value:e,oldValue:t,modifiers:s}){r.$_closePopoverModifiers=s,e!==t&&(typeof e>"u"||e?wy(r):Ay(r))},beforeUnmount(r){Ay(r)}};function J3(r,e={}){r.$_vTooltipInstalled||(r.$_vTooltipInstalled=!0,qb(_r,e),r.directive("tooltip",Z3),r.directive("close-popper",K3),r.component("VTooltip",U3),r.component("VDropdown",N3),r.component("VMenu",$3))}const Q3={version:"5.2.2",install:J3,options:_r};async function eO({app:r},e){const t={};r.use(Q3,Object.assign(t,e.value.siteConfig.floatingVue||{}))}const tO=async({head:r,isClient:e})=>{e||r?.use(T1())},rO={intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy 模版"}},hi:{t:0,b:{t:2,i:[{t:3}],s:"你好，Valaxy"}}}},sO={intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy Template"}},hi:{t:0,b:{t:2,i:[{t:3}],s:"Hello, WORLD!"}}}},iO={valaxy_theme_yun:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy 主题 云"}},theme:{outlineTitle:{t:0,b:{t:2,i:[{t:3}],s:"本页"}}}},nO={valaxy_theme_yun:{t:0,b:{t:2,i:[{t:3}],s:"Valaxy Theme Yun"}},theme:{outlineTitle:{t:0,b:{t:2,i:[{t:3}],s:"On this page"}}}},oO={button:{about:{t:0,b:{t:2,i:[{t:3}],s:"关于"}},back:{t:0,b:{t:2,i:[{t:3}],s:"返回"}},go:{t:0,b:{t:2,i:[{t:3}],s:"确定"}},home:{t:0,b:{t:2,i:[{t:3}],s:"首页"}},toggle_light:{t:0,b:{t:2,i:[{t:3}],s:"切换亮色模式"}},toggle_dark:{t:0,b:{t:2,i:[{t:3}],s:"切换深色模式"}},toggle_langs:{t:0,b:{t:2,i:[{t:3}],s:"切换语言"}},appearance:{t:0,b:{t:2,i:[{t:3}],s:"外观"}}},intro:{desc:{t:0,b:{t:2,i:[{t:3}],s:"主题 Yun"}},hi:{t:0,b:{t:2,i:[{t:3,v:"你好，"},{t:4,k:"name"}]}}},"not-found":{t:0,b:{t:2,i:[{t:3}],s:"未找到页面"}},title:{archive:{t:0,b:{t:2,i:[{t:3}],s:"归档"}},category:{t:0,b:{t:2,i:[{t:3}],s:"分类"}},tag:{t:0,b:{t:2,i:[{t:3}],s:"标签"}},album:{t:0,b:{t:2,i:[{t:3}],s:"相册"}},gallery:{t:0,b:{t:2,i:[{t:3}],s:"图片库"}}},menu:{title:{t:0,b:{t:2,i:[{t:3}],s:"菜单"}},home:{t:0,b:{t:2,i:[{t:3}],s:"首页"}},archives:{t:0,b:{t:2,i:[{t:3}],s:"归档"}},categories:{t:0,b:{t:2,i:[{t:3}],s:"分类"}},tags:{t:0,b:{t:2,i:[{t:3}],s:"标签"}},posts:{t:0,b:{t:2,i:[{t:3}],s:"博客文章"}},collections:{t:0,b:{t:2,i:[{t:3}],s:"合集"}},about:{t:0,b:{t:2,i:[{t:3}],s:"关于"}},search:{t:0,b:{t:2,i:[{t:3}],s:"搜索"}}},sidebar:{overview:{t:0,b:{t:2,i:[{t:3}],s:"站点概览"}},toc:{t:0,b:{t:2,i:[{t:3}],s:"文章目录"}},return_top:{t:0,b:{t:2,i:[{t:3}],s:"返回顶部"}}},post:{decrypt:{t:0,b:{t:2,i:[{t:3}],s:"解密"}},posted:{t:0,b:{t:2,i:[{t:3}],s:"发表于"}},edited:{t:0,b:{t:2,i:[{t:3}],s:"更新于"}},created:{t:0,b:{t:2,i:[{t:3}],s:"创建时间"}},modified:{t:0,b:{t:2,i:[{t:3}],s:"修改时间"}},edit:{t:0,b:{t:2,i:[{t:3}],s:"编辑"}},more:{t:0,b:{t:2,i:[{t:3}],s:"更多"}},untitled:{t:0,b:{t:2,i:[{t:3}],s:"未命名"}},toc_empty:{t:0,b:{t:2,i:[{t:3}],s:"此文章未包含目录"}},pageview_count:{t:0,b:{t:2,i:[{t:3}],s:"阅读次数"}},comment_count:{t:0,b:{t:2,i:[{t:3}],s:"评论数"}},related_posts:{t:0,b:{t:2,i:[{t:3}],s:"相关文章"}},view_link:{t:0,b:{t:2,i:[{t:3}],s:"查看链接"}},read_more:{t:0,b:{t:2,i:[{t:3}],s:"阅读更多"}},cover:{t:0,b:{t:2,i:[{t:3}],s:"封面"}},time_warning:{t:0,b:{t:2,i:[{t:3,v:"本文最后更新于 "},{t:4,k:"ago"},{t:3,v:"，文中所描述的信息可能已发生改变。"}]}},copyright:{author:{t:0,b:{t:2,i:[{t:3}],s:"本文作者"}},link:{t:0,b:{t:2,i:[{t:3}],s:"本文链接"}},license_title:{t:0,b:{t:2,i:[{t:3}],s:"版权声明"}},license_content:{t:0,b:{t:2,i:[{t:3,v:"本博客所有文章除特别声明外，均默认采用 "},{t:5,i:0},{t:3,v:" 许可协议。"}]}}}},footer:{powered:{t:0,b:{t:2,i:[{t:3,v:"由 "},{t:5,i:0},{t:3,v:" 驱动"}]}},theme:{t:0,b:{t:2,i:[{t:3}],s:"主题"}},total_views:{t:0,b:{t:2,i:[{t:3}],s:"总访问量"}},total_visitors:{t:0,b:{t:2,i:[{t:3}],s:"总访客量"}}},counter:{archives:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"暂无文章"},{t:2,i:[{t:3}],s:"共计 1 篇文章"},{t:2,i:[{t:3,v:"共计 "},{t:4,k:"count"},{t:3,v:" 篇文章"}]}]}},categories:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"暂无分类"},{t:2,i:[{t:3}],s:"共计 1 个分类"},{t:2,i:[{t:3,v:"共计 "},{t:4,k:"count"},{t:3,v:" 个分类"}]}]}},tags:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"暂无标签"},{t:2,i:[{t:3}],s:"共计 1 个标签"},{t:2,i:[{t:3,v:"共计 "},{t:4,k:"count"},{t:3,v:" 个标签"}]}]}},albums:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"暂无相册"},{t:2,i:[{t:3}],s:"共计 1 个相册"},{t:2,i:[{t:3,v:"共计 "},{t:4,k:"count"},{t:3,v:" 个相册"}]}]}},photos:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"暂无照片"},{t:2,i:[{t:3}],s:"共计 1 张照片"},{t:2,i:[{t:3,v:"共计 "},{t:4,k:"count"},{t:3,v:" 张照片"}]}]}}},category:{uncategorized:{t:0,b:{t:2,i:[{t:3}],s:"未分类"}}},search:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"搜索..."}},empty:{t:0,b:{t:2,i:[{t:3,v:"找不到您查询的内容: "},{t:4,k:"query"}]}},hits_time:{t:0,b:{t:2,i:[{t:3,v:"找到 "},{t:4,k:"hits"},{t:3,v:" 条结果（用时 "},{t:4,k:"time"},{t:3,v:" 毫秒）"}]}},hits:{t:0,b:{t:2,i:[{t:3,v:"找到 "},{t:4,k:"count"},{t:3,v:" 条结果"}]}}},symbol:{comma:{t:0,b:{t:2,i:[{t:3}],s:"，"}},period:{t:0,b:{t:2,i:[{t:3}],s:"。"}},colon:{t:0,b:{t:2,i:[{t:3}],s:"："}}},reward:{donate:{t:0,b:{t:2,i:[{t:3}],s:"打赏"}}},accessibility:{back:{t:0,b:{t:2,i:[{t:3}],s:"返回"}}},statistics:{word:{t:0,b:{t:2,i:[{t:3}],s:"本文字数"}},word_total:{t:0,b:{t:2,i:[{t:3}],s:"站点总字数"}},time:{t:0,b:{t:2,i:[{t:3}],s:"阅读时长"}},time_total:{t:0,b:{t:2,i:[{t:3}],s:"站点总阅读时长"}}},time:{day:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 天"},{t:2,i:[{t:4,k:"count"},{t:3,v:" 天"}]}]}},hour:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 小时"},{t:2,i:[{t:4,k:"count"},{t:3,v:" 小时"}]}]}},minute:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 分"},{t:2,i:[{t:4,k:"count"},{t:3,v:" 分"}]}]}},second:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 秒"},{t:2,i:[{t:4,k:"count"},{t:3,v:" 秒"}]}]}}},tooltip:{last_updated:{t:0,b:{t:2,i:[{t:3}],s:"最后更新于"}}},blocks:{tip:{t:0,b:{t:2,i:[{t:3}],s:"提示"}},warning:{t:0,b:{t:2,i:[{t:3}],s:"注意"}},danger:{t:0,b:{t:2,i:[{t:3}],s:"警告"}},info:{t:0,b:{t:2,i:[{t:3}],s:"信息"}},details:{t:0,b:{t:2,i:[{t:3}],s:"详情"}}}},aO={button:{about:{t:0,b:{t:2,i:[{t:3}],s:"About"}},back:{t:0,b:{t:2,i:[{t:3}],s:"Back"}},go:{t:0,b:{t:2,i:[{t:3}],s:"GO"}},home:{t:0,b:{t:2,i:[{t:3}],s:"Home"}},toggle_light:{t:0,b:{t:2,i:[{t:3}],s:"Switch to light mode"}},toggle_dark:{t:0,b:{t:2,i:[{t:3}],s:"Switch to dark mode"}},toggle_langs:{t:0,b:{t:2,i:[{t:3}],s:"Change languages"}},appearance:{t:0,b:{t:2,i:[{t:3}],s:"Appearance"}}},intro:{desc:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Theme Yun"},{t:2,i:[{t:3}],s:"Valaxy"}]}},hi:{t:0,b:{t:2,i:[{t:3,v:"Hi, "},{t:4,k:"name"},{t:3,v:"!"}]}}},"not-found":{t:0,b:{t:2,i:[{t:3}],s:"Oops! Space collapsed!"}},title:{archive:{t:0,b:{t:2,i:[{t:3}],s:"Archive"}},category:{t:0,b:{t:2,i:[{t:3}],s:"Category"}},tag:{t:0,b:{t:2,i:[{t:3}],s:"Tag"}},album:{t:0,b:{t:2,i:[{t:3}],s:"Album"}},gallery:{t:0,b:{t:2,i:[{t:3}],s:"Gallery"}}},menu:{title:{t:0,b:{t:2,i:[{t:3}],s:"Menu"}},home:{t:0,b:{t:2,i:[{t:3}],s:"Home"}},archives:{t:0,b:{t:2,i:[{t:3}],s:"Archives"}},categories:{t:0,b:{t:2,i:[{t:3}],s:"Categories"}},tags:{t:0,b:{t:2,i:[{t:3}],s:"Tags"}},posts:{t:0,b:{t:2,i:[{t:3}],s:"Posts"}},collections:{t:0,b:{t:2,i:[{t:3}],s:"Collections"}},about:{t:0,b:{t:2,i:[{t:3}],s:"About"}},search:{t:0,b:{t:2,i:[{t:3}],s:"Search"}}},sidebar:{overview:{t:0,b:{t:2,i:[{t:3}],s:"Overview"}},toc:{t:0,b:{t:2,i:[{t:3}],s:"Table of Contents"}},return_top:{t:0,b:{t:2,i:[{t:3}],s:"Return to top"}}},post:{decrypt:{t:0,b:{t:2,i:[{t:3}],s:"DECRYPT"}},posted:{t:0,b:{t:2,i:[{t:3}],s:"Posted on "}},edited:{t:0,b:{t:2,i:[{t:3}],s:"Edited on "}},created:{t:0,b:{t:2,i:[{t:3}],s:"Created"}},modified:{t:0,b:{t:2,i:[{t:3}],s:"Modified"}},edit:{t:0,b:{t:2,i:[{t:3}],s:"Edit this post"}},more:{t:0,b:{t:2,i:[{t:3}],s:"more"}},untitled:{t:0,b:{t:2,i:[{t:3}],s:"Untitled"}},toc_empty:{t:0,b:{t:2,i:[{t:3}],s:"This post does not have a Table of Contents"}},pageview_count:{t:0,b:{t:2,i:[{t:3}],s:"Views"}},comment_count:{t:0,b:{t:2,i:[{t:3}],s:"Comments"}},related_posts:{t:0,b:{t:2,i:[{t:3}],s:"Related posts"}},view_link:{t:0,b:{t:2,i:[{t:3}],s:"View link"}},read_more:{t:0,b:{t:2,i:[{t:3}],s:"READ MORE"}},cover:{t:0,b:{t:2,i:[{t:3}],s:"Cover"}},time_warning:{t:0,b:{t:2,i:[{t:3,v:"This article was last updated "},{t:4,k:"ago"},{t:3,v:". The information described in this article may have changed."}]}},copyright:{author:{t:0,b:{t:2,i:[{t:3}],s:"Post author"}},link:{t:0,b:{t:2,i:[{t:3}],s:"Post link"}},license_title:{t:0,b:{t:2,i:[{t:3}],s:"Copyright Notice"}},license_content:{t:0,b:{t:2,i:[{t:3,v:"All articles in this blog are licensed under "},{t:5,i:0},{t:3,v:" unless otherwise stated."}]}}}},footer:{powered:{t:0,b:{t:2,i:[{t:3,v:"Powered by "},{t:5,i:0}]}},theme:{t:0,b:{t:2,i:[{t:3}],s:"Theme"}},total_views:{t:0,b:{t:2,i:[{t:3}],s:"Total Views"}},total_visitors:{t:0,b:{t:2,i:[{t:3}],s:"Total Visitors"}}},counter:{archives:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No posts"},{t:2,i:[{t:3}],s:"1 post"},{t:2,i:[{t:4,k:"count"},{t:3,v:" posts"}]}]}},categories:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No categories"},{t:2,i:[{t:3}],s:"1 category"},{t:2,i:[{t:4,k:"count"},{t:3,v:" categories"}]}]}},tags:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No tags"},{t:2,i:[{t:3}],s:"1 tag"},{t:2,i:[{t:4,k:"count"},{t:3,v:" tags"}]}]}},albums:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No album"},{t:2,i:[{t:3}],s:"1 album"},{t:2,i:[{t:4,k:"count"},{t:3,v:" albums"}]}]}},photos:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"No photo"},{t:2,i:[{t:3}],s:"1 photo"},{t:2,i:[{t:4,k:"count"},{t:3,v:" photos"}]}]}}},category:{uncategorized:{t:0,b:{t:2,i:[{t:3}],s:"Uncategorized"}}},search:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Searching..."}},empty:{t:0,b:{t:2,i:[{t:3,v:"We could not find any results for the search: "},{t:4,k:"query"},{t:3,v:"."}]}},hits_time:{t:0,b:{t:2,i:[{t:4,k:"hits"},{t:3,v:" results found in "},{t:4,k:"time"},{t:3,v:" ms"}]}},hits:{t:0,b:{t:2,i:[{t:4,k:"count"},{t:3,v:" results found"}]}}},symbol:{comma:{t:0,b:{t:2,i:[{t:3}],s:", "}},period:{t:0,b:{t:2,i:[{t:3}],s:". "}},colon:{t:0,b:{t:2,i:[{t:3}],s:": "}}},reward:{donate:{t:0,b:{t:2,i:[{t:3}],s:"Donate"}}},accessibility:{back:{t:0,b:{t:2,i:[{t:3}],s:"Back"}}},statistics:{word:{t:0,b:{t:2,i:[{t:3}],s:"Word count in article"}},word_total:{t:0,b:{t:2,i:[{t:3}],s:"Total words"}},time:{t:0,b:{t:2,i:[{t:3}],s:"Reading time"}},time_total:{t:0,b:{t:2,i:[{t:3}],s:"Total reading time"}}},time:{day:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Day"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Days"}]}]}},hour:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Hour"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Hours"}]}]}},minute:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Minute"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Minutes"}]}]}},second:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"1 Second"},{t:2,i:[{t:4,k:"count"},{t:3,v:" Seconds"}]}]}}},tooltip:{last_updated:{t:0,b:{t:2,i:[{t:3}],s:"Last updated"}}},blocks:{tip:{t:0,b:{t:2,i:[{t:3}],s:"TIP"}},warning:{t:0,b:{t:2,i:[{t:3}],s:"WARNING"}},danger:{t:0,b:{t:2,i:[{t:3}],s:"DANGER"}},info:{t:0,b:{t:2,i:[{t:3}],s:"INFO"}},details:{t:0,b:{t:2,i:[{t:3}],s:"DETAILS"}}}},qt={"zh-CN":{},en:{}},Rn=Ry((r,e,t)=>{if(e&&r[e]&&Array.isArray(r[e])&&Array.isArray(t))return r[e]=t,!0});qt.en=Rn(aO,qt.en);qt["zh-CN"]=Rn(oO,qt["zh-CN"]);qt.en=Rn(nO,qt.en);qt["zh-CN"]=Rn(iO,qt["zh-CN"]);qt.en=Rn(sO,qt.en);qt["zh-CN"]=Rn(rO,qt["zh-CN"]);const Sy=Jx({locale:"",messages:qt,missingWarn:!1});async function lO({app:r,router:e},t){const s=jd("valaxy-locale",t?.value.siteConfig.lang||"en");Sy.global.locale.value=s.value,r.use(Sy),e.isReady().then(()=>{})}function cO(r,e){const t=r;YD(r),lO(r,e),tO(r),e1(r),t1(r),eO(r,e),$D(t)}const vd=FT(),{redirectRoutes:uO,useVueRouter:hO}=vd.value.runtimeConfig.redirects;hO&&Ad.push(...uO);Ad.forEach(r=>{r?.children?.forEach(e=>{e.path=encodeURI(e.path)})});function cx(r){return r.filter(e=>(e.children&&(e.children=cx(e.children)),!e.meta?.frontmatter?.draft))}const dO=DE(cx(Ad));jE($M,{routes:dO,base:"/",scrollBehavior(r,e){if(r.path!==e.path)return{top:0}}},r=>{const{app:e,router:t}=r,s=UM(t);e.provide(OT,s),e.use(Nx,{router:t}),e.provide(nv,vd),cO(r,vd)});export{fe as $,Ev as A,SO as B,EO as C,wO as D,Gf as E,hs as F,ky as G,i1 as H,Fr as I,Po as J,Eo as K,CO as L,MO as M,bw as N,IO as O,tE as P,IC as Q,OO as R,Re as S,st as T,xr as U,is as V,Me as W,Ye as X,ko as Y,nf as Z,Io as _,DO as a,U0 as a0,Yt as a1,IR as a2,pe as a3,_0 as a4,qI as a5,ci as a6,ae as a7,MT as b,LE as c,kT as d,FS as e,BS as f,kl as g,JS as h,Wr as i,AO as j,lv as k,oE as l,Tt as m,$d as n,PO as o,Xs as p,Kt as q,EE as r,LO as s,TE as t,ms as u,xE as v,Kd as w,kO as x,TO as y,RO as z};
